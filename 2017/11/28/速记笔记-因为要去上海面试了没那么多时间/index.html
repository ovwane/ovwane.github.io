<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>幻舞梦境</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="0165017101830188019301970209024702610313TCP/UDP 端口号（1~65535)TCP三次握手1、Client to Server Syn=1,Seq=02、Server to Client Syn=1,Ack=1,Seq=03、Client to Server Ack=1，Se">
<meta property="og:type" content="article">
<meta property="og:title" content="幻舞梦境">
<meta property="og:url" content="http://ovwane.me/2017/11/28/速记笔记-因为要去上海面试了没那么多时间/index.html">
<meta property="og:site_name" content="幻舞梦境">
<meta property="og:description" content="0165017101830188019301970209024702610313TCP/UDP 端口号（1~65535)TCP三次握手1、Client to Server Syn=1,Seq=02、Server to Client Syn=1,Ack=1,Seq=03、Client to Server Ack=1，Seq=Seq+1 三次握手之后tcp状态变成established。 TCP四次挥">
<meta property="og:updated_time" content="2017-11-28T10:23:17.648Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="幻舞梦境">
<meta name="twitter:description" content="0165017101830188019301970209024702610313TCP/UDP 端口号（1~65535)TCP三次握手1、Client to Server Syn=1,Seq=02、Server to Client Syn=1,Ack=1,Seq=03、Client to Server Ack=1，Seq=Seq+1 三次握手之后tcp状态变成established。 TCP四次挥">
  
    <link rel="alternative" href="/atom.xml" title="幻舞梦境" type="application/atom+xml">
  
  
    <link rel="icon" href="/img/favicon.png">
  
  
      <link rel="stylesheet" href="//cdn.bootcss.com/animate.css/3.5.0/animate.min.css">
  
  <link rel="stylesheet" href="/css/style.css">
  <link rel="stylesheet" href="/font-awesome/css/font-awesome.min.css">
  <link rel="apple-touch-icon" href="/apple-touch-icon.png">
  
  
      <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  
  <!-- 加载特效 -->
    <script src="/js/pace.js"></script>
    <link href="/css/pace/pace-theme-flash.css" rel="stylesheet" />
  <script>
      var yiliaConfig = {
          rootUrl: '/',
          fancybox: true,
          animate: true,
          isHome: false,
          isPost: true,
          isArchive: false,
          isTag: false,
          isCategory: false,
          open_in_new: false
      }
  </script>
</head>
<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
    <header id="header" class="inner">
        <a href="/" class="profilepic">
            
            <img lazy-src="/img/head.jpg" class="js-avatar">
            
        </a>

        <hgroup>
          <h1 class="header-author"><a href="/" title="Hi Mate">幻舞梦境</a></h1>
        </hgroup>

        
        
        
            <div id="switch-btn" class="switch-btn">
                <div class="icon">
                    <div class="icon-ctn">
                        <div class="icon-wrap icon-house" data-idx="0">
                            <div class="birdhouse"></div>
                            <div class="birdhouse_holes"></div>
                        </div>
                        <div class="icon-wrap icon-ribbon hide" data-idx="1">
                            <div class="ribbon"></div>
                        </div>
                        
                        <div class="icon-wrap icon-link hide" data-idx="2">
                            <div class="loopback_l"></div>
                            <div class="loopback_r"></div>
                        </div>
                        
                        
                        <div class="icon-wrap icon-me hide" data-idx="3">
                            <div class="user"></div>
                            <div class="shoulder"></div>
                        </div>
                        
                    </div>
                    
                </div>
                <div class="tips-box hide">
                    <div class="tips-arrow"></div>
                    <ul class="tips-inner">
                        <li>菜单</li>
                        <li>标签</li>
                        
                        <li>友情链接</li>
                        
                        
                        <li>关于我</li>
                        
                    </ul>
                </div>
            </div>
        

        <div id="switch-area" class="switch-area">
            <div class="switch-wrap">
                <section class="switch-part switch-part1">
                    <nav class="header-menu">
                        <ul>
                        
                            <li><a href="/Home">博客首页</a></li>
                        
                            <li><a href="/works">作品展示</a></li>
                        
                            <li><a href="/about">留言打卡</a></li>
                        
                            <li><a href="/FrontEndGuide">前端导航</a></li>
                        
                        </ul>
                    </nav>
                    <nav class="header-nav">
                        <ul class="social">
                            
                                <a class="fl mail" target="_blank" href="http://mail.qq.com/cgi-bin/qm_share?t=qm_mailme&email=PAkNDgsKBQ4MCnxNTRJfU1E" title="mail">mail</a>
                            
                                <a class="fl github" target="_blank" href="https://github.com/luuman" title="github">github</a>
                            
                                <a class="fl zhihu" target="_blank" href="#" title="zhihu">zhihu</a>
                            
                                <a class="fl weibo" target="_blank" href="#" title="weibo">weibo</a>
                            
                                <a class="fl google" target="_blank" href="#" title="google">google</a>
                            
                                <a class="fl twitter" target="_blank" href="#" title="twitter">twitter</a>
                            
                                <a class="fl linkedin" target="_blank" href="#" title="linkedin">linkedin</a>
                            
                        </ul>
                    </nav>
                </section>
                
                
                <section class="switch-part switch-part2">
                    <div class="widget tagcloud" id="js-tagcloud">
                        <a href="/tags/Ansible/" style="font-size: 11.43px;">Ansible</a> <a href="/tags/Bind/" style="font-size: 10px;">Bind</a> <a href="/tags/Cacti/" style="font-size: 10px;">Cacti</a> <a href="/tags/CentOS/" style="font-size: 20px;">CentOS</a> <a href="/tags/Cobbler/" style="font-size: 10px;">Cobbler</a> <a href="/tags/DHCP/" style="font-size: 10px;">DHCP</a> <a href="/tags/Django/" style="font-size: 12.86px;">Django</a> <a href="/tags/Docker/" style="font-size: 10px;">Docker</a> <a href="/tags/Elasticsearch/" style="font-size: 10px;">Elasticsearch</a> <a href="/tags/Git/" style="font-size: 10px;">Git</a> <a href="/tags/Gitlab/" style="font-size: 11.43px;">Gitlab</a> <a href="/tags/HAProxy/" style="font-size: 10px;">HAProxy</a> <a href="/tags/Hexo/" style="font-size: 10px;">Hexo</a> <a href="/tags/Homebrew/" style="font-size: 10px;">Homebrew</a> <a href="/tags/JDK/" style="font-size: 10px;">JDK</a> <a href="/tags/Jenkins/" style="font-size: 12.86px;">Jenkins</a> <a href="/tags/KVM/" style="font-size: 10px;">KVM</a> <a href="/tags/Kubernetes/" style="font-size: 10px;">Kubernetes</a> <a href="/tags/Linux/" style="font-size: 12.86px;">Linux</a> <a href="/tags/MariaDB/" style="font-size: 10px;">MariaDB</a> <a href="/tags/MySQL/" style="font-size: 10px;">MySQL</a> <a href="/tags/NFS/" style="font-size: 10px;">NFS</a> <a href="/tags/Nagios/" style="font-size: 10px;">Nagios</a> <a href="/tags/Nginx/" style="font-size: 17.14px;">Nginx</a> <a href="/tags/Oh-My-Zsh/" style="font-size: 10px;">Oh My Zsh</a> <a href="/tags/OpenLDAP/" style="font-size: 10px;">OpenLDAP</a> <a href="/tags/OpenStack/" style="font-size: 10px;">OpenStack</a> <a href="/tags/PHP/" style="font-size: 11.43px;">PHP</a> <a href="/tags/PXE/" style="font-size: 10px;">PXE</a> <a href="/tags/Python/" style="font-size: 15.71px;">Python</a> <a href="/tags/RHEL7/" style="font-size: 10px;">RHEL7</a> <a href="/tags/Redis/" style="font-size: 10px;">Redis</a> <a href="/tags/Requests/" style="font-size: 10px;">Requests</a> <a href="/tags/Resin/" style="font-size: 10px;">Resin</a> <a href="/tags/Samba/" style="font-size: 10px;">Samba</a> <a href="/tags/Scrapy/" style="font-size: 11.43px;">Scrapy</a> <a href="/tags/Scrapyd/" style="font-size: 10px;">Scrapyd</a> <a href="/tags/SpiderKeeper/" style="font-size: 10px;">SpiderKeeper</a> <a href="/tags/Squid/" style="font-size: 10px;">Squid</a> <a href="/tags/Supervisor/" style="font-size: 10px;">Supervisor</a> <a href="/tags/Tomcat/" style="font-size: 14.29px;">Tomcat</a> <a href="/tags/Ubuntu/" style="font-size: 10px;">Ubuntu</a> <a href="/tags/Web/" style="font-size: 10px;">Web</a> <a href="/tags/Xadmin/" style="font-size: 10px;">Xadmin</a> <a href="/tags/Zabbix/" style="font-size: 10px;">Zabbix</a> <a href="/tags/cacti/" style="font-size: 10px;">cacti</a> <a href="/tags/dovecot/" style="font-size: 10px;">dovecot</a> <a href="/tags/httpd/" style="font-size: 11.43px;">httpd</a> <a href="/tags/iSCSI/" style="font-size: 10px;">iSCSI</a> <a href="/tags/k8s/" style="font-size: 10px;">k8s</a> <a href="/tags/kickstart/" style="font-size: 10px;">kickstart</a> <a href="/tags/macOS/" style="font-size: 14.29px;">macOS</a> <a href="/tags/nagios/" style="font-size: 10px;">nagios</a> <a href="/tags/postfix/" style="font-size: 10px;">postfix</a> <a href="/tags/rsync/" style="font-size: 10px;">rsync</a> <a href="/tags/sshd/" style="font-size: 10px;">sshd</a> <a href="/tags/uWSGI/" style="font-size: 10px;">uWSGI</a> <a href="/tags/vsftpd/" style="font-size: 10px;">vsftpd</a> <a href="/tags/zabbix/" style="font-size: 10px;">zabbix</a> <a href="/tags/历史/" style="font-size: 18.57px;">历史</a> <a href="/tags/情感/" style="font-size: 10px;">情感</a> <a href="/tags/监控/" style="font-size: 12.86px;">监控</a> <a href="/tags/自己/" style="font-size: 10px;">自己</a> <a href="/tags/运维/" style="font-size: 10px;">运维</a>
                    </div>
                </section>
                
                
                
                <section class="switch-part switch-part3">
                    <div id="js-friends">
                    
                      <a target="_blank" class="main-nav-link switch-friends-link" href="http://luuman.github.io/">name</a>
                    
                    </div>
                </section>
                

                
                
                <section class="switch-part switch-part4">
                
                    <div id="js-aboutme">纯海迷、爱运动、爱交友、爱旅行、喜欢接触新鲜事物、迎接新的挑战，更爱游离于错综复杂的编码与逻辑中</div>
                </section>
                
            </div>
        </div>
    </header>                
</div>
    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
      <div class="overlay">
          <div class="slider-trigger"></div>
          <h1 class="header-author js-mobile-header hide"><a href="/" title="Me">幻舞梦境</a></h1>
      </div>
    <div class="intrude-less">
        <header id="header" class="inner">
            <a href="/" class="profilepic">
                
                    <img lazy-src="/img/head.jpg" class="js-avatar">
                
            </a>
            <hgroup>
              <h1 class="header-author"><a href="/" title="Me">幻舞梦境</a></h1>
            </hgroup>
            
            <nav class="header-menu">
                <ul>
                
                    <li><a href="/Home">博客首页</a></li>
                
                    <li><a href="/works">作品展示</a></li>
                
                    <li><a href="/about">留言打卡</a></li>
                
                    <li><a href="/FrontEndGuide">前端导航</a></li>
                
                <div class="clearfix"></div>
                </ul>
            </nav>
            <nav class="header-nav">
                <div class="social">
                    
                        <a class="mail" target="_blank" href="http://mail.qq.com/cgi-bin/qm_share?t=qm_mailme&email=PAkNDgsKBQ4MCnxNTRJfU1E" title="mail">mail</a>
                    
                        <a class="github" target="_blank" href="https://github.com/luuman" title="github">github</a>
                    
                        <a class="zhihu" target="_blank" href="#" title="zhihu">zhihu</a>
                    
                        <a class="weibo" target="_blank" href="#" title="weibo">weibo</a>
                    
                        <a class="google" target="_blank" href="#" title="google">google</a>
                    
                        <a class="twitter" target="_blank" href="#" title="twitter">twitter</a>
                    
                        <a class="linkedin" target="_blank" href="#" title="linkedin">linkedin</a>
                    
                </div>
            </nav>
        </header>                
    </div>
</nav>
      <div class="body-wrap"><article id="post-速记笔记-因为要去上海面试了没那么多时间" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2017/11/28/速记笔记-因为要去上海面试了没那么多时间/" class="article-date">
      <time datetime="2017-11-28T10:23:17.648Z" itemprop="datePublished">2017-11-28</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h1 id="0165"><a href="#0165" class="headerlink" title="0165"></a>0165</h1><h1 id="0171"><a href="#0171" class="headerlink" title="0171"></a>0171</h1><h1 id="0183"><a href="#0183" class="headerlink" title="0183"></a>0183</h1><h1 id="0188"><a href="#0188" class="headerlink" title="0188"></a>0188</h1><h1 id="0193"><a href="#0193" class="headerlink" title="0193"></a>0193</h1><h1 id="0197"><a href="#0197" class="headerlink" title="0197"></a>0197</h1><h1 id="0209"><a href="#0209" class="headerlink" title="0209"></a>0209</h1><h1 id="0247"><a href="#0247" class="headerlink" title="0247"></a>0247</h1><h1 id="0261"><a href="#0261" class="headerlink" title="0261"></a>0261</h1><h1 id="0313"><a href="#0313" class="headerlink" title="0313"></a>0313</h1><p>TCP/UDP 端口号（1~65535)<br>TCP三次握手<br>1、Client to Server Syn=1,Seq=0<br>2、Server to Client Syn=1,Ack=1,Seq=0<br>3、Client to Server Ack=1，Seq=Seq+1</p>
<p>三次握手之后tcp状态变成established。</p>
<p>TCP四次挥手<br>1、主机A fin=1,seq=seq<br>2、主机B seq=seq,ack=主机A的seq+1<br>3、主机B 数据传输完毕，fin=1，seq=seq<br>4、主机A seq=seq，ack=主机B的seq+1</p>
<p>TCP的11种状态</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">三次握手涉及的状态</span><br><span class="line">CLOSED、SYN_SENT、SYN_RCVD、ESTABLISHED</span><br><span class="line"></span><br><span class="line">四次挥手涉及的状态</span><br><span class="line">FIN_WAIT1、CLOSE_WAIT、FIN_WAIT2、LAST_ACK、TIME_WAIT</span><br><span class="line"></span><br><span class="line">CLOSING</span><br></pre></td></tr></table></figure>
<p>tcp三次握手的状态<br>1、一开始，建立连接之前服务器和客户端的状态都是CLOSED。<br>2、服务器创建socket后开始监听，变成LISTEN状态。<br>3、客户端请求建立连接，向服务器发送syn报文，客户端的状态变为SYN_SENT。<br>4、服务器收到客户端的报文后向客户端发送ACK和SYN报文，此时服务器状态变为SYN——RCVD。<br>5、客户端收到服务器的ACK和SYN报文，就向服务器发送ACK报文，客户端状态变成ESTABLISHED。</p>
<p>tcp四次断开的状态<br>1、客户端先向服务器发送FIN报文，请求断开连接，其状态变成FIN_WAIT1。<br>2、服务器收到客户端FIN报文后，服务器向客户端发送ACK报文，服务器状态变为CLOSE_WAIT。<br>3、客户端收到服务器ACK报文后，进入FIN_WAIT2状态，此时连接已经断开一半了。如果服务器还有数据发送给客户端，就会继续发送。<br>4、服务器发送数据完成后，就发送FIN报文给客户端，服务器状态变为LAST_ACK状态。<br>5、客户端收到服务器的FIN报文，马上发送ACK报文给服务器，此时客户端进入TIME_WAIT状态。<br>6、客服端等待2MSL长的时间后进入CLOSED状态。服务器收到客户端的ACK报文就进入COLSED状态。</p>
<p>CLOSING状态<br>1、客户端向服务器发送FIN报文，没有收到服务器的ACK报文，直接收到了服务器的FIN报文。然后客户端状态变成CLOSING状态。</p>
<blockquote>
<p>这种情况发生在服务器发送ACK丢报的时候，因为网络传输有时会有意外。</p>
</blockquote>
<p>socket socket的五元组<br>源ip<br>源端口<br>目标ip<br>目标端口<br>tcp/udp</p>
<h1 id="0314"><a href="#0314" class="headerlink" title="0314"></a>0314</h1><h2 id="ARP"><a href="#ARP" class="headerlink" title="ARP"></a>ARP</h2><h1 id="0317"><a href="#0317" class="headerlink" title="0317"></a>0317</h1><h1 id="0325"><a href="#0325" class="headerlink" title="0325"></a>0325</h1><h1 id="0326"><a href="#0326" class="headerlink" title="0326"></a>0326</h1><h1 id="0327"><a href="#0327" class="headerlink" title="0327"></a>0327</h1><p>作为linux运维，打开网站服务器访问慢，如何排错</p>
<h1 id="0328"><a href="#0328" class="headerlink" title="0328"></a>0328</h1><p>局域网机器无法上网如何解决？<br>硬件 IP DNS<br>ping 域名 确认 dns 浏览器问题<br>ping ip网关 确认物理链路问题<br>查看IP<br>网卡 网线<br>交换机环路</p>
<blockquote>
<p>1、态度<br>2、技术</p>
</blockquote>
<h1 id="0329"><a href="#0329" class="headerlink" title="0329"></a>0329</h1><p>网站访问速度慢</p>
<p>网站带宽问题<br>服务器CPU过高<br>内容资源过大<br>用户的带宽问题<br>网站代码问题<br>南北互联<br>网站遭受攻击</p>
<p>1、自己把自己当作用户去测试</p>
<p>网络没问题</p>
<p>查看服务器服务 连接数，负载高。CPU高，IO高</p>
<p>带宽问题</p>
<p>网站调用别的第三方服务慢</p>
<p>用户的线路和服务器线路不同</p>
<p>集群架构问题</p>
<p>Web服务器问题<br>数据库问题<br>存储问题</p>
<h1 id="0331"><a href="#0331" class="headerlink" title="0331"></a>0331</h1><p>tcp/ip协议<br>http协议<br>机器无法上网<br>网站打开慢<br>dns解析</p>
<p>OSI 7层 TCP/IP 四层</p>
<p>如何查看已知端口被占用的服务名城</p>
<p>route 如何添加一个网络路由</p>
<blockquote>
<p>解答要专业、规范</p>
</blockquote>
<h1 id="0332"><a href="#0332" class="headerlink" title="0332"></a>0332</h1><h1 id="0340"><a href="#0340" class="headerlink" title="0340"></a>0340</h1><h1 id="0356"><a href="#0356" class="headerlink" title="0356"></a>0356</h1><h1 id="0394"><a href="#0394" class="headerlink" title="0394"></a>0394</h1><h1 id="0395"><a href="#0395" class="headerlink" title="0395"></a>0395</h1><h1 id="0442"><a href="#0442" class="headerlink" title="0442"></a>0442</h1><h2 id="expect"><a href="#expect" class="headerlink" title="expect"></a>expect</h2><p>非交互式功能实战<br><a href="http://oldboy.blog.51cto.com/256140/1205715" target="_blank" rel="noopener">轻松实现远程批量拷贝文件脚本（女学生作品）</a></p>
<h2 id="安装expect"><a href="#安装expect" class="headerlink" title="安装expect"></a>安装expect</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install expect</span><br></pre></td></tr></table></figure>
<h2 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h2><p>创建用户<br>生成密钥<br>分发密钥</p>
<p>ssh-keygen -t dsa -P ‘’ -f ~/.ssh/id_dsa &gt;/dev/null 2&gt;&amp;1</p>
<p>vi fenfa_sshkey.exp<br>spawn ssh-copy-id -i<br>expect</p>
<h2 id="实现把脚本当前目录下的文件拷贝到所有服务器的任意目录"><a href="#实现把脚本当前目录下的文件拷贝到所有服务器的任意目录" class="headerlink" title="实现把脚本当前目录下的文件拷贝到所有服务器的任意目录"></a>实现把脚本当前目录下的文件拷贝到所有服务器的任意目录</h2><p>下面是来自老男孩培训初级第14期第六节课的批量分发管理服务器课程的女学生的作品（详细注释）<br>在大多数男同学还在迷糊的时候，该女同学已经完整的读懂并注释了全部的脚本，老男孩非常感慨，大家都有此努力的学习态度何愁运维不牛呢？<br>脚本内容及注释如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">[binzai@ssh-server scripts]$ cat fenfa_host.sh   #→实现把脚本当前目录下的文件拷贝到所有服务器的任意目录</span><br><span class="line">#!/bin/sh</span><br><span class="line">. /etc/init.d/functions</span><br><span class="line">file=&quot;$1&quot;   #→传参文件</span><br><span class="line">remote_dir=&quot;$2&quot;   #→远程服务器目录</span><br><span class="line">if [ $# -ne 2 ];then      #→如果传的参数不等于2个，那么就打印如下报错信息。</span><br><span class="line">#→ $#：获取当前shell命令行中的参数的总个数</span><br><span class="line">#→ -ne：不等于</span><br><span class="line">echo &quot;usage:$0 argv1 argv2&quot;</span><br><span class="line">#→$0：首个参数（fenfa_host.sh）</span><br><span class="line">echo &quot;must have two argvs.&quot;</span><br><span class="line">exit</span><br><span class="line">fi</span><br><span class="line">for ip in $(cat /home/binzai/scripts/all_iplist.txt)</span><br><span class="line">#→$()：在脚本里引用全局变量</span><br><span class="line">do</span><br><span class="line">scp -P22 -r -p $file binzai@$ip:~ &gt;/dev/null 2&gt;&amp;1 &amp;&amp;\</span><br><span class="line">#→将hosts文件传到binzai家目录下，如果没有传递过去，将丢弃到/dev/null</span><br><span class="line">ssh -p 22 -t binzai@$ip sudo rsync -avz -P $file $remote_dir &gt;/dev/null 2&gt;&amp;1</span><br><span class="line">#→通过ssh通道执行sudo命令将hosts文件拷贝到/etc目录下</span><br><span class="line">if [ $? -eq 0 ];then   #→如果上次执行结果返回值等于0，则执行OK。如果不等于0，则执行NO</span><br><span class="line">#→$?：上次执行结果的返回值</span><br><span class="line">#→-eq：等于</span><br><span class="line">action &quot;$ip is successful.&quot; /bin/true</span><br><span class="line">else</span><br><span class="line">action &quot;$ip is failure.&quot; /bin/false</span><br><span class="line">fi</span><br><span class="line">done</span><br><span class="line">‍</span><br></pre></td></tr></table></figure>
<p>补充shell变量知识：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$0 获取当前执行的shell脚本的文件名，包括路径</span><br><span class="line">$n 获取当前执行的shell脚本的第n个参数值，n=1..9，当n为0时表示脚本的文件名，如果n大于9用大括号括起来 &#123;10&#125;</span><br><span class="line">$* 获取当前shell的所有参数，将所有的命令行参数视为单个字符串，相当于“$1$2$3”…….注意与$#的区别</span><br><span class="line">$# 获取当前shell命令行中参数的总个数</span><br><span class="line">$@ 这个程序的所有参数”$1” “$2” “$3” “……” ，这是将参数传递给其他程序的最佳方式，因为他会保留所有内嵌在每个参数里的任何空白。</span><br><span class="line">$? 是上次执行结果的返回值</span><br><span class="line">0是正确，非0是错误</span><br><span class="line">$()是引用全局命令（在脚本里面引用命令）</span><br></pre></td></tr></table></figure>
<p>执行效果：</p>
<p>老男孩老师补充：<br>1）以上为基础的脚本，没什么难度，主要是感慨下学生的努力态度。<br>2）本脚本需要借助SSH KEY或者补充expect实现。</p>
<h2 id="这是一个无需做任何配置一键就实现批量分发密钥和文件的脚本："><a href="#这是一个无需做任何配置一键就实现批量分发密钥和文件的脚本：" class="headerlink" title="这是一个无需做任何配置一键就实现批量分发密钥和文件的脚本："></a>这是一个无需做任何配置一键就实现批量分发密钥和文件的脚本：</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/bash</span><br><span class="line"># this scripts comes from oldboy trainning&apos;s student.</span><br><span class="line"># e_mail:70271111@qq.com</span><br><span class="line"># qqinfo:49000448</span><br><span class="line"># function: remote dis ssh key.</span><br><span class="line"># version:1.1</span><br><span class="line">################################################</span><br><span class="line"># oldboy trainning info.</span><br><span class="line"># QQ 80042789 70271111</span><br><span class="line"># site:http://www.etiantian.org</span><br><span class="line"># blog:http://oldboy.blog.51cto.com</span><br><span class="line"># oldboy trainning QQ group: 208160987 45039636</span><br><span class="line">################################################</span><br><span class="line">. /etc/init.d/functions</span><br><span class="line">file=&quot;$1&quot;</span><br><span class="line">remote_dir=&quot;$2&quot;</span><br><span class="line">if [[ $# -ne 2 ]];then</span><br><span class="line">echo  &quot;usage:$0 argv2&quot;</span><br><span class="line">echo &quot;must have one argvs&quot;</span><br><span class="line">exit</span><br><span class="line">fi</span><br><span class="line">function KNOWN_HOST_REBUILD()</span><br><span class="line">&#123;</span><br><span class="line">#确保本机存在known_hosts列表</span><br><span class="line">[ ! -e ~/.ssh/known_hosts ] &amp;&amp; mkdir -p ~/.ssh/ &amp;&amp; touch ~/.ssh/known_hosts</span><br><span class="line">local i=$1</span><br><span class="line">sed -i &quot;/^$&#123;i&#125; /d&quot; ~/.ssh/known_hosts</span><br><span class="line">expect -c &quot;</span><br><span class="line">spawn /usr/bin/ssh oldboy@$&#123;i&#125; echo ok;</span><br><span class="line">expect \&quot;*yes/no)?\&quot;;</span><br><span class="line">send \&quot;yes\r\&quot;;</span><br><span class="line">expect eof &quot; &gt;/dev/null 2&gt;&amp;1</span><br><span class="line">return 0</span><br><span class="line">[[ $? -ne 0 ]] &amp;&amp; echo &quot;$i know host rebuild fail,maybe the server connect error&quot;</span><br><span class="line">&#125;</span><br><span class="line">function PASS_PASSWD()</span><br><span class="line">&#123;</span><br><span class="line">ip=$1</span><br><span class="line">expect -c &quot;</span><br><span class="line">set timeout -1</span><br><span class="line">spawn ssh-copy-id -i id_dsa oldboy@$ip</span><br><span class="line">expect \&quot;*password:\&quot;</span><br><span class="line">send \&quot;oldboy123\r\&quot;</span><br><span class="line">expect eof&quot; &gt;/dev/null 2&gt;&amp;1</span><br><span class="line">&#125;</span><br><span class="line">function FENFA_id_dsa()</span><br><span class="line">&#123;</span><br><span class="line">for ip in `awk &apos;/^[^#]/&#123;print $1&#125;&apos; all_client.txt`</span><br><span class="line">do</span><br><span class="line">KNOWN_HOST_REBUILD $ip</span><br><span class="line">PASS_PASSWD $ip</span><br><span class="line">if [[ $? -eq 0 ]];then</span><br><span class="line">action &quot;$ip send id_dsa is successful&quot; /bin/true</span><br><span class="line">else</span><br><span class="line">action &quot;$ip send id_dsa is failed copied&quot; /bin/false</span><br><span class="line">fi</span><br><span class="line">done</span><br><span class="line">&#125;</span><br><span class="line">function FENFA_config()</span><br><span class="line">&#123;</span><br><span class="line">for ip in `awk &apos;/^[^#]/&#123;print $1&#125;&apos; all_client.txt`</span><br><span class="line">do</span><br><span class="line">port=$(grep $ip all_client.txt|awk &apos;&#123;print $2&#125;&apos;)</span><br><span class="line">scp -P$&#123;port&#125; -r -p $&#123;file&#125; oldboy@$&#123;ip&#125;:~ &gt;/dev/null 2&gt;&amp;1 &amp;&amp; \</span><br><span class="line">ssh -p$&#123;port&#125; -t oldboy@$ip sudo rsync ~/`basename $&#123;file&#125;` $remote_dir &gt;/dev/null 2&gt;&amp;1</span><br><span class="line">if [[ $? -eq 0 ]];then</span><br><span class="line">action &quot;$ip send $file is successful!!&quot; /bin/true</span><br><span class="line">else</span><br><span class="line">action &quot;$ip send $file is failed!!&quot; /bin/false</span><br><span class="line">fi</span><br><span class="line">done</span><br><span class="line">&#125;</span><br><span class="line">FENFA_id_dsa</span><br><span class="line">FENFA_config</span><br></pre></td></tr></table></figure>
<h1 id="0445"><a href="#0445" class="headerlink" title="0445"></a>0445</h1><h2 id="如何一键自动化期中50台规模集群网站搭建"><a href="#如何一键自动化期中50台规模集群网站搭建" class="headerlink" title="如何一键自动化期中50台规模集群网站搭建"></a>如何一键自动化期中50台规模集群网站搭建</h2><p>搭建yum仓库、ntp时间同步服务器<br>定制rpm包</p>
<h3 id="1-运维班方案-sshkey-expect"><a href="#1-运维班方案-sshkey-expect" class="headerlink" title="1.运维班方案 sshkey expect"></a>1.运维班方案 sshkey expect</h3><p>1.kickstart无人值守安装linux系统（自动创建用户、密码、优化）<br>2.分发机上创建密钥对、批量分发公钥（expect）<br>3.写安装部署及优化脚本、批量分发到各个服务器上，远程执行安装。</p>
<h3 id="2-高级架构师班-cobbler-saltstack"><a href="#2-高级架构师班-cobbler-saltstack" class="headerlink" title="2.高级架构师班 cobbler saltstack"></a>2.高级架构师班 cobbler saltstack</h3><p>1.cobbler无人值守安装linux系统（自动创建用户、密码、优化、salt客户端）<br>2.服务端salt上，创建认证，写配置来批量安装管理各个节点服务器应用。</p>
<h3 id="3-高级架构师班-kvm-openstack"><a href="#3-高级架构师班-kvm-openstack" class="headerlink" title="3.高级架构师班 kvm openstack"></a>3.高级架构师班 kvm openstack</h3><p>1.kvm虚拟化、根据不同的业务提前做好镜像（linux基础优化、salt客户端）<br>2.通过云计算工具openstack管理镜像，批量生成五个虚拟机。<br>3.服务端salt上，创建认证，写配置来批量安装管理各个节点服务器应用。</p>
<h3 id="4-高级架构师班-docker"><a href="#4-高级架构师班-docker" class="headerlink" title="4.高级架构师班 docker"></a>4.高级架构师班 docker</h3><h1 id="0446"><a href="#0446" class="headerlink" title="0446"></a>0446</h1><h2 id="自动化运维工具"><a href="#自动化运维工具" class="headerlink" title="自动化运维工具"></a>自动化运维工具</h2><p>0）业务需求分析<br>1）机房设备上下架<br>    1.弹性<br>    2.扩展性<br>    3.充分利用资源 80%以下 雪崩效应</p>
<p>2）系统初始化<br>3）应用环境初始化<br>4）应用的部署（调试、配置） saltstack ansible<br>5）业务代码发布 jenkins + ant + svn 灰度发布 集群<br>6）服务监控 应用监控 系统监控 硬件监控 zabbix<br>7）业务数据备份 </p>
<h1 id="0447"><a href="#0447" class="headerlink" title="0447"></a>0447</h1><h2 id="自动化发展的阶段"><a href="#自动化发展的阶段" class="headerlink" title="自动化发展的阶段"></a>自动化发展的阶段</h2><p>1）标准化<br>    目录标准化 /data/wwwroot /usr/loca/nginx</p>
<p>2）文档化<br>    宕机 应对方案</p>
<p>3）工具化</p>
<p>web化 工具平台化 CMBD API 开发要日志给他接口API就行。</p>
<p>服务化</p>
<p>智能化 AIOps</p>
<h1 id="0453"><a href="#0453" class="headerlink" title="0453"></a>0453</h1><h2 id="web服务基础"><a href="#web服务基础" class="headerlink" title="web服务基础"></a>web服务基础</h2><p>用户访问网站基本流程</p>
<p>打开浏览器<br>输入域名DNS<br>网站web服务器<br>返回数据给用户</p>
<h1 id="0454"><a href="#0454" class="headerlink" title="0454"></a>0454</h1><p>企业真实场景面试题：</p>
<p>1、用户访问网站流程框架<br>2、DNS解析原理<br>3、tcp/ip 三次握手原理<br>4、http协议原理（www服务的请求过程）请求细节，报文细节！<br>5、大规模网站集群架构细节<br>6、http协议原理（www服务器的响应过程）响应报文细节！<br>7、tcp/ip四次挥手过程原理</p>
<h1 id="0471"><a href="#0471" class="headerlink" title="0471"></a>0471</h1><h1 id="0478"><a href="#0478" class="headerlink" title="0478"></a>0478</h1><p>pv ip 并发</p>
<h1 id="0479"><a href="#0479" class="headerlink" title="0479"></a>0479</h1><p>如何理解并发</p>
<p>静态网站<br>Apache httpd 2.2 2.4<br>Nginx 1.6.2 1.13.3 Tenginx<br>Lighttpd</p>
<p>动态网站<br>PHP fastcgi Apache mod_php<br>tomcat 7.0 8.0<br>resin 3.0 3.1 4.0<br>IIS</p>
<blockquote>
<p>Python 比较火</p>
</blockquote>
<h1 id="0480"><a href="#0480" class="headerlink" title="0480"></a>0480</h1><p><a href="http://oldboy.blog.51cto.com/2561410/1731320" target="_blank" rel="noopener">要不要考认证</a></p>
<blockquote>
<p>学历是铜牌<br>能力是银牌<br>人脉是金牌<br>思维是王牌</p>
</blockquote>
<h1 id="0481"><a href="#0481" class="headerlink" title="0481"></a>0481</h1><p>日期：20160505</p>
<p>企业真实场景面试题：<br>1、描述从浏览器打开<a href="http://blog.oldboyedu.com地址回车发送请求看到页面的过程？" target="_blank" rel="noopener">http://blog.oldboyedu.com地址回车发送请求看到页面的过程？</a></p>
<p>笔试就画出来、</p>
<p>1、DNS ttl 递归 迭代<br>2、TCP 三次连接握手<br>HTTP 请求报文 get post http 1.1 http2.0<br>TCP 四次挥手 fin ack 服务的 fin ack time_wait</p>
<h1 id="0483"><a href="#0483" class="headerlink" title="0483"></a>0483</h1><p>用户访问网站流程框架<br>1、DNS解析原理<br>2、tcp/ip三次握手（tcp的11种状态）<br>3、http协议原理请求get post http协议<br>4、大规模服务器集群架构细节<br>5、hhtp协议原理响应过程<br>6、tcp/ip四次挥手</p>
<p><a href="http://edu.csdn.net/course/detail/2278" target="_blank" rel="noopener">亿级PV超大型网站集群架构图形化深度揭秘讲解</a></p>
<blockquote>
<p>象棋与运维的碰撞</p>
</blockquote>
<h1 id="0484"><a href="#0484" class="headerlink" title="0484"></a>0484</h1><h2 id="成功-信念（目标）-价值观（方法）-努力（行动）-坚持"><a href="#成功-信念（目标）-价值观（方法）-努力（行动）-坚持" class="headerlink" title="成功=信念（目标）+价值观（方法）+努力（行动）+坚持"></a>成功=信念（目标）+价值观（方法）+努力（行动）+坚持</h2><h1 id="0485"><a href="#0485" class="headerlink" title="0485"></a>0485</h1><h1 id="0491"><a href="#0491" class="headerlink" title="0491"></a>0491</h1><h1 id="0523"><a href="#0523" class="headerlink" title="0523"></a>0523</h1><h2 id="LNMP环境应用实践"><a href="#LNMP环境应用实践" class="headerlink" title="LNMP环境应用实践"></a>LNMP环境应用实践</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">locatin ~* \.php$&#123;&#125;</span><br><span class="line">	fastcgi_pass ip:9000</span><br></pre></td></tr></table></figure>
<p>nginx 通过fastcgi请求php解析php页面</p>
<h1 id="0524"><a href="#0524" class="headerlink" title="0524"></a>0524</h1><p>MySQL简介</p>
<h1 id="0525"><a href="#0525" class="headerlink" title="0525"></a>0525</h1><p>yum<br>二进制</p>
<p>MySQL 5.6 AliSQL 5.6</p>
<h1 id="0526"><a href="#0526" class="headerlink" title="0526"></a>0526</h1><p>MySQL 安装方式</p>
<p>二进制安装包<br>源码</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">ls</span><br><span class="line">mysql.tar.gz mysql.tar.gz.md5</span><br><span class="line"></span><br><span class="line">md5sum -c mysql.tar.gz</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">#创建mysql用户名</span><br><span class="line">useradd -s /sbin/nologin mysql -M</span><br><span class="line">mysql——install_db --basedir --datadir --user</span><br><span class="line">mysqld_safe</span><br><span class="line"></span><br><span class="line">lsof -i :3306</span><br><span class="line"></span><br><span class="line">PATH=&quot;/app/mysql/bin:$PATH&quot;</span><br><span class="line">echo &quot;export PATH=/app/mysql/bin:$PATH&quot; &gt;&gt;/etc/profile</span><br></pre></td></tr></table></figure>
<h1 id="0527"><a href="#0527" class="headerlink" title="0527"></a>0527</h1><p>mysql数据库安装步骤总结</p>
<p>修改mysql 密码</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mysqladmin -uroot password &quot;oldboy&quot;</span><br><span class="line">mysqladmin -uroot -p password &quot;oldboy&quot;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>你用行动做了很多第一次，所以难忘。</p>
</blockquote>
<h1 id="0528"><a href="#0528" class="headerlink" title="0528"></a>0528</h1><p>常见故障</p>
<blockquote>
<p>推我、鼓励我、说我</p>
</blockquote>
<h1 id="0529"><a href="#0529" class="headerlink" title="0529"></a>0529</h1><p>FastCGI</p>
<p>CGI通用网关接口</p>
<p>FastCGI接口 socket：文件socket，IP socket</p>
<p>LNMP运行过程和解析原理</p>
<blockquote>
<p>架构师有销售能力<br>让一个人痛苦的能力就是你营销的能力！</p>
</blockquote>
<h1 id="0530"><a href="#0530" class="headerlink" title="0530"></a>0530</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">netstat -lntup|egrep &quot;nginx|mysql&quot;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">lib库 -devel的包</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">zlib gd freetype libpng libxml libcurl libconv libmcrypt mhash</span><br></pre></td></tr></table></figure>
<h1 id="0531"><a href="#0531" class="headerlink" title="0531"></a>0531</h1><p>源码编译安装php<br>–enable-fpm<br>–with-fpm-user=www</p>
<p>ldconfig</p>
<p>make -j</p>
<h1 id="0532"><a href="#0532" class="headerlink" title="0532"></a>0532</h1><p>php.ini php-fpm.ini<br>sbin/php-fpm</p>
<h1 id="0533"><a href="#0533" class="headerlink" title="0533"></a>0533</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">location ~ .*\,(php|php5)?$ &#123;</span><br><span class="line">	root html/blog;</span><br><span class="line">	fastcgi_pass 127.0.0.1:9000;</span><br><span class="line">	fastcgi_index index.php;</span><br><span class="line">	include fastcgi.conf;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;php</span><br><span class="line">	phpinfo();</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;php</span><br><span class="line">	$link_id=mysql_connect(&apos;localhost&apos;,&apos;root&apos;,&apos;oldboy&apos;) or mysql_error();</span><br><span class="line">	if($link_id)&#123;</span><br><span class="line">		echo &quot;mysql successful by oldboy!&quot;;</span><br><span class="line">	else</span><br><span class="line">		echo mysql_error();</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>
<h1 id="0535"><a href="#0535" class="headerlink" title="0535"></a>0535</h1><p>mysql 语句</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">system whoami；</span><br><span class="line"></span><br><span class="line">grant all on *.* to wordpress@&apos;localhost&apos; identified by &apos;123456&apos;；</span><br><span class="line">select user from mysql.user;</span><br><span class="line">show grant for wordpress@&apos;localhost&apos;;</span><br><span class="line">flush privileges;</span><br></pre></td></tr></table></figure>
<p>bo-blog<br>wordpress<br>discuz</p>
<h1 id="0536"><a href="#0536" class="headerlink" title="0536"></a>0536</h1><p>总结</p>
<p>wordpress 网址静态化</p>
<h1 id="0537"><a href="#0537" class="headerlink" title="0537"></a>0537</h1><p>日期：20160517</p>
<p>主机名</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">负载均衡 lb01 </span><br><span class="line">负载均衡 lb02</span><br><span class="line">web服务 web01</span><br><span class="line">web服务 web02</span><br><span class="line">数据库主 dbm01</span><br><span class="line">文件系统 nfs01</span><br><span class="line">备份 backup01</span><br><span class="line">监控 跳板机 m01</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">mysql -uroot -p wordpress &lt;bak.sql </span><br><span class="line">mysql -uroot -p -e “show databases like &apos;wordpress&apos;;&quot;</span><br><span class="line"></span><br><span class="line">grant all on wordpress.* to wordpress@&apos;172.16.1.%&apos; identified by &apos;123456&apos;;</span><br><span class="line">#修改数据库信息 </span><br><span class="line">vi wp-config.php</span><br><span class="line"></span><br><span class="line">use wordpress;</span><br><span class="line">show tables;</span><br><span class="line">select * from old_post\G;</span><br></pre></td></tr></table></figure>
<h1 id="0538"><a href="#0538" class="headerlink" title="0538"></a>0538</h1><p>将blog的资源文件迁移到nfs</p>
<h1 id="0555"><a href="#0555" class="headerlink" title="0555"></a>0555</h1><p>nginx 负载均衡</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">upstream server_pools &#123;</span><br><span class="line">	ip_hash;</span><br><span class="line">	server 10.0.0.7:80 weight=1;</span><br><span class="line">	server 10.0.0.8:80 weight=1;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="0556"><a href="#0556" class="headerlink" title="0556"></a>0556</h1><p>架构需求</p>
<p>架构设想</p>
<p>架构计划清单</p>
<p>架构逻辑图</p>
<p>硬件及IP规划</p>
<p>软件规划<br>    统一软件类型<br>    统一软件版本<br>    统一配置文件</p>
<p>必备lib和其他工具<br>    编译安装<br>    yum安装<br>    工具</p>
<p>目录规划</p>
<p>用户规划</p>
<p>自动化部署心脏—分发服务器</p>
<p>用数据说话—有图有真相<br>    shell脚本<br>    expect脚本<br>    python脚本</p>
<p>自动部署标准流程图</p>
<p>架构展望—怎么优化，更高效，更快速</p>
<blockquote>
<p>相信自己，不要给自己设限。<br>——李扬 2015-03-19</p>
</blockquote>
<h1 id="0557"><a href="#0557" class="headerlink" title="0557"></a>0557</h1>
      
      
        <div class="page-reward">
          <p><a href="javascript:void(0)" onclick="dashangToggle()" class="dashang">赏</a></p>
          <div class="hide_box"></div>
          <div class="shang_box">
            <a class="shang_close" href="javascript:void(0)" onclick="dashangToggle()">×</a>
            <div class="shang_tit">
              <p>纯属好玩</p>
            </div>
            <div class="shang_payimg">
              <img src="/img/alipayimg.jpg" alt="扫码支持" title="扫一扫" />
            </div>
              <div class="pay_explain">扫码打赏，你说多少就多少</div>
            <div class="shang_payselect">
              
                <div class="pay_item checked" data-id="alipay">
                  <span class="radiobox"></span>
                  <span class="pay_logo"><img src="/img/alipay.png" alt="支付宝" /></span>
                </div>
              
              
                <div class="pay_item" data-id="wechat">
                  <span class="radiobox"></span>
                  <span class="pay_logo"><img src="/img/weixin.png" alt="微信" /></span>
                </div>
              
            </div>
            <div class="shang_info">
              <p>打开<span id="shang_pay_txt">支付宝</span>扫一扫，即可进行扫码打赏哦</p>
            </div>
          </div>
        </div>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/zepto/1.2.0/zepto.min.js"></script>
        <script type="text/javascript">
          $(".pay_item").click(function(){
            $(this).addClass('checked').siblings('.pay_item').removeClass('checked');
            var dataid=$(this).attr('data-id');
            $(".shang_payimg img").attr("src","/img/"+dataid+"img.jpg");
            $("#shang_pay_txt").text(dataid=="alipay"?"支付宝":"微信");
          });
          function dashangToggle(){
            
            $(".hide_box").fadeToggle();
            $(".shang_box").fadeToggle();
          }
        </script>
      
    </div>
    
  </div>
  
    
    <div class="copyright">
        <p><span>本文标题:</span><a href="/2017/11/28/速记笔记-因为要去上海面试了没那么多时间/"></a></p>
        <p><span>文章作者:</span><a href="/" title="访问 幻舞梦境 的个人博客">幻舞梦境</a></p>
        <p><span>发布时间:</span>2017年11月28日 - 10时23分</p>
        <p><span>最后更新:</span>2017年11月28日 - 10时23分</p>
        <p>
            <span>原始链接:</span><a class="post-url" href="/2017/11/28/速记笔记-因为要去上海面试了没那么多时间/" title="">http://ovwane.me/2017/11/28/速记笔记-因为要去上海面试了没那么多时间/</a>
            <span class="copy-path" data-clipboard-text="原文: http://ovwane.me/2017/11/28/速记笔记-因为要去上海面试了没那么多时间/　　作者: 幻舞梦境" title="点击复制文章链接"><i class="fa fa-clipboard"></i></span>
            <script src="/js/clipboard.min.js"></script>
            <script> var clipboard = new Clipboard('.copy-path'); </script>
        </p>
        <p>
            <span>许可协议:</span><i class="fa fa-creative-commons"></i> <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/cn/" title="中国大陆 (CC BY-NC-SA 3.0 CN)" target = "_blank">"署名-非商用-相同方式共享 3.0"</a> 转载请保留原文链接及作者。
        </p>
    </div>



<nav id="article-nav">
  
  
    <a href="/2017/11/28/老男孩Linux培训第28期笔记101-200/" id="article-nav-older" class="article-nav-link-wrap">
      <div class="article-nav-title"></div>
      <strong class="article-nav-caption">></strong>
    </a>
  
</nav>

  
</article>

    <div id="toc" class="toc-article">
    <strong class="toc-title">文章目录</strong>
    <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#0165"><span class="toc-number">1.</span> <span class="toc-text">0165</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#0171"><span class="toc-number">2.</span> <span class="toc-text">0171</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#0183"><span class="toc-number">3.</span> <span class="toc-text">0183</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#0188"><span class="toc-number">4.</span> <span class="toc-text">0188</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#0193"><span class="toc-number">5.</span> <span class="toc-text">0193</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#0197"><span class="toc-number">6.</span> <span class="toc-text">0197</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#0209"><span class="toc-number">7.</span> <span class="toc-text">0209</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#0247"><span class="toc-number">8.</span> <span class="toc-text">0247</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#0261"><span class="toc-number">9.</span> <span class="toc-text">0261</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#0313"><span class="toc-number">10.</span> <span class="toc-text">0313</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#0314"><span class="toc-number">11.</span> <span class="toc-text">0314</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#ARP"><span class="toc-number">11.1.</span> <span class="toc-text">ARP</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#0317"><span class="toc-number">12.</span> <span class="toc-text">0317</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#0325"><span class="toc-number">13.</span> <span class="toc-text">0325</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#0326"><span class="toc-number">14.</span> <span class="toc-text">0326</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#0327"><span class="toc-number">15.</span> <span class="toc-text">0327</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#0328"><span class="toc-number">16.</span> <span class="toc-text">0328</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#0329"><span class="toc-number">17.</span> <span class="toc-text">0329</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#0331"><span class="toc-number">18.</span> <span class="toc-text">0331</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#0332"><span class="toc-number">19.</span> <span class="toc-text">0332</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#0340"><span class="toc-number">20.</span> <span class="toc-text">0340</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#0356"><span class="toc-number">21.</span> <span class="toc-text">0356</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#0394"><span class="toc-number">22.</span> <span class="toc-text">0394</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#0395"><span class="toc-number">23.</span> <span class="toc-text">0395</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#0442"><span class="toc-number">24.</span> <span class="toc-text">0442</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#expect"><span class="toc-number">24.1.</span> <span class="toc-text">expect</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#安装expect"><span class="toc-number">24.2.</span> <span class="toc-text">安装expect</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#使用"><span class="toc-number">24.3.</span> <span class="toc-text">使用</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#实现把脚本当前目录下的文件拷贝到所有服务器的任意目录"><span class="toc-number">24.4.</span> <span class="toc-text">实现把脚本当前目录下的文件拷贝到所有服务器的任意目录</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#这是一个无需做任何配置一键就实现批量分发密钥和文件的脚本："><span class="toc-number">24.5.</span> <span class="toc-text">这是一个无需做任何配置一键就实现批量分发密钥和文件的脚本：</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#0445"><span class="toc-number">25.</span> <span class="toc-text">0445</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#如何一键自动化期中50台规模集群网站搭建"><span class="toc-number">25.1.</span> <span class="toc-text">如何一键自动化期中50台规模集群网站搭建</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-运维班方案-sshkey-expect"><span class="toc-number">25.1.1.</span> <span class="toc-text">1.运维班方案 sshkey expect</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-高级架构师班-cobbler-saltstack"><span class="toc-number">25.1.2.</span> <span class="toc-text">2.高级架构师班 cobbler saltstack</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-高级架构师班-kvm-openstack"><span class="toc-number">25.1.3.</span> <span class="toc-text">3.高级架构师班 kvm openstack</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-高级架构师班-docker"><span class="toc-number">25.1.4.</span> <span class="toc-text">4.高级架构师班 docker</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#0446"><span class="toc-number">26.</span> <span class="toc-text">0446</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#自动化运维工具"><span class="toc-number">26.1.</span> <span class="toc-text">自动化运维工具</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#0447"><span class="toc-number">27.</span> <span class="toc-text">0447</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#自动化发展的阶段"><span class="toc-number">27.1.</span> <span class="toc-text">自动化发展的阶段</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#0453"><span class="toc-number">28.</span> <span class="toc-text">0453</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#web服务基础"><span class="toc-number">28.1.</span> <span class="toc-text">web服务基础</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#0454"><span class="toc-number">29.</span> <span class="toc-text">0454</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#0471"><span class="toc-number">30.</span> <span class="toc-text">0471</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#0478"><span class="toc-number">31.</span> <span class="toc-text">0478</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#0479"><span class="toc-number">32.</span> <span class="toc-text">0479</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#0480"><span class="toc-number">33.</span> <span class="toc-text">0480</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#0481"><span class="toc-number">34.</span> <span class="toc-text">0481</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#0483"><span class="toc-number">35.</span> <span class="toc-text">0483</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#0484"><span class="toc-number">36.</span> <span class="toc-text">0484</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#成功-信念（目标）-价值观（方法）-努力（行动）-坚持"><span class="toc-number">36.1.</span> <span class="toc-text">成功=信念（目标）+价值观（方法）+努力（行动）+坚持</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#0485"><span class="toc-number">37.</span> <span class="toc-text">0485</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#0491"><span class="toc-number">38.</span> <span class="toc-text">0491</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#0523"><span class="toc-number">39.</span> <span class="toc-text">0523</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#LNMP环境应用实践"><span class="toc-number">39.1.</span> <span class="toc-text">LNMP环境应用实践</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#0524"><span class="toc-number">40.</span> <span class="toc-text">0524</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#0525"><span class="toc-number">41.</span> <span class="toc-text">0525</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#0526"><span class="toc-number">42.</span> <span class="toc-text">0526</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#0527"><span class="toc-number">43.</span> <span class="toc-text">0527</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#0528"><span class="toc-number">44.</span> <span class="toc-text">0528</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#0529"><span class="toc-number">45.</span> <span class="toc-text">0529</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#0530"><span class="toc-number">46.</span> <span class="toc-text">0530</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#0531"><span class="toc-number">47.</span> <span class="toc-text">0531</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#0532"><span class="toc-number">48.</span> <span class="toc-text">0532</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#0533"><span class="toc-number">49.</span> <span class="toc-text">0533</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#0535"><span class="toc-number">50.</span> <span class="toc-text">0535</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#0536"><span class="toc-number">51.</span> <span class="toc-text">0536</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#0537"><span class="toc-number">52.</span> <span class="toc-text">0537</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#0538"><span class="toc-number">53.</span> <span class="toc-text">0538</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#0555"><span class="toc-number">54.</span> <span class="toc-text">0555</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#0556"><span class="toc-number">55.</span> <span class="toc-text">0556</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#0557"><span class="toc-number">56.</span> <span class="toc-text">0557</span></a></li></ol>
</div>
<input type="button" id="tocButton" value="隐藏目录"  title="点击按钮隐藏或者显示文章目录">

<script src="https://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js"></script>
<script>
    var valueHide = "隐藏目录";
    var valueShow = "显示目录";

    if ($(".left-col").is(":hidden")) {
        $("#tocButton").attr("value", valueShow);
    }
    $("#tocButton").click(function() {
        if ($("#toc").is(":hidden")) {
            $("#tocButton").attr("value", valueHide);
            $("#toc").slideDown(320);
        }
        else {
            $("#tocButton").attr("value", valueShow);
            $("#toc").slideUp(350);
        }
    })
    if ($(".toc").length < 1) {
        $("#toc, #tocButton").hide();
    }
</script>





<div class="bdsharebuttonbox">
	<a href="#" class="fx fa-weibo bds_tsina" data-cmd="tsina" title="分享到新浪微博"></a>
	<a href="#" class="fx fa-weixin bds_weixin" data-cmd="weixin" title="分享到微信"></a>
	<a href="#" class="fx fa-qq bds_sqq" data-cmd="sqq" title="分享到QQ好友"></a>
	<a href="#" class="fx fa-facebook-official bds_fbook" data-cmd="fbook" title="分享到Facebook"></a>
	<a href="#" class="fx fa-twitter bds_twi" data-cmd="twi" title="分享到Twitter"></a>
	<a href="#" class="fx fa-linkedin bds_linkedin" data-cmd="linkedin" title="分享到linkedin"></a>
	<a href="#" class="fx fa-files-o bds_copy" data-cmd="copy" title="分享到复制网址"></a>
</div>
<script>window._bd_share_config={"common":{"bdSnsKey":{},"bdText":"","bdMini":"2","bdMiniList":false,"bdPic":"","bdStyle":"2","bdSize":"24"},"share":{}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];</script>




    
        <div id="gitments"></div>
<script src="/js/gitment.browser.js"></script>
<script>
    var gitment = new Gitment({
      id: window.location.pathname,
      owner: 'luuman',
      repo: 'luuman.github.io',
      oauth: {
        client_id: '',
        client_secret: '',
      },
    })
    gitment.render('gitments')
</script>
    



    <div class="scroll" id="post-nav-button">
        
            <a href="/" title="回到主页"><i class="fa fa-home"></i></a>
        
        <a title="文章列表"><i class="fa fa-bars"></i><i class="fa fa-times"></i></a>
        
            <a href="/2017/11/28/老男孩Linux培训第28期笔记101-200/" title="下一篇: ">
                <i class="fa fa-angle-right"></i>
            </a>
        
    </div>
    <ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2017/11/28/速记笔记-因为要去上海面试了没那么多时间/">速记笔记-因为要去上海面试了没那么多时间</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/11/28/老男孩Linux培训第28期笔记101-200/">老男孩Linux培训第28期笔记101-200</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/11/28/老男孩Linux培训第28期笔记201-300/">老男孩Linux培训第28期笔记201-300</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/11/28/老男孩Linux培训第28期笔记301-400/">老男孩Linux培训第28期笔记301-400</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/11/28/老男孩Linux培训第28期笔记401-565/">老男孩Linux培训第28期笔记401-565</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/11/28/Python/">Python</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/11/28/Vim安装配置/">Vim安装配置</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/11/28/crawl_spider 环境配置/">crawl_spider 环境配置</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/11/28/hello-world/">Hello World</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/11/23/Python爬虫学习实践笔记/">Python爬虫学习实践笔记</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/11/18/老男孩教育高级架构师12期的副本/">老男孩教育高级架构师12期</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/11/18/老男孩教育高级架构师12期的副本 7/">老男孩教育高级架构师12期</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/11/18/老男孩教育高级架构师12期-云计算实践/">老男孩教育高级架构师12期</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/11/18/老男孩教育高级架构师12期-Saltstack/">老男孩教育高级架构师12期</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/11/18/老男孩教育高级架构师12期的副本 4/">老男孩教育高级架构师12期</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/11/18/老男孩教育高级架构师12期的副本 10/">老男孩教育高级架构师12期</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/11/18/老男孩教育高级架构师12期的副本 5/">老男孩教育高级架构师12期</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/11/18/老男孩教育高级架构师12期的副本 6/">老男孩教育高级架构师12期</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/11/18/老男孩教育高级架构师12期的副本 8/">老男孩教育高级架构师12期</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/11/18/老男孩教育高级架构师12期的副本 9/">老男孩教育高级架构师12期</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/11/18/老男孩教育高级架构师12期/">老男孩教育高级架构师12期</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/11/17/CentOS7 新装服务器初始化配置/">CentOS7 新装服务器初始化配置</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/11/14/Linux之路/">Linux之路</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/11/13/五笔输入法/">五笔输入法</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/11/13/学习计划书/">学习计划书</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/11/12/Ubuntu-新装服务器部署流程/">Ubuntu 新装服务器部署流程</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/11/12/CentOS-6-新装服务器部署流程/">CentOS 6 新装服务器部署流程</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/11/12/CentOS-7-新装服务器部署流程/">CentOS 7 新装服务器部署流程</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/11/12/HAProxy安装配置/">HAProxy安装配置</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/11/11/生病的这段日子/">生病的这段日子</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/11/11/uWSGI搭配Nginx配置Django部署环境/">uWSGI搭配Nginx配置Django部署环境</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/10/20/macOS 配置Python环境/">macOS 配置Python环境</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/10/20/2016-12-12-2017-10-20/">2016.12.12~2017.10.20</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/10/20/macOS 安装配置Hexo/">macOS 安装配置Hexo</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/10/20/macOS 安装Oh My Zsh/">macOS 安装Oh My Zsh</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/10/20/macOS 安装Homebrew/">macOS 安装Homebrew</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/10/20/使用Supervisor管理SpiderKeeper和Scrapyd/">使用Supervisor管理SpiderKeeper和Scrapyd</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/10/20/强力Django+杀手级Xadmin/">强力Django+杀手级Xadmin笔记</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/10/18/Python分布式爬虫打造搜索引擎/">Python分布式爬虫打造搜索引擎笔记</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/10/10/潭州课堂退学费/">潭州课堂退学费</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/10/08/2017-10-08-从明天要好好工作了，要去赚钱了。/">2017.10.08 从明天要好好工作了，要去赚钱了。</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/10/08/2017-10-07-收到新买的-Apple-MacBook-Pro-15/">2017.10.07 收到新买的 Apple MacBook Pro 15</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/10/08/2017-10-06-回到北京了/">2017.10.06 回到北京了</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/10/08/2017-09-23-买了一台-Apple-MacBook-Pro-15/">2017.09.23 买了一台 Apple MacBook Pro 15</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/10/01/十年青春,十年网文！/">十年青春，十年网文！</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/09/04/浦发银行2万/">浦发银行2万</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/09/02/看到她穿的New-Balance，2015年的时候在广州也看看到过别的人穿过。/">看到她穿的New Balance，2015年的时候在广州也看看到过别的人穿过。</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/09/02/New-Balance（NB）ML1550RP/">New Balance（NB）ML1550RP</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/09/01/和莹姐聊天感想/">和莹姐聊天感想</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/08/31/KVM安装配置/">KVM安装配置</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/08/30/树莓派家庭局域网透明代理/">树莓派家庭局域网透明代理</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/08/25/早上4点多，痛醒了。唉，自己都照顾不好。怎么去照顾喜欢的人呢？该怎么办？/">早上4点多，痛醒了。唉，自己都照顾不好。怎么去照顾喜欢的人呢？该怎么办？</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/08/24/身体很差，胃痛啊！吃东西不注意。痛起来堪比自虐！/">身体很差，胃痛啊！吃东西不注意。痛起来堪比自虐！</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/08/24/心情不好，3月以来都没开心了。/">心情不好，3月以来都没开心了。</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/08/23/Kubernetes安装配置/">Kubernetes安装配置</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/08/16/5个月了，2017-03-16～2017-08-16/">5个月了，2017.03.16～2017.08.16</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/08/09/她的小粉鞋/">她的小粉鞋</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/08/03/更改KeePass储存文件方式OneDrive改为坚果云/">更改KeePass储存文件方式OneDrive改为坚果云</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/08/01/8月-你好吗？/">8月,你好吗？</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/07/31/232天的第一次加薪/">232天的第一次加薪</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/07/23/添加Hexo备份到github和coding-net/">添加Hexo备份到github和coding.net</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/07/23/重做Mac-mini的系统macOS-10-12-6/">重做Mac mini的系统macOS 10.12.6</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/07/18/杭州3日游/">杭州3日游</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/07/13/快乐、追求/">快乐、追求</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/06/29/我似乎已经开始了，忘记她！/">我似乎已经开始了，忘记她！</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/06/29/我真的要把她给忘记吗？/">我真的要把她给忘记吗？</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/06/29/好苦呐！/">好苦呐！</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/06/29/好难啊、MySQL主从复制/">好难啊、MySQL主从复制</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/06/20/太原游记/">太原游记</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/06/20/2017-06-20/">2017.06.20</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/06/20/舍、得/">舍、得</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/06/20/买锅、买铲/">买锅、买铲</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/06/06/不想再为她难过了。/">不想再为她难过了。</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/06/06/怎么保持好心情/">怎么保持好心情</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/06/06/6-6/">6.6</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/06/06/2017-06-06/">2017.06.06</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/06/01/jl/">jl</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/06/01/六一快乐！/">六一快乐！</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/05/27/迷惘-想要和她说话-却也不知道怎么开口了。/">迷惘,想要和她说话,却也不知道怎么开口了。</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/05/19/我的第一个爬虫、猫眼电影榜单/">我的第一个爬虫、猫眼电影榜单</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/05/18/生日快乐/">生日快乐</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/05/12/理解php-fpm的两种执行方式/">理解php-fpm的两种执行方式</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/05/09/迷茫了，运维该如何进行下去？/">迷茫了，运维该如何进行下去？</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/05/08/听涛一席话，胜读十年书。/">听涛一席话，胜读十年书。</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/05/02/难难难/">难难难</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/05/02/难难难，Kubernetes/">难难难，Kubernetes</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/05/02/Resin+Nginx动静分离和负载均衡/">Resin+Nginx动静分离和负载均衡</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/05/01/生活总结/">生活总结</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/05/01/工作总结/">工作总结</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/05/01/2016-12-12-2017-05-01/">2016.12.12-2017.05.01</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/05/01/半年过去了/">半年过去了</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/05/01/新的开始/">新的开始</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/05/01/五一/">五一</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/03/26/北京/">北京</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/03/25/深圳/">深圳</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/03/24/今日见闻/">今日见闻</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/03/24/广州/">广州</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/03/23/上海/">上海</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/03/22/Nagios安装配置/">Nagios安装配置</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/03/22/郑州/">郑州</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/03/21/苏州/">苏州</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/03/20/东莞/">东莞</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/03/19/First-Love/">First Love</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/03/19/初恋のきみ/">初恋のきみ</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/03/19/初恋/">初恋</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/03/19/中山/">中山</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/03/19/初告白结束/">初告白结束</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/03/18/河南/">河南</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/03/18/陕西/">陕西</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/03/18/西安/">西安</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/03/18/山西/">山西</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/03/18/梦之太原/">梦之太原</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/03/18/Eva/">Eva</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/03/18/太原啊太原/">太原啊太原</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/03/18/吾生遥远的太原/">吾生遥远的太原</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/03/18/太原的你/">太原的你</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/03/18/单恋一枝花/">单恋一枝花</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/03/18/2017-02-14-2017-03-16/">2017.02.14~2017.03.16</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/03/18/佛山/">佛山</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/03/17/汕头/">汕头</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/03/16/新野/">新野</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/03/15/淅川/">淅川</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/03/14/南阳/">南阳</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/03/13/邓县/">邓县</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/03/13/邓州/">邓州</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/03/12/小杨营/">小杨营</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/03/11/姜胡营/">姜胡营</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/03/10/黄太寺/">黄太寺</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/03/10/24岁本命年/">24岁本命年</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/03/10/24岁/">24岁</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/03/10/1993-03-10〜2017-03-10/">1993.03.10～2017.03.10</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/03/09/我的信仰/">我的信仰</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/03/08/我的现状/">我的现状</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/03/07/我的爱好/">我的爱好</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/03/06/我的旅程/">我的旅程</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/03/05/我的足迹/">我的足迹</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/03/04/我的梦想/">我的梦想</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/03/03/我的世界/">我的世界</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/03/02/我的生活/">我的生活</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/03/01/我的工作/">我的工作</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/02/28/我的恋爱史/">我的恋爱史</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/02/27/我的暗恋史/">我的暗恋史</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/02/26/我的成长史/">我的成长史</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/02/25/这些年追过的/">这些年追过的</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/02/24/这些年暗恋的/">这些年暗恋的</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/02/23/这些年遗忘的/">这些年遗忘的</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/02/22/喜欢的/">喜欢的</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/02/21/这些年/">这些年</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/02/20/本命年/">本命年</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/02/19/人生感悟/">人生感悟</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/02/18/这5年/">这5年</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/02/18/2012-02-18-2017-02-18/">2012.02.18~2017.02.18</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/02/18/第二轮本命年/">第二轮本命年</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/02/18/所见所闻/">所见所闻</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/02/18/2017/">2017</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/02/18/2016/">2016</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/02/18/2015-2017/">2015~2017</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/02/18/2013/">2013</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/02/18/2012-2015/">2012~2015</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/02/18/2011/">2011</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/02/18/2007-2017/">2007~2017</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/02/18/2007/">2007</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/02/18/1993-2017/">1993~2017</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/02/18/1993-2007/">1993~2007</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/02/18/1993/">1993</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/02/17/人生轨迹/">人生轨迹</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/02/16/这10年/">这10年</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/01/10/Cacti安装配置/">Cacti安装配置</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/12/31/2016年终总结之败家/">2016年终总结之败家</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/12/31/2016年终总结之思考/">2016年终总结之思考</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/12/27/Rsync安装配置/">Rsync安装配置</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/12/26/Jenkins安装/">Jenkins安装</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/12/24/Redis安装配置/">Redis安装配置</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/12/19/Tomcat+Nginx动静分离和负载均衡/">Tomcat+Nginx动静分离和负载均衡</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/12/18/Zabbix安装配置/">Zabbix安装配置</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/12/02/监控cacti、nagios、zabbix/">监控cacti、nagios、zabbix</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/07/04/Linux就该这么学第五期培训笔记/">Linux就该这么学第五期培训笔记</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/03/15/Jenkins+Ansible+Gitlab自动化部署/">Jenkins+Ansible+Gitlab自动化部署</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/03/15/GitLab安装部署/">GitLab安装部署</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/03/15/Ansible安装部署/">Ansible安装部署</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/03/15/Jenkins安装部署/">Jenkins安装部署</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/03/07/Tomcat安装配置/">Tomcat安装配置</a></li><li class="post-list-item"><a class="post-list-link" href="/2015/12/31/2015年终总结之败家/">2015年终总结之败家</a></li><li class="post-list-item"><a class="post-list-link" href="/2015/12/31/2015年终总结之思考/">2015年终总结之思考</a></li><li class="post-list-item"><a class="post-list-link" href="/2015/12/26/COBBLER无人值守安装/">COBBLER无人值守安装</a></li><li class="post-list-item"><a class="post-list-link" href="/2015/12/24/老男孩Linux培训第28期笔记001-100/">老男孩Linux培训第28期笔记</a></li><li class="post-list-item"><a class="post-list-link" href="/2015/06/15/去北京/">去北京</a></li><li class="post-list-item"><a class="post-list-link" href="/2015/05/17/LNAMP配置WordPress/">LNAMP配置运行WordPress</a></li><li class="post-list-item"><a class="post-list-link" href="/2015/04/14/去广州/">去广州</a></li><li class="post-list-item"><a class="post-list-link" href="/2014/12/31/2014年终总结之败家/">2014年终总结之败家</a></li><li class="post-list-item"><a class="post-list-link" href="/2014/12/31/2014年终总结之思考/">2014年终总结之思考</a></li><li class="post-list-item"><a class="post-list-link" href="/2014/11/10/阿铭Linux培训第5期笔记/">阿铭Linux培训第5期笔记</a></li><li class="post-list-item"><a class="post-list-link" href="/2014/09/01/Nginx安装配置/">Nginx安装配置</a></li><li class="post-list-item"><a class="post-list-link" href="/2014/03/20/运维工程师的职责和前景/">运维工程师的职责和前景</a></li><li class="post-list-item"><a class="post-list-link" href="/2013/12/31/2013年终总结之思考/">2013年终总结之思考</a></li><li class="post-list-item"><a class="post-list-link" href="/2013/12/31/2013年终总结之败家/">2013年终总结之败家</a></li><li class="post-list-item"><a class="post-list-link" href="/2012/12/31/2012年终总结之败家/">2012年终总结之败家</a></li><li class="post-list-item"><a class="post-list-link" href="/2012/12/31/2012年终总结之思考/">2012年终总结之思考</a></li><li class="post-list-item"><a class="post-list-link" href="/2012/06/19/去上海/">去上海</a></li><li class="post-list-item"><a class="post-list-link" href="/2012/02/18/ovwane/">ovwane</a></li></ul>
    <script src="https://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js"></script>
    <script>
        $(".post-list").addClass("toc-article");
        $(".post-list-item a").attr("target","_blank");
        $("#post-nav-button > a:nth-child(2)").click(function() {
            $(".fa-bars, .fa-times").toggle();
            $(".post-list").toggle(300);
            if ($(".toc").length > 0) {
                $("#toc, #tocButton").toggle(200, function() {
                    if ($(".switch-area").is(":visible")) {
                        $("#tocButton").attr("value", valueHide);
                        }
                    })
            }
            else {
            }
        })
    </script>



    <script>
        
    </script>
</div>
      <footer id="footer">
    <div class="outer">
        <div id="footer-info">
            <div class="footer-left">
                &copy; 2017 幻舞梦境
            </div>
            <div class="footer-right">
                <a href="http://hexo.io/" target="_blank">Hexo</a>  Theme <a href="https://github.com/luuman/hexo-theme-spfk" target="_blank">spfk</a> by luuman
            </div>
        </div>
        
            <div class="visit">
                
                    <span id="busuanzi_container_site_pv" style='display:none'>
                        <span id="site-visit" >海贼到访数: 
                            <span id="busuanzi_value_site_uv"></span>
                        </span>
                    </span>
                
                
                    <span>, </span>
                
                
                    <span id="busuanzi_container_page_pv" style='display:none'>
                        <span id="page-visit">本页阅读量: 
                            <span id="busuanzi_value_page_pv"></span>
                        </span>
                    </span>
                
            </div>
        
    </div>
</footer>

    </div>
    <script src="https://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js"></script>
<script src="/js/main.js"></script>

    <script>
        $(document).ready(function() {
            var backgroundnum = 24;
            var backgroundimg = "url(/background/bg-x.jpg)".replace(/x/gi, Math.ceil(Math.random() * backgroundnum));
            $("#mobile-nav").css({"background-image": backgroundimg,"background-size": "cover","background-position": "center"});
            $(".left-col").css({"background-image": backgroundimg,"background-size": "cover","background-position": "center"});
        })
    </script>





<div class="scroll" id="scroll">
    <a href="#"><i class="fa fa-arrow-up"></i></a>
    <a href="#comments"><i class="fa fa-comments-o"></i></a>
    <a href="#footer"><i class="fa fa-arrow-down"></i></a>
</div>
<script>
    $(document).ready(function() {
        if ($("#comments").length < 1) {
            $("#scroll > a:nth-child(2)").hide();
        };
    })
</script>

<script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
</script>

  <script language="javascript">
    $(function() {
        $("a[title]").each(function() {
            var a = $(this);
            var title = a.attr('title');
            if (title == undefined || title == "") return;
            a.data('title', title).removeAttr('title').hover(

            function() {
                var offset = a.offset();
                $("<div id=\"anchortitlecontainer\"></div>").appendTo($("body")).html(title).css({
                    top: offset.top - a.outerHeight() - 15,
                    left: offset.left + a.outerWidth()/2 + 1
                }).fadeIn(function() {
                    var pop = $(this);
                    setTimeout(function() {
                        pop.remove();
                    }, pop.text().length * 800);
                });
            }, function() {
                $("#anchortitlecontainer").remove();
            });
        });
    });
</script>


  </div>
</body>
</html>