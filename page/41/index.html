<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>幻舞梦境</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="幻舞梦境">
<meta property="og:url" content="http://ovwane.me/page/41/index.html">
<meta property="og:site_name" content="幻舞梦境">
<meta property="og:locale" content="default">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="幻舞梦境">
  
    <link rel="alternative" href="/atom.xml" title="幻舞梦境" type="application/atom+xml">
  
  
    <link rel="icon" href="/img/favicon.png">
  
  
      <link rel="stylesheet" href="//cdn.bootcss.com/animate.css/3.5.0/animate.min.css">
  
  <link rel="stylesheet" href="/css/style.css">
  <link rel="stylesheet" href="/font-awesome/css/font-awesome.min.css">
  <link rel="apple-touch-icon" href="/apple-touch-icon.png">
  
     
      <meta name="baidu-site-verification" content="3rC08I0Cp6" />
    
     
      <meta name="google-site-verification" content="rn8f25RzFQoiByt8ezg9E17KZIElbIlwJ4y-EKSlWbA" />
    
  
  
      <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  
  <!-- 加载特效 -->
    <script src="/js/pace.js"></script>
    <link href="/css/pace/pace-theme-flash.css" rel="stylesheet" />
  <script>
      var yiliaConfig = {
          rootUrl: '/',
          fancybox: true,
          animate: true,
          isHome: true,
          isPost: false,
          isArchive: false,
          isTag: false,
          isCategory: false,
          open_in_new: false
      }
  </script>
</head>
<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
    <header id="header" class="inner">
        <a href="/" class="profilepic">
            
            <img lazy-src="/img/head.jpg" class="js-avatar">
            
        </a>

        <hgroup>
          <h1 class="header-author"><a href="/" title="Hi Mate">幻舞梦境</a></h1>
        </hgroup>

        
        
        
            <div id="switch-btn" class="switch-btn">
                <div class="icon">
                    <div class="icon-ctn">
                        <div class="icon-wrap icon-house" data-idx="0">
                            <div class="birdhouse"></div>
                            <div class="birdhouse_holes"></div>
                        </div>
                        <div class="icon-wrap icon-ribbon hide" data-idx="1">
                            <div class="ribbon"></div>
                        </div>
                        
                        <div class="icon-wrap icon-link hide" data-idx="2">
                            <div class="loopback_l"></div>
                            <div class="loopback_r"></div>
                        </div>
                        
                        
                        <div class="icon-wrap icon-me hide" data-idx="3">
                            <div class="user"></div>
                            <div class="shoulder"></div>
                        </div>
                        
                    </div>
                    
                </div>
                <div class="tips-box hide">
                    <div class="tips-arrow"></div>
                    <ul class="tips-inner">
                        <li>菜单</li>
                        <li>标签</li>
                        
                        <li>友情链接</li>
                        
                        
                        <li>关于我</li>
                        
                    </ul>
                </div>
            </div>
        

        <div id="switch-area" class="switch-area">
            <div class="switch-wrap">
                <section class="switch-part switch-part1">
                    <nav class="header-menu">
                        <ul>
                        
                            <li><a href="/">首页</a></li>
                        
                            <li><a href="/WebGuide">导航</a></li>
                        
                            <li><a href="/ovwane_love">Love</a></li>
                        
                        </ul>
                    </nav>
                    <nav class="header-nav">
                        <ul class="social">
                            
                                <a class="fl github" target="_blank" href="https://github.com/ovwane" title="github">github</a>
                            
                        </ul>
                    </nav>
                </section>
                
                
                <section class="switch-part switch-part2">
                    <div class="widget tagcloud" id="js-tagcloud">
                        <a href="/tags/Ansible/" style="font-size: 11.67px;">Ansible</a> <a href="/tags/Bind/" style="font-size: 10px;">Bind</a> <a href="/tags/Cacti/" style="font-size: 10px;">Cacti</a> <a href="/tags/CentOS/" style="font-size: 20px;">CentOS</a> <a href="/tags/Cobbler/" style="font-size: 10px;">Cobbler</a> <a href="/tags/DHCP/" style="font-size: 10px;">DHCP</a> <a href="/tags/Django/" style="font-size: 13.33px;">Django</a> <a href="/tags/Docker/" style="font-size: 10px;">Docker</a> <a href="/tags/Elasticsearch/" style="font-size: 10px;">Elasticsearch</a> <a href="/tags/Git/" style="font-size: 10px;">Git</a> <a href="/tags/Gitlab/" style="font-size: 11.67px;">Gitlab</a> <a href="/tags/HAProxy/" style="font-size: 10px;">HAProxy</a> <a href="/tags/Hexo/" style="font-size: 11.67px;">Hexo</a> <a href="/tags/Java/" style="font-size: 10px;">Java</a> <a href="/tags/Jenkins/" style="font-size: 11.67px;">Jenkins</a> <a href="/tags/KVM/" style="font-size: 10px;">KVM</a> <a href="/tags/Kubernetes/" style="font-size: 10px;">Kubernetes</a> <a href="/tags/Linux/" style="font-size: 15px;">Linux</a> <a href="/tags/MariaDB/" style="font-size: 10px;">MariaDB</a> <a href="/tags/MySQL/" style="font-size: 10px;">MySQL</a> <a href="/tags/NFS/" style="font-size: 10px;">NFS</a> <a href="/tags/Nagios/" style="font-size: 10px;">Nagios</a> <a href="/tags/Nginx/" style="font-size: 16.67px;">Nginx</a> <a href="/tags/Oh-My-Zsh/" style="font-size: 10px;">Oh My Zsh</a> <a href="/tags/OpenLDAP/" style="font-size: 10px;">OpenLDAP</a> <a href="/tags/OpenStack/" style="font-size: 10px;">OpenStack</a> <a href="/tags/PHP/" style="font-size: 11.67px;">PHP</a> <a href="/tags/PXE/" style="font-size: 10px;">PXE</a> <a href="/tags/Python/" style="font-size: 15px;">Python</a> <a href="/tags/RHEL7/" style="font-size: 10px;">RHEL7</a> <a href="/tags/Redis/" style="font-size: 10px;">Redis</a> <a href="/tags/Requests/" style="font-size: 10px;">Requests</a> <a href="/tags/Resin/" style="font-size: 10px;">Resin</a> <a href="/tags/Samba/" style="font-size: 10px;">Samba</a> <a href="/tags/Scrapy/" style="font-size: 11.67px;">Scrapy</a> <a href="/tags/Scrapyd/" style="font-size: 10px;">Scrapyd</a> <a href="/tags/SpiderKeeper/" style="font-size: 10px;">SpiderKeeper</a> <a href="/tags/Squid/" style="font-size: 10px;">Squid</a> <a href="/tags/Subversion/" style="font-size: 10px;">Subversion</a> <a href="/tags/Supervisor/" style="font-size: 10px;">Supervisor</a> <a href="/tags/Tomcat/" style="font-size: 13.33px;">Tomcat</a> <a href="/tags/Ubuntu/" style="font-size: 10px;">Ubuntu</a> <a href="/tags/Web/" style="font-size: 10px;">Web</a> <a href="/tags/Xadmin/" style="font-size: 10px;">Xadmin</a> <a href="/tags/Zabbix/" style="font-size: 10px;">Zabbix</a> <a href="/tags/cacti/" style="font-size: 10px;">cacti</a> <a href="/tags/dovecot/" style="font-size: 10px;">dovecot</a> <a href="/tags/httpd/" style="font-size: 11.67px;">httpd</a> <a href="/tags/iSCSI/" style="font-size: 10px;">iSCSI</a> <a href="/tags/k8s/" style="font-size: 10px;">k8s</a> <a href="/tags/kickstart/" style="font-size: 10px;">kickstart</a> <a href="/tags/macOS/" style="font-size: 15px;">macOS</a> <a href="/tags/nagios/" style="font-size: 10px;">nagios</a> <a href="/tags/postfix/" style="font-size: 10px;">postfix</a> <a href="/tags/rsync/" style="font-size: 10px;">rsync</a> <a href="/tags/sshd/" style="font-size: 10px;">sshd</a> <a href="/tags/uWSGI/" style="font-size: 10px;">uWSGI</a> <a href="/tags/vsftpd/" style="font-size: 10px;">vsftpd</a> <a href="/tags/zabbix/" style="font-size: 10px;">zabbix</a> <a href="/tags/历史/" style="font-size: 18.33px;">历史</a> <a href="/tags/情感/" style="font-size: 10px;">情感</a> <a href="/tags/生活/" style="font-size: 10px;">生活</a> <a href="/tags/监控/" style="font-size: 13.33px;">监控</a> <a href="/tags/自己/" style="font-size: 10px;">自己</a> <a href="/tags/运维/" style="font-size: 10px;">运维</a>
                    </div>
                </section>
                
                
                
                <section class="switch-part switch-part3">
                    <div id="js-friends">
                    
                      <a target="_blank" class="main-nav-link switch-friends-link" href="http://luuman.github.io/">name</a>
                    
                    </div>
                </section>
                

                
                
                <section class="switch-part switch-part4">
                
                    <div id="js-aboutme">纯海迷、爱运动、爱交友、爱旅行、喜欢接触新鲜事物、迎接新的挑战，更爱游离于错综复杂的编码与逻辑中</div>
                </section>
                
            </div>
        </div>
    </header>                
</div>
    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
      <div class="overlay">
          <div class="slider-trigger"></div>
          <h1 class="header-author js-mobile-header hide"><a href="/" title="Me">幻舞梦境</a></h1>
      </div>
    <div class="intrude-less">
        <header id="header" class="inner">
            <a href="/" class="profilepic">
                
                    <img lazy-src="/img/head.jpg" class="js-avatar">
                
            </a>
            <hgroup>
              <h1 class="header-author"><a href="/" title="Me">幻舞梦境</a></h1>
            </hgroup>
            
            <nav class="header-menu">
                <ul>
                
                    <li><a href="/">首页</a></li>
                
                    <li><a href="/WebGuide">导航</a></li>
                
                    <li><a href="/ovwane_love">Love</a></li>
                
                <div class="clearfix"></div>
                </ul>
            </nav>
            <nav class="header-nav">
                <div class="social">
                    
                        <a class="github" target="_blank" href="https://github.com/ovwane" title="github">github</a>
                    
                </div>
            </nav>
        </header>                
    </div>
</nav>
      <div class="body-wrap">
  
    <article id="post-2015年终总结之败家" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/12/31/2015年终总结之败家/" class="article-date">
      <time datetime="2015-12-31T08:20:13.000Z" itemprop="datePublished">2015-12-31</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/12/31/2015年终总结之败家/">2015年终总结之败家</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        
      
      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/生活/">生活</a><a class="article-category-link" href="/categories/生活/感想/">感想</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/历史/">历史</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-2015年终总结之思考" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/12/31/2015年终总结之思考/" class="article-date">
      <time datetime="2015-12-31T08:20:00.000Z" itemprop="datePublished">2015-12-31</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/12/31/2015年终总结之思考/">2015年终总结之思考</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        
      
      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/生活/">生活</a><a class="article-category-link" href="/categories/生活/感想/">感想</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/历史/">历史</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-COBBLER无人值守安装" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/12/26/COBBLER无人值守安装/" class="article-date">
      <time datetime="2015-12-26T11:22:15.000Z" itemprop="datePublished">2015-12-26</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/12/26/COBBLER无人值守安装/">COBBLER无人值守安装</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p><a href="http://www.zyops.com/autoinstall-cobbler" target="_blank" rel="noopener">COBBLER无人值守安装</a></p>
<h2 id="Cobbler介绍"><a href="#Cobbler介绍" class="headerlink" title="Cobbler介绍"></a>Cobbler介绍</h2><p>Cobbler是一个Linux服务器安装的服务，可以通过网络启动(PXE)的方式来快速安装、重装物理服务器和虚拟机，同时还可以管理DHCP，DNS等。</p>
<p>Cobbler可以使用命令行方式管理，也提供了基于Web的界面管理工具(cobbler-web)，还提供了API接口，可以方便二次开发使用。</p>
<p>Cobbler是较早前的kickstart的升级版，优点是比较容易配置，还自带web界面比较易于管理。</p>
<p>Cobbler内置了一个轻量级配置管理系统，但它也支持和其它配置管理系统集成，如Puppet，暂时不支持SaltStack。</p>
<h3 id="Cobbler集成的服务"><a href="#Cobbler集成的服务" class="headerlink" title="Cobbler集成的服务"></a>Cobbler集成的服务</h3><ul>
<li>PXE服务支持</li>
<li>DHCP服务管理</li>
<li>DNS服务管理(可选bind,dnsmasq)</li>
<li>电源管理</li>
<li>Kickstart服务支持</li>
<li>YUM仓库管理</li>
<li>TFTP(PXE启动时需要)</li>
<li>Apache(提供kickstart的安装源，并提供定制化的kickstart配置)</li>
</ul>
<h2 id="Cobbler安装配置"><a href="#Cobbler安装配置" class="headerlink" title="Cobbler安装配置"></a>Cobbler安装配置</h2><h3 id="系统环境准备"><a href="#系统环境准备" class="headerlink" title="系统环境准备"></a>系统环境准备</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">[root@linux-node1 ~]# cat /etc/redhat-release</span><br><span class="line">CentOS release 6.7 (Final)</span><br><span class="line">[root@linux-node1 ~]# uname -r</span><br><span class="line">2.6.32-573.el6.x86_64</span><br><span class="line">[root@linux-node1 ~]# getenforce</span><br><span class="line">Disabled</span><br><span class="line">[root@linux-node1 ~]# /etc/init.d/iptables status</span><br><span class="line">iptables: Firewall is not running.</span><br><span class="line">[root@linux-node1 ~]# ifconfig eth0|awk -F &quot;[ :]+&quot; &apos;NR==2 &#123;print $4&#125;&apos;</span><br><span class="line">10.0.0.7</span><br><span class="line">[root@linux-node1 ~]# hostname</span><br><span class="line">linux-node1.example.com</span><br><span class="line"># 配置阿里云的epel源</span><br><span class="line">[root@linux-node1 ~]# wget -O /etc/yum.repos.d/epel.repo http://mirrors.aliyun.com/repo/epel-6.rep</span><br></pre></td></tr></table></figure>
<h3 id="安装Cobbler"><a href="#安装Cobbler" class="headerlink" title="安装Cobbler"></a>安装Cobbler</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">[root@linux-node1 ~]# yum -y install cobbler cobbler-web dhcp tftp-server pykickstart httpd</span><br><span class="line">[root@linux-node1 ~]# rpm -ql cobbler  # 查看安装的文件，下面列出部分。</span><br><span class="line">/etc/cobbler                  # 配置文件目录</span><br><span class="line">/etc/cobbler/settings         # cobbler主配置文件，这个文件是YAML格式，Cobbler是python写的程序。</span><br><span class="line">/etc/cobbler/dhcp.template    # DHCP服务的配置模板</span><br><span class="line">/etc/cobbler/tftpd.template   # tftp服务的配置模板</span><br><span class="line">/etc/cobbler/rsync.template   # rsync服务的配置模板</span><br><span class="line">/etc/cobbler/iso              # iso模板配置文件目录</span><br><span class="line">/etc/cobbler/pxe              # pxe模板文件目录</span><br><span class="line">/etc/cobbler/power            # 电源的配置文件目录</span><br><span class="line">/etc/cobbler/users.conf       # Web服务授权配置文件</span><br><span class="line">/etc/cobbler/users.digest     # 用于web访问的用户名密码配置文件</span><br><span class="line">/etc/cobbler/dnsmasq.template # DNS服务的配置模板</span><br><span class="line">/etc/cobbler/modules.conf     # Cobbler模块配置文件</span><br><span class="line">/var/lib/cobbler              # Cobbler数据目录</span><br><span class="line">/var/lib/cobbler/config       # 配置文件</span><br><span class="line">/var/lib/cobbler/kickstarts   # 默认存放kickstart文件</span><br><span class="line">/var/lib/cobbler/loaders      # 存放的各种引导程序</span><br><span class="line">/var/www/cobbler              # 系统安装镜像目录</span><br><span class="line">/var/www/cobbler/ks_mirror    # 导入的系统镜像列表</span><br><span class="line">/var/www/cobbler/images       # 导入的系统镜像启动文件</span><br><span class="line">/var/www/cobbler/repo_mirror  # yum源存储目录</span><br><span class="line">/var/log/cobbler              # 日志目录</span><br><span class="line">/var/log/cobbler/install.log  # 客户端系统安装日志</span><br><span class="line">/var/log/cobbler/cobbler.log  # cobbler日志</span><br></pre></td></tr></table></figure>
<h3 id="配置Cobbler"><a href="#配置Cobbler" class="headerlink" title="配置Cobbler"></a>配置Cobbler</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line">[root@linux-node1 ~]# /etc/init.d/httpd restart</span><br><span class="line">停止 httpd：                                               [失败]</span><br><span class="line">正在启动 httpd：                                           [确定]</span><br><span class="line">[root@linux-node1 ~]# /etc/init.d/cobblerd start</span><br><span class="line">Starting cobbler daemon:                                   [确定]</span><br><span class="line">[root@linux-node1 ~]# cobbler check  # 检查Cobbler的配置，如果看不到下面的结果，再次执行/etc/init.d/cobblerd restart</span><br><span class="line">The following are potential configuration items that you may want to fix:</span><br><span class="line">1 : The &apos;server&apos; field in /etc/cobbler/settings must be set to something other than localhost, or kickstarting features will not work.  This should be a resolvable hostname or IP for the boot server as reachable by all machines that will use it.</span><br><span class="line">2 : For PXE to be functional, the &apos;next_server&apos; field in /etc/cobbler/settings must be set to something other than 127.0.0.1, and should match the IP of the boot server on the PXE network.</span><br><span class="line">3 : some network boot-loaders are missing from /var/lib/cobbler/loaders, you may run &apos;cobbler get-loaders&apos; to download them, or, if you only want to handle x86/x86_64 netbooting, you may ensure that you have installed a *recent* version of the syslinux package installed and can ignore this message entirely.  Files in this directory, should you want to support all architectures, should include pxelinux.0, menu.c32, elilo.efi, and yaboot. The &apos;cobbler get-loaders&apos; command is the easiest way to resolve these requirements.</span><br><span class="line">4 : change &apos;disable&apos; to &apos;no&apos; in /etc/xinetd.d/rsync</span><br><span class="line">5 : debmirror package is not installed, it will be required to manage debian deployments and repositories</span><br><span class="line">6 : The default password used by the sample templates for newly installed machines (default_password_crypted in /etc/cobbler/settings) is still set to &apos;cobbler&apos; and should be changed, try: &quot;openssl passwd -1 -salt &apos;random-phrase-here&apos; &apos;your-password-here&apos;&quot; to generate new one</span><br><span class="line">7 : fencing tools were not found, and are required to use the (optional) power management features. install cman or fence-agents to use them</span><br><span class="line">Restart cobblerd and then run &apos;cobbler sync&apos; to apply changes.</span><br><span class="line"># 看着上面的结果，一个一个解决。</span><br><span class="line"># 第1、2、6个问题，顺便修改其他功能</span><br><span class="line">[root@linux-node1 ~]# cp /etc/cobbler/settings&#123;,.ori&#125;  # 备份</span><br><span class="line"># server，Cobbler服务器的IP。</span><br><span class="line">sed -i &apos;s/server: 127.0.0.1/server: 10.0.0.7/&apos; /etc/cobbler/settings</span><br><span class="line"># next_server，如果用Cobbler管理DHCP，修改本项，作用不解释，看kickstart。</span><br><span class="line">sed -i &apos;s/next_server: 127.0.0.1/next_server: 10.0.0.7/&apos; /etc/cobbler/settings</span><br><span class="line"># 用Cobbler管理DHCP</span><br><span class="line">sed -i &apos;s/manage_dhcp: 0/manage_dhcp: 1/&apos; /etc/cobbler/settings</span><br><span class="line"># 防止循环装系统，适用于服务器第一启动项是PXE启动。</span><br><span class="line">sed -i &apos;s/pxe_just_once: 0/pxe_just_once: 1/&apos; /etc/cobbler/settings</span><br><span class="line"># 设置新装系统的默认root密码123456。下面的命令来源于提示6。random-phrase-here为干扰码，可以自行设定。</span><br><span class="line">[root@linux-node1 ~]# openssl passwd -1 -salt &apos;oldboy&apos; &apos;123456&apos;</span><br><span class="line">$1$oldboy$Npg9Pt9k98Mlg0ZeqHAuN1</span><br><span class="line">[root@linux-node1 ~]# vim /etc/cobbler/settings </span><br><span class="line">default_password_crypted: &quot;$1$oldboy$Npg9Pt9k98Mlg0ZeqHAuN1&quot; </span><br><span class="line"># 第3个问题</span><br><span class="line">[root@linux-node1 ~]# cobbler get-loaders  # 会自动从官网下载</span><br><span class="line">[root@linux-node1 ~]# cd /var/lib/cobbler/loaders/  # 下载的内容</span><br><span class="line">[root@linux-node1 loaders]# ls</span><br><span class="line">COPYING.elilo     COPYING.yaboot  grub-x86_64.efi  menu.c32    README</span><br><span class="line">COPYING.syslinux  elilo-ia64.efi  grub-x86.efi     pxelinux.0  yaboot</span><br><span class="line"># 第4个问题</span><br><span class="line">[root@linux-node1 ~]# vim /etc/xinetd.d/rsync</span><br><span class="line">disable = no</span><br><span class="line">[root@linux-node1 ~]# /etc/init.d/xinetd restart</span><br><span class="line">停止 xinetd：                                              [确定]</span><br><span class="line">正在启动 xinetd：                                          [确定]</span><br><span class="line">[root@linux-node1 ~]# /etc/init.d/cobblerd restart</span><br><span class="line">Stopping cobbler daemon:                                   [确定]</span><br><span class="line">Starting cobbler daemon:                                   [确定]</span><br><span class="line">[root@linux-node1 ~]# cobbler check</span><br><span class="line">The following are potential configuration items that you may want to fix:</span><br><span class="line">1 : debmirror package is not installed, it will be required to manage debian deployments and repositories  # 和debian系统相关，不需要</span><br><span class="line">2 : fencing tools were not found, and are required to use the (optional) power management features. install cman or fence-agents to use them # fence设备相关，不需要</span><br><span class="line">Restart cobblerd and then run &apos;cobbler sync&apos; to apply changes.</span><br></pre></td></tr></table></figure>
<h3 id="配置DHCP"><a href="#配置DHCP" class="headerlink" title="配置DHCP"></a>配置DHCP</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"># 修改cobbler的dhcp模版，不要直接修改dhcp本身的配置文件，因为cobbler会覆盖。</span><br><span class="line">[root@linux-node1 ~]# vim /etc/cobbler/dhcp.template </span><br><span class="line"># 仅列出修改过的字段</span><br><span class="line">……</span><br><span class="line">subnet 10.0.0.0 netmask 255.255.255.0 &#123;</span><br><span class="line">     option routers             10.0.0.2;</span><br><span class="line">     option domain-name-servers 10.0.0.2;</span><br><span class="line">     option subnet-mask         255.255.255.0;</span><br><span class="line">     range dynamic-bootp        10.0.0.100 10.0.0.200;</span><br><span class="line">……</span><br></pre></td></tr></table></figure>
<h3 id="同步cobbler配置"><a href="#同步cobbler配置" class="headerlink" title="同步cobbler配置"></a>同步cobbler配置</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"># 同步最新cobbler配置，它会根据配置自动修改dhcp等服务。</span><br><span class="line">[root@linux-node1 ~]# cobbler sync   # 同步所有配置，可以仔细看一下sync做了什么。</span><br><span class="line">task started: 2015-12-03_204822_sync</span><br><span class="line">task started (id=Sync, time=Thu Dec  3 20:48:22 2015)</span><br><span class="line">running pre-sync triggers</span><br><span class="line">cleaning trees</span><br><span class="line">removing: /var/lib/tftpboot/pxelinux.cfg/default</span><br><span class="line">removing: /var/lib/tftpboot/grub/images</span><br><span class="line">copying bootloaders</span><br><span class="line">trying hardlink /var/lib/cobbler/loaders/pxelinux.0 -&gt; /var/lib/tftpboot/pxelinux.0</span><br><span class="line">copying: /var/lib/cobbler/loaders/pxelinux.0 -&gt; /var/lib/tftpboot/pxelinux.0</span><br><span class="line">trying hardlink /var/lib/cobbler/loaders/menu.c32 -&gt; /var/lib/tftpboot/menu.c32</span><br><span class="line">trying hardlink /var/lib/cobbler/loaders/yaboot -&gt; /var/lib/tftpboot/yaboot</span><br><span class="line">trying hardlink /usr/share/syslinux/memdisk -&gt; /var/lib/tftpboot/memdisk</span><br><span class="line">trying hardlink /var/lib/cobbler/loaders/grub-x86.efi -&gt; /var/lib/tftpboot/grub/grub-x86.efi</span><br><span class="line">trying hardlink /var/lib/cobbler/loaders/grub-x86_64.efi -&gt; /var/lib/tftpboot/grub/grub-x86_64.efi</span><br><span class="line">copying distros to tftpboot</span><br><span class="line">copying images</span><br><span class="line">generating PXE configuration files</span><br><span class="line">generating PXE menu structure</span><br><span class="line">rendering DHCP files</span><br><span class="line">generating /etc/dhcp/dhcpd.conf</span><br><span class="line">rendering TFTPD files</span><br><span class="line">generating /etc/xinetd.d/tftp</span><br><span class="line">cleaning link caches</span><br><span class="line">running post-sync triggers</span><br><span class="line">running python triggers from /var/lib/cobbler/triggers/sync/post/*</span><br><span class="line">running python trigger cobbler.modules.sync_post_restart_services</span><br><span class="line">running: dhcpd -t -q</span><br><span class="line">received on stdout: </span><br><span class="line">received on stderr: </span><br><span class="line">running: service dhcpd restart</span><br><span class="line">received on stdout: 关闭 dhcpd：[确定]</span><br><span class="line">正在启动 dhcpd：[确定]</span><br><span class="line">received on stderr: </span><br><span class="line">running shell triggers from /var/lib/cobbler/triggers/sync/post/*</span><br><span class="line">running python triggers from /var/lib/cobbler/triggers/change/*</span><br><span class="line">running python trigger cobbler.modules.scm_track</span><br><span class="line">running shell triggers from /var/lib/cobbler/triggers/change/*</span><br><span class="line">*** TASK COMPLETE ***</span><br><span class="line"># 再看一下dhcp的配置文件。</span><br><span class="line">[root@linux-node1 ~]# less /etc/dhcp/dhcpd.conf</span><br><span class="line"># ******************************************************************</span><br><span class="line"># Cobbler managed dhcpd.conf file</span><br><span class="line"># generated from cobbler dhcp.conf template (Thu Dec  3 12:48:23 2015)</span><br><span class="line"># Do NOT make changes to /etc/dhcpd.conf. Instead, make your changes</span><br><span class="line"># in /etc/cobbler/dhcp.template, as /etc/dhcpd.conf will be</span><br><span class="line"># overwritten.</span><br><span class="line"># ******************************************************************</span><br><span class="line">ddns-update-style interim;</span><br><span class="line">…………</span><br></pre></td></tr></table></figure>
<h3 id="开机启动"><a href="#开机启动" class="headerlink" title="开机启动"></a>开机启动</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"># 启动相关服务并设置开机启动(可选) 与第二种方法二选一</span><br><span class="line">chkconfig httpd on</span><br><span class="line">chkconfig xinetd on</span><br><span class="line">chkconfig cobblerd on</span><br><span class="line">chkconfig dhcpd on</span><br><span class="line">/etc/init.d/httpd restart</span><br><span class="line">/etc/init.d/xinetd restart</span><br><span class="line">/etc/init.d/cobblerd restart</span><br><span class="line">/etc/init.d/dhcpd restart</span><br><span class="line"># 编写Cobbler相关服务启动脚本(可选)</span><br><span class="line">cat &gt;&gt;/etc/init.d/cobbler&lt;&lt;EOF</span><br><span class="line">#!/bin/bash</span><br><span class="line"># chkconfig: 345 80 90</span><br><span class="line"># description:cobbler</span><br><span class="line">case \$1 in</span><br><span class="line">  start)</span><br><span class="line">    /etc/init.d/httpd start</span><br><span class="line">    /etc/init.d/xinetd start</span><br><span class="line">    /etc/init.d/dhcpd start</span><br><span class="line">    /etc/init.d/cobblerd start</span><br><span class="line">    ;;</span><br><span class="line">  stop)</span><br><span class="line">    /etc/init.d/httpd stop</span><br><span class="line">    /etc/init.d/xinetd stop</span><br><span class="line">    /etc/init.d/dhcpd stop</span><br><span class="line">    /etc/init.d/cobblerd stop</span><br><span class="line">    ;;</span><br><span class="line">  restart)</span><br><span class="line">    /etc/init.d/httpd restart</span><br><span class="line">    /etc/init.d/xinetd restart</span><br><span class="line">    /etc/init.d/dhcpd restart</span><br><span class="line">    /etc/init.d/cobblerd restart</span><br><span class="line">    ;;</span><br><span class="line">  status)</span><br><span class="line">    /etc/init.d/httpd status</span><br><span class="line">    /etc/init.d/xinetd status</span><br><span class="line">    /etc/init.d/dhcpd status</span><br><span class="line">    /etc/init.d/cobblerd status</span><br><span class="line">    ;;</span><br><span class="line">  sync)</span><br><span class="line">    cobbler sync</span><br><span class="line">    ;;</span><br><span class="line">  *)</span><br><span class="line">    echo &quot;Input error,please in put &apos;start|stop|restart|status|sync&apos;!&quot;</span><br><span class="line">    exit 2</span><br><span class="line">    ;;</span><br><span class="line">esac</span><br><span class="line">EOF</span><br><span class="line"># chmod +x /etc/init.d/cobbler</span><br><span class="line"># chkconfig cobbler on</span><br></pre></td></tr></table></figure>
<h2 id="Cobbler的命令行管理"><a href="#Cobbler的命令行管理" class="headerlink" title="Cobbler的命令行管理"></a>Cobbler的命令行管理</h2><h3 id="查看命令帮助"><a href="#查看命令帮助" class="headerlink" title="查看命令帮助"></a>查看命令帮助</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">[root@linux-node1 ~]# cobbler</span><br><span class="line">usage</span><br><span class="line">=====</span><br><span class="line">cobbler &lt;distro|profile|system|repo|image|mgmtclass|package|file&gt; ... </span><br><span class="line">        [add|edit|copy|getks*|list|remove|rename|report] [options|--help]</span><br><span class="line">cobbler &lt;aclsetup|buildiso|import|list|replicate|report|reposync|sync|validateks|version|signature|get-loaders|hardlink&gt; [options|--help]</span><br><span class="line">[root@linux-node1 ~]# cobbler import --help  # 导入镜像</span><br><span class="line">Usage: cobbler [options]</span><br><span class="line">Options:</span><br><span class="line">  -h, --help            show this help message and exit</span><br><span class="line">  --arch=ARCH           OS architecture being imported</span><br><span class="line">  --breed=BREED         the breed being imported</span><br><span class="line">  --os-version=OS_VERSION</span><br><span class="line">                        the version being imported</span><br><span class="line">  --path=PATH           local path or rsync location</span><br><span class="line">  --name=NAME           name, ex &apos;RHEL-5&apos;</span><br><span class="line">  --available-as=AVAILABLE_AS</span><br><span class="line">                        tree is here, don&apos;t mirror</span><br><span class="line">  --kickstart=KICKSTART_FILE</span><br><span class="line">                        assign this kickstart file</span><br><span class="line">  --rsync-flags=RSYNC_FLAGS</span><br><span class="line">                        pass additional flags to rsync</span><br><span class="line">cobbler check    核对当前设置是否有问题</span><br><span class="line">cobbler list     列出所有的cobbler元素</span><br><span class="line">cobbler report   列出元素的详细信息</span><br><span class="line">cobbler sync     同步配置到数据目录,更改配置最好都要执行下</span><br><span class="line">cobbler reposync 同步yum仓库</span><br><span class="line">cobbler distro   查看导入的发行版系统信息</span><br><span class="line">cobbler system   查看添加的系统信息</span><br><span class="line">cobbler profile  查看配置信息</span><br></pre></td></tr></table></figure>
<h3 id="导入镜像"><a href="#导入镜像" class="headerlink" title="导入镜像"></a>导入镜像</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">[root@linux-node1 ~]# mount /dev/cdrom /mnt/  # 挂载CentOS7的系统镜像。</span><br><span class="line"># 导入系统镜像</span><br><span class="line">[root@linux-node1 ~]# cobbler import --path=/mnt/ --name=CentOS-7.1-x86_64 --arch=x86_64</span><br><span class="line"># --path 镜像路径</span><br><span class="line"># --name 为安装源定义一个名字</span><br><span class="line"># --arch 指定安装源是32位、64位、ia64, 目前支持的选项有: x86│x86_64│ia64</span><br><span class="line"># 安装源的唯一标示就是根据name参数来定义，本例导入成功后，安装源的唯一标示就是：CentOS-7.1-x86_64，如果重复，系统会提示导入失败。</span><br><span class="line">[root@linux-node1 ~]# cobbler distro list  # 查看镜像列表</span><br><span class="line">   CentOS-7.1-x86_64</span><br><span class="line"># 镜像存放目录，cobbler会将镜像中的所有安装文件拷贝到本地一份，放在/var/www/cobbler/ks_mirror下的CentOS-7.1-x86_64目录下。因此/var/www/cobbler目录必须具有足够容纳安装文件的空间。</span><br><span class="line">[root@linux-node1 ~]# cd /var/www/cobbler/ks_mirror/</span><br><span class="line">[root@linux-node1 ks_mirror]# ls</span><br><span class="line">CentOS-7.1-x86_64  config</span><br><span class="line">[root@linux-node1 ks_mirror]# ls CentOS-7.1-x86_64/</span><br><span class="line">CentOS_BuildTag  GPL       LiveOS    RPM-GPG-KEY-CentOS-7</span><br><span class="line">EFI              images    Packages  RPM-GPG-KEY-CentOS-Testing-7</span><br><span class="line">EULA             isolinux  repodata  TRANS.TBL</span><br></pre></td></tr></table></figure>
<h3 id="指定ks-cfg文件及调整内核参数"><a href="#指定ks-cfg文件及调整内核参数" class="headerlink" title="指定ks.cfg文件及调整内核参数"></a>指定ks.cfg文件及调整内核参数</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br></pre></td><td class="code"><pre><span class="line"># Cobbler的ks.cfg文件存放位置</span><br><span class="line">[root@linux-node1 ks_mirror]# cd /var/lib/cobbler/kickstarts/</span><br><span class="line">[root@linux-node1 kickstarts]# ls  # 自带很多</span><br><span class="line">default.ks    install_profiles  sample_autoyast.xml  sample_esxi4.ks  sample_old.seed</span><br><span class="line">esxi4-ks.cfg  legacy.ks         sample_end.ks（默认使用的ks文件）        sample_esxi5.ks  sample.seed</span><br><span class="line">esxi5-ks.cfg  pxerescue.ks      sample_esx4.ks       sample.ks</span><br><span class="line">[root@linux-node1 kickstarts]# rz  # 上传准备好的ks文件</span><br><span class="line">rz waiting to receive.</span><br><span class="line">Starting zmodem transfer.  Press Ctrl+C to cancel.</span><br><span class="line">Transferring Cobbler-CentOS-7.1-x86_64.cfg...</span><br><span class="line">  100%       1 KB       1 KB/sec    00:00:01       0 Errors</span><br><span class="line">[root@linux-node1 kickstarts]# mv Cobbler-CentOS-7.1-x86_64.cfg CentOS-7.1-x86_64.cfg</span><br><span class="line"># 在第一次导入系统镜像后，Cobbler会给镜像指定一个默认的kickstart自动安装文件在/var/lib/cobbler/kickstarts下的sample_end.ks。</span><br><span class="line">[root@linux-node1 ~]# cobbler list</span><br><span class="line">distros:</span><br><span class="line">   CentOS-7.1-x86_64</span><br><span class="line">profiles:</span><br><span class="line">   CentOS-7.1-x86_64</span><br><span class="line">systems:</span><br><span class="line">repos:</span><br><span class="line">images:</span><br><span class="line">mgmtclasses:</span><br><span class="line">packages:</span><br><span class="line">files:</span><br><span class="line"># 查看安装镜像文件信息</span><br><span class="line">[root@linux-node1 ~]# cobbler distro report --name=CentOS-7.1-x86_64</span><br><span class="line">Name                           : CentOS-7.1-x86_64</span><br><span class="line">Architecture                   : x86_64</span><br><span class="line">TFTP Boot Files                : &#123;&#125;</span><br><span class="line">Breed                          : redhat</span><br><span class="line">Comment                        : </span><br><span class="line">Fetchable Files                : &#123;&#125;</span><br><span class="line">Initrd                         : /var/www/cobbler/ks_mirror/CentOS-7.1-x86_64/images/pxeboot/initrd.img</span><br><span class="line">Kernel                         : /var/www/cobbler/ks_mirror/CentOS-7.1-x86_64/images/pxeboot/vmlinuz</span><br><span class="line">Kernel Options                 : &#123;&#125;</span><br><span class="line">Kernel Options (Post Install)  : &#123;&#125;</span><br><span class="line">Kickstart Metadata             : &#123;&apos;tree&apos;: &apos;http://@@http_server@@/cblr/links/CentOS-7.1-x86_64&apos;&#125;</span><br><span class="line">Management Classes             : []</span><br><span class="line">OS Version                     : rhel7</span><br><span class="line">Owners                         : [&apos;admin&apos;]</span><br><span class="line">Red Hat Management Key         : &lt;&lt;inherit&gt;&gt;</span><br><span class="line">Red Hat Management Server      : &lt;&lt;inherit&gt;&gt;</span><br><span class="line">Template Files                 : &#123;&#125;</span><br><span class="line"># 查看所有的profile设置</span><br><span class="line">[root@linux-node1 ~]# cobbler profile report</span><br><span class="line"># 查看指定的profile设置</span><br><span class="line">[root@linux-node1 ~]# cobbler profile report --name=CentOS-7.1-x86_64</span><br><span class="line">Name                           : CentOS-7.1-x86_64</span><br><span class="line">TFTP Boot Files                : &#123;&#125;</span><br><span class="line">Comment                        : </span><br><span class="line">DHCP Tag                       : default</span><br><span class="line">Distribution                   : CentOS-7.1-x86_64</span><br><span class="line">Enable gPXE?                   : 0</span><br><span class="line">Enable PXE Menu?               : 1</span><br><span class="line">Fetchable Files                : &#123;&#125;</span><br><span class="line">Kernel Options                 : &#123;&#125;</span><br><span class="line">Kernel Options (Post Install)  : &#123;&#125;</span><br><span class="line">Kickstart                      : /var/lib/cobbler/kickstarts/sample_end.ks  --&gt;默认ks文件</span><br><span class="line">Kickstart Metadata             : &#123;&#125;</span><br><span class="line">Management Classes             : []</span><br><span class="line">Management Parameters          : &lt;&lt;inherit&gt;&gt;</span><br><span class="line">Name Servers                   : []</span><br><span class="line">Name Servers Search Path       : []</span><br><span class="line">Owners                         : [&apos;admin&apos;]</span><br><span class="line">Parent Profile                 : </span><br><span class="line">Internal proxy                 : </span><br><span class="line">Red Hat Management Key         : &lt;&lt;inherit&gt;&gt;</span><br><span class="line">Red Hat Management Server      : &lt;&lt;inherit&gt;&gt;</span><br><span class="line">Repos                          : []</span><br><span class="line">Server Override                : &lt;&lt;inherit&gt;&gt;</span><br><span class="line">Template Files                 : &#123;&#125;</span><br><span class="line">Virt Auto Boot                 : 1</span><br><span class="line">Virt Bridge                    : xenbr0</span><br><span class="line">Virt CPUs                      : 1</span><br><span class="line">Virt Disk Driver Type          : raw</span><br><span class="line">Virt File Size(GB)             : 5</span><br><span class="line">Virt Path                      : </span><br><span class="line">Virt RAM (MB)                  : 512</span><br><span class="line">Virt Type                      : kvm</span><br><span class="line"># 编辑profile，修改关联的ks文件</span><br><span class="line">[root@linux-node1 ~]# cobbler profile edit --name=CentOS-7.1-x86_64 --kickstart=/var/lib/cobbler/kickstarts/CentOS-7.1-x86_64.cfg</span><br><span class="line"># 修改安装系统的内核参数，在CentOS7系统有一个地方变了，就是网卡名变成eno16777736这种形式，但是为了运维标准化，我们需要将它变成我们常用的eth0，因此使用下面的参数。但要注意是CentOS7才需要下面的步骤，CentOS6不需要。</span><br><span class="line">[root@linux-node1 ~]# cobbler profile edit --name=CentOS-7.1-x86_64 --kopts=&apos;net.ifnames=0 biosdevname=0&apos;</span><br><span class="line">[root@linux-node1 ~]# cobbler profile report CentOS-7.1-x86_64</span><br><span class="line">Name                           : CentOS-7.1-x86_64</span><br><span class="line">TFTP Boot Files                : &#123;&#125;</span><br><span class="line">Comment                        : </span><br><span class="line">DHCP Tag                       : default</span><br><span class="line">Distribution                   : CentOS-7.1-x86_64</span><br><span class="line">Enable gPXE?                   : 0</span><br><span class="line">Enable PXE Menu?               : 1</span><br><span class="line">Fetchable Files                : &#123;&#125;</span><br><span class="line">Kernel Options                 : &#123;&apos;biosdevname&apos;: &apos;0&apos;, &apos;net.ifnames&apos;: &apos;0&apos;&#125;</span><br><span class="line">Kernel Options (Post Install)  : &#123;&#125;</span><br><span class="line">Kickstart                      : /var/lib/cobbler/kickstarts/CentOS-7.1-x86_64.cfg</span><br><span class="line">Kickstart Metadata             : &#123;&#125;</span><br><span class="line">Management Classes             : []</span><br><span class="line">Management Parameters          : &lt;&lt;inherit&gt;&gt;</span><br><span class="line">Name Servers                   : []</span><br><span class="line">Name Servers Search Path       : []</span><br><span class="line">Owners                         : [&apos;admin&apos;]</span><br><span class="line">Parent Profile                 : </span><br><span class="line">Internal proxy                 : </span><br><span class="line">Red Hat Management Key         : &lt;&lt;inherit&gt;&gt;</span><br><span class="line">Red Hat Management Server      : &lt;&lt;inherit&gt;&gt;</span><br><span class="line">Repos                          : []</span><br><span class="line">Server Override                : &lt;&lt;inherit&gt;&gt;</span><br><span class="line">Template Files                 : &#123;&#125;</span><br><span class="line">Virt Auto Boot                 : 1</span><br><span class="line">Virt Bridge                    : xenbr0</span><br><span class="line">Virt CPUs                      : 1</span><br><span class="line">Virt Disk Driver Type          : raw</span><br><span class="line">Virt File Size(GB)             : 5</span><br><span class="line">Virt Path                      : </span><br><span class="line">Virt RAM (MB)                  : 512</span><br><span class="line">Virt Type                      : kvm</span><br><span class="line"># 每次修改完都要同步一次</span><br><span class="line">[root@linux-node1 ~]# cobbler sync</span><br></pre></td></tr></table></figure>
<h3 id="安装系统"><a href="#安装系统" class="headerlink" title="安装系统"></a>安装系统</h3><p>可以很愉快的告诉你到这里就可以安装系统了！<br>有没有发现不美观的地方？<br>网址不是我的！改！</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">#修改Cobbler提示</span><br><span class="line">[root@linux-node1 ~]# vim /etc/cobbler/pxe/pxedefault.template</span><br><span class="line">MENU TITLE Cobbler | http://www.zyops.com</span><br><span class="line">[root@linux-node1 ~]# cobbler sync # 修改配置都要同步</span><br></pre></td></tr></table></figure>
<h2 id="ks-cfg文件简析"><a href="#ks-cfg文件简析" class="headerlink" title="ks.cfg文件简析"></a>ks.cfg文件简析</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line">文件大部分参数含义见kickstart文章，此处只讲一些不同的地方。同时可以参考模板文件。</span><br><span class="line">[root@linux-node1 kickstarts]# cat CentOS-7.1-x86_64.cfg</span><br><span class="line"># Cobbler for Kickstart Configurator for CentOS 7.1 by yao zhang</span><br><span class="line">install</span><br><span class="line">url --url=$tree  # 这些$开头的变量都是调用配置文件里的值。</span><br><span class="line">text</span><br><span class="line">lang en_US.UTF-8</span><br><span class="line">keyboard us</span><br><span class="line">zerombr</span><br><span class="line">bootloader --location=mbr --driveorder=sda --append=&quot;crashkernel=auto rhgb quiet&quot;</span><br><span class="line"># Network information</span><br><span class="line">$SNIPPET(&apos;network_config&apos;)</span><br><span class="line">timezone --utc Asia/Shanghai</span><br><span class="line">authconfig --enableshadow --passalgo=sha512</span><br><span class="line">rootpw  --iscrypted $default_password_crypted</span><br><span class="line">clearpart --all --initlabel</span><br><span class="line">part /boot --fstype xfs --size 1024  # CentOS7系统磁盘默认格式xfs</span><br><span class="line">part swap --size 1024</span><br><span class="line">part / --fstype xfs --size 1 --grow</span><br><span class="line">firstboot --disable</span><br><span class="line">selinux --disabled</span><br><span class="line">firewall --disabled</span><br><span class="line">logging --level=info</span><br><span class="line">reboot</span><br><span class="line">%pre</span><br><span class="line">$SNIPPET(&apos;log_ks_pre&apos;)</span><br><span class="line">$SNIPPET(&apos;kickstart_start&apos;)</span><br><span class="line">$SNIPPET(&apos;pre_install_network_config&apos;)</span><br><span class="line"># Enable installation monitoring</span><br><span class="line">$SNIPPET(&apos;pre_anamon&apos;)</span><br><span class="line">%end</span><br><span class="line">%packages</span><br><span class="line">@base</span><br><span class="line">@compat-libraries</span><br><span class="line">@debugging</span><br><span class="line">@development</span><br><span class="line">tree</span><br><span class="line">nmap</span><br><span class="line">sysstat</span><br><span class="line">lrzsz</span><br><span class="line">dos2unix</span><br><span class="line">telnet</span><br><span class="line">iptraf</span><br><span class="line">ncurses-devel</span><br><span class="line">openssl-devel</span><br><span class="line">zlib-devel</span><br><span class="line">OpenIPMI-tools</span><br><span class="line">screen</span><br><span class="line">%end</span><br><span class="line">%post</span><br><span class="line">systemctl disable postfix.service</span><br><span class="line">%end</span><br></pre></td></tr></table></figure>
<h2 id="定制化安装"><a href="#定制化安装" class="headerlink" title="定制化安装"></a>定制化安装</h2><p>可能从学习kickstart开始就有人想怎样能够指定某台服务器使用指定ks文件，kickstart实现这功能可能比较复杂，但是Cobbler就很简单了。</p>
<p>区分一台服务器的最简单的方法就是物理MAC地址。<br>物理服务器的MAC地址在服务器上的标签上写了。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">cobbler system add --name=oldboy --mac=00：0C：29：7F：2F：A1 --profile=CentOS-7.1-x86_64 --ip-address=10.0.0.111 --subnet=255.255.255.0 --gateway=10.0.0.2 --interface=eth0 --static=1 --hostname=oldboy.example.com --name-servers=&quot;114.114.114.114 8.8.8.8&quot;</span><br><span class="line"># --name 自定义，但不能重复</span><br><span class="line"># 查看定义的列表</span><br><span class="line">[root@linux-node1 ~]# cobbler system list</span><br><span class="line">   oldboy</span><br><span class="line">[root@linux-node1 ~]# cobbler sync</span><br></pre></td></tr></table></figure>
<p>再次开机安装就不再询问选择了，直接安装。</p>
<h2 id="Cobbler的Web管理界面的安装与配置"><a href="#Cobbler的Web管理界面的安装与配置" class="headerlink" title="Cobbler的Web管理界面的安装与配置"></a>Cobbler的Web管理界面的安装与配置</h2><p>已经安装cobbler-web软件。</p>
<p>访问网址：<a href="http://10.0.0.7/cobbler_web和https://10.0.0.7/cobbler_web" target="_blank" rel="noopener">http://10.0.0.7/cobbler_web和https://10.0.0.7/cobbler_web</a></p>
<p>默认用户名：cobbler<br>默认密码 ：cobbler</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">/etc/cobbler/users.conf       # Web服务授权配置文件</span><br><span class="line">/etc/cobbler/users.digest     # 用于web访问的用户名密码配置文件</span><br><span class="line">[root@linux-node1 ~]# cat /etc/cobbler/users.digest</span><br><span class="line">cobbler:Cobbler:a2d6bae81669d707b72c0bd9806e01f3</span><br><span class="line"># 设置Cobbler web用户登陆密码</span><br><span class="line"># 在Cobbler组添加cobbler用户，提示输入2遍密码确认</span><br><span class="line">[root@linux-node1 ~]# htdigest /etc/cobbler/users.digest &quot;Cobbler&quot; cobbler</span><br><span class="line">Changing password for user cobbler in realm Cobbler</span><br><span class="line">New password: 123456</span><br><span class="line">Re-type new password:123456</span><br><span class="line">[root@linux-node1 ~]# cobbler sync</span><br><span class="line">[root@linux-node1 ~]# /etc/init.d/httpd restart</span><br><span class="line">停止 httpd：                                               [确定]</span><br><span class="line">正在启动 httpd：                                           [确定]</span><br><span class="line">[root@linux-node1 ~]# /etc/init.d/cobblerd restart</span><br><span class="line">Stopping cobbler daemon:                                   [确定]</span><br><span class="line">Starting cobbler daemon:                                   [确定]</span><br></pre></td></tr></table></figure>
      
      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/技术/">技术</a><a class="article-category-link" href="/categories/技术/Linux/">Linux</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/CentOS/">CentOS</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Cobbler/">Cobbler</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-Github上的Python Crawler收集列表" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/10/29/Github上的Python Crawler收集列表/" class="article-date">
      <time datetime="2015-10-29T10:58:03.000Z" itemprop="datePublished">2015-10-29</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p><a href="https://github.com/soimort/you-get" target="_blank" rel="noopener">soimort/you-get</a></p>
<p><a href="https://github.com/rg3/youtube-dl" target="_blank" rel="noopener">rg3/youtube-dl</a></p>
<p><a href="https://github.com/dragonflylxp/crawler" target="_blank" rel="noopener">python爬虫项目集合</a></p>
<p><a href="https://github.com/liinnux/awesome-crawler-cn" target="_blank" rel="noopener">Awesome-crawler-cn</a></p>
<p><a href="https://github.com/Ehco1996/Python-crawler" target="_blank" rel="noopener">Python-crawler</a></p>
<p><a href="https://github.com/gnemoug/distribute_crawler" target="_blank" rel="noopener">woaidu_crawler</a></p>
<p><a href="https://github.com/lzjun567/crawler_html2pdf" target="_blank" rel="noopener">crawler_html2pdf</a></p>
<p><a href="https://github.com/sam408130/base_spider" target="_blank" rel="noopener">sam408130/crawler</a></p>
<p><a href="https://github.com/sam408130/scrapy" target="_blank" rel="noopener">Python系列文章</a></p>
<p><a href="https://github.com/sam408130/parse-baidu-baike" target="_blank" rel="noopener">用于抓取百度百科中的百科名片及列表部分信息</a></p>
<p><a href="https://github.com/pujinxiao/Python-Crawler" target="_blank" rel="noopener">python多线程爬虫爬取电影天堂资源</a></p>
<p><a href="https://github.com/gnemoug/LinkedIn-Crawler" target="_blank" rel="noopener">LinkedIn-Crawler</a></p>
<p><a href="https://github.com/SparrowG/LinkedIn-Crawler" target="_blank" rel="noopener">SparrowG/LinkedIn-Crawler</a></p>
<p><a href="https://github.com/Nyloner/NyCrawler" target="_blank" rel="noopener">NyCrawler</a></p>
<p><a href="https://github.com/mokeyjay/Yandere-crawler" target="_blank" rel="noopener">Yandere-crawler</a></p>
<p><a href="https://github.com/youshoubianer/infoqCrawler" target="_blank" rel="noopener">infoqCrawler</a></p>
<p><a href="https://github.com/sam408130/xcf_crawler" target="_blank" rel="noopener">下厨房爬虫</a></p>
<p><a href="https://github.com/lzjun567/zhihu-crawler" target="_blank" rel="noopener">zhihu-crawler</a></p>
<p><a href="github.com/rmax/scrapy-redis">Scrapy-Redis</a></p>
<p><a href="https://github.com/ShenJianShou/crawler_samples" target="_blank" rel="noopener">神箭手 云爬虫 爬取规则示例</a></p>
<p>ovwane/python_crawler</p>
<p>README.md<br>Crawler<br>收集网络上大神们写的爬虫代码。</p>
<h1 id="spider"><a href="#spider" class="headerlink" title="spider"></a>spider</h1><p><a href="https://github.com/chenqing/spider" target="_blank" rel="noopener">chenqing/spider</a></p>
<p><a href="https://github.com/imchenkun/ick-spider" target="_blank" rel="noopener">imchenkun/ick-spider</a></p>
<p><a href="https://github.com/Otakuwizard/spider" target="_blank" rel="noopener">Otakuwizard/spider</a></p>
<p><a href="https://github.com/Germey/Weibo" target="_blank" rel="noopener">Germey/Weibo</a></p>
<h1 id="Scrapy"><a href="#Scrapy" class="headerlink" title="Scrapy"></a>Scrapy</h1><p><a href="https://github.com/DormyMo/SpiderKeeper" target="_blank" rel="noopener">SpiderKeeper</a></p>
<p><a href="https://github.com/scrapy/scrapyd" target="_blank" rel="noopener">scrapy/scrapyd</a></p>
<p><a href="https://github.com/Germey/Gerapy" target="_blank" rel="noopener">Germey/Gerapy</a></p>
<p><a href="https://github.com/sam408130/scrapy" target="_blank" rel="noopener">sam408130/scrapy</a></p>
<p><a href="https://github.com/Wooden-Robot/scrapy-tutorial" target="_blank" rel="noopener">Wooden-Robot/scrapy-tutorial</a></p>
<p><a href="https://github.com/LiuXingMing/Scrapy_Redis_Bloomfilter" target="_blank" rel="noopener">LiuXingMing/Scrapy_Redis_Bloomfilter</a></p>
<p><a href="https://github.com/younghz/sr-chn" target="_blank" rel="noopener">scrapy-redis代码研究</a></p>
<p>#代理<br><a href="https://github.com/DormyMo/ProxyCrawler" target="_blank" rel="noopener">ProxyCrawler</a></p>
<p><a href="https://github.com/awolfly9/IPProxyTool" target="_blank" rel="noopener">awolfly9/IPProxyTool</a></p>
<p><a href="https://github.com/Nyloner/ProxyPool" target="_blank" rel="noopener">Nyloner/ProxyPool</a></p>
<p><a href="https://github.com/Germey/ProxyPool" target="_blank" rel="noopener">Germey/ProxyPool</a></p>
<p><a href="https://github.com/Germey/CookiesPool" target="_blank" rel="noopener">Germey/CookiesPool</a></p>
<p><a href="https://github.com/love3forever/proxyHunter" target="_blank" rel="noopener">love3forever/proxyHunter</a></p>
<p><a href="https://github.com/pujinxiao/IPProxyPool" target="_blank" rel="noopener">pujinxiao/IPProxyPool</a></p>
<p><a href="https://github.com/qiyeboy/IPProxyPool" target="_blank" rel="noopener">qiyeboy/IPProxyPool</a></p>
<p><a href="https://github.com/Germey/AutoProxy" target="_blank" rel="noopener">Germey/AutoProxy</a></p>
<p>#1</p>
<p><a href="https://github.com/istresearch/scrapy-cluster" target="_blank" rel="noopener">istresearch/scrapy-cluster</a></p>
<p><a href="https://github.com/wangqifan/ZhiHu" target="_blank" rel="noopener">wangqifan/ZhiHu</a></p>
<p><a href="https://github.com/otakurice/weibonlp" target="_blank" rel="noopener">otakurice/weibonlp</a></p>
<p><a href="https://github.com/geekcompany/DeerResume" target="_blank" rel="noopener">geekcompany/DeerResume</a></p>
<p><a href="https://github.com/otakurice/notravellist" target="_blank" rel="noopener">otakurice/notravellist</a></p>
<p><a href="https://github.com/Nyloner/NyPython" target="_blank" rel="noopener">Nyloner/NyPython</a></p>
<p><a href="https://github.com/otakurice/lagoujob" target="_blank" rel="noopener">otakurice/lagoujob</a></p>
<p>#简单爬虫<br><a href="https://github.com/xiaozhiqi2016/spider_basic" target="_blank" rel="noopener">xiaozhiqi2016/spider_basic</a></p>
<p><a href="https://github.com/Germey/TaobaoProduct" target="_blank" rel="noopener">Germey/TaobaoProduct</a></p>
<p><a href="https://github.com/Germey/Cnki" target="_blank" rel="noopener">Germey/Cnki</a></p>
<p><a href="https://github.com/Germey/TaobaoMM" target="_blank" rel="noopener">Germey/TaobaoMM</a></p>
<p><a href="https://github.com/Wooden-Robot/Pythonspider" target="_blank" rel="noopener">Wooden-Robot/Pythonspider</a></p>
<p><a href="https://github.com/bigstupidx/Pythonspider" target="_blank" rel="noopener">bigstupidx/Pythonspider</a></p>
<p><a href="https://github.com/StephinChou/Pythonspider" target="_blank" rel="noopener">StephinChou/Pythonspider</a></p>
<p><a href="https://github.com/Germey/MeiKong" target="_blank" rel="noopener">Germey/MeiKong</a></p>
<p>#爬虫资料汇总<br><a href="https://github.com/KDF5000/SpiderRef" target="_blank" rel="noopener">KDF5000/SpiderRef</a></p>
<p><a href="https://github.com/Ehco1996/Python-crawler" target="_blank" rel="noopener">Ehco1996/Python-crawler</a></p>
<p><a href="https://github.com/luyishisi/Nyspider" target="_blank" rel="noopener">luyishisi/Nyspider</a></p>
<p><a href="https://github.com/Nyloner/Nyspider" target="_blank" rel="noopener">Nyloner/Nyspider</a></p>
<p>#单个网站爬虫<br><a href="https://github.com/fankcoder/spider-comments" target="_blank" rel="noopener">fankcoder/spider-comments</a></p>
<p><a href="https://github.com/wwj718/jobSpider" target="_blank" rel="noopener">wwj718/jobSpider</a></p>
<p><a href="https://github.com/zaxlct/baike-spider" target="_blank" rel="noopener">zaxlct/baike-spider</a></p>
<p><a href="https://github.com/hk029/LagouSpider" target="_blank" rel="noopener">hk029/LagouSpider</a></p>
<p><a href="https://github.com/Jack-Cherish/python-spider" target="_blank" rel="noopener">Jack-Cherish/python-spider</a></p>
<p><a href="https://github.com/wanglu119/distributed-spider" target="_blank" rel="noopener">wanglu119/distributed-spider</a></p>
<p><a href="https://github.com/pujinxiao/Lagou_spider" target="_blank" rel="noopener">pujinxiao/Lagou_spider</a></p>
<p><a href="https://github.com/Wooden-Robot/spider-practice" target="_blank" rel="noopener">Wooden-Robot/spider-practice</a></p>
<p><a href="https://github.com/sam408130/base_spider" target="_blank" rel="noopener">sam408130/base_spider</a></p>
<p><a href="https://github.com/LJ147/githubSpider" target="_blank" rel="noopener">LJ147/githubSpider</a></p>
<p><a href="https://github.com/facert/awesome-spider" target="_blank" rel="noopener">awesome-spider</a></p>
<p><a href="https://github.com/LiuXingMing/SinaSpider" target="_blank" rel="noopener">LiuXingMing/SinaSpider</a></p>
<p><a href="https://github.com/pujinxiao/sina_spider" target="_blank" rel="noopener">pujinxiao/sina_spider</a></p>
<p><a href="https://github.com/xiaozhiqi2016/spider_advanced" target="_blank" rel="noopener">xiaozhiqi2016/spider_advanced</a></p>
<p><a href="https://github.com/LiuXingMing/LinkedinSpider" target="_blank" rel="noopener">LiuXingMing/LinkedinSpider</a></p>
<p><a href="https://github.com/pujinxiao/zhihu_spider" target="_blank" rel="noopener">pujinxiao/zhihu_spider</a></p>
<p><a href="https://github.com/KDF5000/RuolinSpider" target="_blank" rel="noopener">KDF5000/RuolinSpider</a></p>
<p><a href="https://github.com/hk029/NovelSpider" target="_blank" rel="noopener">hk029/NovelSpider</a></p>
<p><a href="https://github.com/pujinxiao/jobbole_spider" target="_blank" rel="noopener">pujinxiao/jobbole_spider</a></p>
<p><a href="https://github.com/Germey/TouTiao" target="_blank" rel="noopener">Germey/TouTiao</a></p>
<p><a href="https://github.com/Germey/Zhihu" target="_blank" rel="noopener">Germey/Zhihu</a></p>
<p><a href="https://github.com/Germey/Weixin" target="_blank" rel="noopener">Germey/Weixin</a></p>
<p><a href="https://github.com/Germey/MaoYan" target="_blank" rel="noopener">Germey/MaoYan</a></p>
<p><a href="https://github.com/hk029/DoubanMovieSpider" target="_blank" rel="noopener">hk029/DoubanMovieSpider</a></p>
<p><a href="https://github.com/hk029/BaiduTiebaSpider" target="_blank" rel="noopener">hk029/BaiduTiebaSpider</a></p>
<p><a href="https://github.com/Germey/TaobaoComments" target="_blank" rel="noopener">Germey/TaobaoComments</a></p>
<p><a href="https://github.com/Germey/iaskspider" target="_blank" rel="noopener">Germey/iaskspider</a></p>
<p><a href="https://github.com/tpeng/weibosearch" target="_blank" rel="noopener">tpeng/weibosearch</a></p>
<p><a href="https://github.com/piglei/nowater" target="_blank" rel="noopener">piglei/nowater</a></p>
<p><a href="https://github.com/l-passer/Passer-zhihu" target="_blank" rel="noopener">l-passer/Passer-zhihu</a></p>
<p><a href="https://github.com/rg3/youtube-dl" target="_blank" rel="noopener">rg3/youtube-dl</a></p>
<p><a href="https://github.com/gnemoug/sina_reptile" target="_blank" rel="noopener">gnemoug/sina_reptile</a></p>
<p><a href="https://github.com/sam408130/parse-baidu-baike" target="_blank" rel="noopener">sam408130/parse-baidu-baike</a></p>
<p><a href="https://github.com/piglei/tieba_poster" target="_blank" rel="noopener">piglei/tieba_poster</a></p>
<p><a href="https://github.com/darkhandz/BaiduLoginWithTiebaSignin" target="_blank" rel="noopener">darkhandz/BaiduLoginWithTiebaSignin</a></p>
<p><a href="https://github.com/ovwane/jdlingyu" target="_blank" rel="noopener">ovwane/jdlingyu</a></p>
<p><a href="https://github.com/pujinxiao/weixin" target="_blank" rel="noopener">pujinxiao/weixin</a></p>
<p><a href="https://github.com/pujinxiao/crops_pider" target="_blank" rel="noopener">pujinxiao/crops_pider</a></p>
<p><a href="https://github.com/pujinxiao/TaoBao" target="_blank" rel="noopener">pujinxiao/TaoBao</a></p>
<p><a href="https://github.com/pujinxiao/wechat_sogou_crawl" target="_blank" rel="noopener">pujinxiao/wechat_sogou_crawl</a></p>
<p><a href="https://github.com/jaryee/wechat_sogou_crawl" target="_blank" rel="noopener">jaryee/wechat_sogou_crawl</a></p>
<p><a href="https://github.com/pujinxiao/qiantuwang" target="_blank" rel="noopener">pujinxiao/qiantuwang</a></p>
<p><a href="https://github.com/fankcoder/findtrip" target="_blank" rel="noopener">fankcoder/findtrip</a></p>
<p><a href="https://github.com/echopy/QQSpider" target="_blank" rel="noopener">echopy/QQSpider</a></p>
<p><a href="https://github.com/thuxugang/QQSpider" target="_blank" rel="noopener">thuxugang/QQSpider</a></p>
<p><a href="https://github.com/echopy/Maizi" target="_blank" rel="noopener">echopy/Maizi</a></p>
<p><a href="https://github.com/echopy/Baidu_Registration" target="_blank" rel="noopener">echopy/Baidu_Registration</a></p>
<p><a href="https://github.com/ovwane/jdlingyu" target="_blank" rel="noopener">ovwane/jdlingyu</a></p>
<p><a href="https://github.com/dongweiming/weapp-zhihulive" target="_blank" rel="noopener">dongweiming/weapp-zhihulive</a></p>
<p><a href="https://github.com/LiuXingMing/Tmall1212" target="_blank" rel="noopener">LiuXingMing/Tmall1212</a></p>
<p><a href="https://github.com/LiuXingMing/QQSpider" target="_blank" rel="noopener">LiuXingMing/QQSpider</a></p>
<p><a href="https://github.com/Germey/TaobaoUser" target="_blank" rel="noopener">Germey/TaobaoUser</a></p>
<p><a href="https://github.com/BruceDone/cnbeta" target="_blank" rel="noopener">BruceDone/cnbeta</a></p>
<p><a href="https://github.com/hk029/Pickup" target="_blank" rel="noopener">hk029/Pickup</a></p>
<p><a href="https://github.com/hk029/doubanbook" target="_blank" rel="noopener">hk029/doubanbook</a></p>
<p><a href="https://github.com/DormyMo/scrappy" target="_blank" rel="noopener">DormyMo/scrappy</a></p>
<h1 id="webdriver"><a href="#webdriver" class="headerlink" title="webdriver"></a>webdriver</h1><p><a href="https://github.com/easonhan007/webdriver_guide" target="_blank" rel="noopener">asonhan007/webdriver_guide</a></p>
<p>#PySpider 爬虫</p>
<p><a href="https://github.com/Germey/PySpiders" target="_blank" rel="noopener">Germey/PySpiders</a></p>
<p><a href="https://github.com/rmax/scrapy-redis" target="_blank" rel="noopener">rmax/scrapy-redis</a></p>
<p><a href="https://github.com/LJ147/ImageSpyder" target="_blank" rel="noopener">LJ147/ImageSpyder</a></p>
<p>#验证码<br>知乎<br><a href="https://github.com/liyaopinner/zheye" target="_blank" rel="noopener">iyaopinner/zheye</a></p>
<p><a href="https://github.com/muchrooms/zheye" target="_blank" rel="noopener">muchrooms/zheye</a></p>
<p><a href="https://github.com/Germey/Python3" target="_blank" rel="noopener">Germey/Python3</a></p>
<p><a href="https://github.com/LJ147/github-trending" target="_blank" rel="noopener">LJ147/github-trending</a></p>
<p><a href="https://github.com/pujinxiao/zhilian" target="_blank" rel="noopener">pujinxiao/zhilian</a></p>
<p><a href="https://github.com/LiuXingMing/WeiboSliderCode" target="_blank" rel="noopener">LiuXingMing/WeiboSliderCode</a></p>
<p><a href="https://github.com/Germey/crack-geetest" target="_blank" rel="noopener">Germey/crack-geetest</a></p>
<p><a href="https://github.com/dzhongyi/crack-geetest" target="_blank" rel="noopener">dzhongyi/crack-geetest</a></p>
<p><a href="https://github.com/DormyMo/ProxyCrawler" target="_blank" rel="noopener">DormyMo/ProxyCrawler</a></p>
<p>#登录<br><a href="https://github.com/xchaoinfo/fuck-login" target="_blank" rel="noopener">xchaoinfo/fuck-login</a></p>
<p><a href="https://github.com/pujinxiao/douban_login" target="_blank" rel="noopener">pujinxiao/douban_login</a></p>
<p><a href="https://github.com/LiuXingMing/WeiboSliderCode" target="_blank" rel="noopener">LiuXingMing/WeiboSliderCode</a></p>
<h1 id="UA"><a href="#UA" class="headerlink" title="UA"></a>UA</h1><p><a href="https://github.com/hellysmile/fake-useragent" target="_blank" rel="noopener">hellysmile/fake-useragent</a></p>
<p>#爬虫知乎专栏</p>
<p><a href="https://zhuanlan.zhihu.com/Ehco-python" target="_blank" rel="noopener">从零开始写Python爬虫</a></p>
<p><a href="https://zhuanlan.zhihu.com/python-cn" target="_blank" rel="noopener">Python之美-董伟明</a><br><a href="http://www.cnblogs.com/jinxiao-pu/p/6706319.htm" target="_blank" rel="noopener">python分布式爬虫打造搜索引擎——–scrapy实现</a><br><a href="https://github.com/pujinxiao/project_pjx" target="_blank" rel="noopener">pujinxiao/project_pjx</a></p>
<p><a href="https://github.com/qiyeboy" target="_blank" rel="noopener">七夜安全爬虫 490个项目</a></p>
<p>#数据分析</p>
<p><a href="https://github.com/wwj718/Zhihu_bigdata" target="_blank" rel="noopener">wwj718/Zhihu_bigdata</a></p>
<p><a href="https://github.com/yoghurtjia/Zhihu_bigdata" target="_blank" rel="noopener">yoghurtjia/Zhihu_bigdata</a></p>
<p><a href="https://github.com/yoghurtjia/-python-BAT-" target="_blank" rel="noopener">针对常见的BAT公司中的大数据面试和笔试问题，列出解决思路，并使用python来实现</a></p>
<p><a href="https://github.com/yoghurtjia/sortquery" target="_blank" rel="noopener">yoghurtjia/sortquery 有10个文件，每个文件1G，每个文件的每行存放的都是用户的query（请自己随机产生），每个文件的query都可能重复。要求你按照query的频度排序。</a></p>
<p><a href="https://github.com/younghz/TBBKAnalysis" target="_blank" rel="noopener">关于淘宝“爆款”数据爬取与分析</a><br><a href="https://github.com/adbmal/sortquery" target="_blank" rel="noopener">adbmal/sortquery</a></p>
<p><a href="https://github.com/KDF5000/RqFetchData" target="_blank" rel="noopener">KDF5000/RqFetchData</a></p>
<p>#爬虫监控<br><a href="https://github.com/pc10201/markets_monitor" target="_blank" rel="noopener">pc10201/markets_monitor</a></p>
<p>#学习记录<br><a href="https://github.com/yoghurtjia/github-pages" target="_blank" rel="noopener">yoghurtjia/github-pages</a></p>
<p><a href="https://github.com/zzbkszd/github-pages" target="_blank" rel="noopener">zzbkszd/github-pages</a></p>

      
      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-炼数成金-笔记" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/07/20/炼数成金-笔记/" class="article-date">
      <time datetime="2015-07-20T18:16:03.000Z" itemprop="datePublished">2015-07-20</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/07/20/炼数成金-笔记/">炼数成金-爬虫-笔记</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p>炼数成金-目录</p>
<p>2012.11.23<br>Python 2.7.3<br>Nginx 1.1.5</p>
<p>01.解释性脚本语言初探.avi 46:42<br>02.1.Python开发环境windows.avi 21:30<br>02.2.Python开发环境linux.avi 21:40<br>02.3.Python开发环境wingide.avi 25:30<br>03.python使用基础.avi 1:53:25<br>04.python内置容器_.avi<br>05.并行开发.mp4<br>06.python正则表达式.avi<br>07.socket编程基础.avi<br>08.爬虫.mp4<br>09.django初探.wmv<br>10.django.avi<br>11.twisted.avi<br>12.Twisted综合应用.avi</p>
<h1 id="03-Python使用基础"><a href="#03-Python使用基础" class="headerlink" title="03 Python使用基础"></a>03 Python使用基础</h1><p>1）基本概念<br>2）运算符与表达式<br>3）逻辑控制结构<br>4）函数<br>5）面向对象编程<br>6）异常处理<br>7）模块与包<br>8）输入、输出、文件和目录操作</p>
<p>1）基本概念</p>
<ol>
<li>常量<br>常量无名<br>不需要修饰</li>
</ol>
<p>1.2）数<br>整数<br>长整数<br>浮点数<br>复数<br>1.3）字符串<br>单引号 ‘abc’<br>双引号 “abc”<br>三引号 ‘’’abc’’’</p>
<p>r前缀 不会转义内容<br>a =r”ss\n sd” 不会换行</p>
<p>dir()函数 可以查看类型所有的方法<br>a = “S”*5 SSSSS复制S5次<br>eval()字符串表达式转换成<br>1.4）变量<br>首字符为字母或下划线<br>其他字母、数字、下划线<br>区分大小写<br>1.5）数据类型<br>数值<br>字符串<br>线性容器</p>
<ul>
<li>字符串也是一种线性容器</li>
<li>list</li>
<li>tuple<br>Hash容器</li>
<li>dict</li>
<li>set<br>None<br>逻辑类型（True,False）<br>1.6）逻辑行与物理行<br>物理行是在遍历器中所看见的，逻辑行是python能够识别的。<br>一个物理行使用多个逻辑行用分号；<br>多个物理行使用一个逻辑行用反斜杠\<br>1.7）缩进<br>缩进在Python中是重要的，缩进使用4个空格，表示不要用制表符。</li>
</ul>
<p>2）运算符与表达式</p>
<ol>
<li>运算符</li>
<li>运算符的优先级</li>
<li>表达式</li>
<li>repr()</li>
</ol>
<p>2.1）运算符</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&amp; 按位与 5 &amp; 3 得到 1</span><br><span class="line">| 按位或 5 | 3 得到 7</span><br><span class="line">^ 按位异或 5 ^ 3 得到 6</span><br><span class="line">~ 按位翻转 ~5 得到 -6 </span><br><span class="line">&lt; 小于</span><br><span class="line">&gt; 大于　</span><br><span class="line">&lt;= 小于等于</span><br><span class="line">&gt;= 大于等于</span><br><span class="line">== 等于</span><br><span class="line">!= 不等于</span><br><span class="line">not 不是</span><br><span class="line">and 并且</span><br><span class="line">or 或着</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">位移 &lt;&lt; &gt;&gt;</span><br><span class="line">a = 10000</span><br><span class="line">a&lt;&lt;10</span><br><span class="line"></span><br><span class="line">a&gt;&gt;10</span><br></pre></td></tr></table></figure>
<p>2.2）运算符的优先级</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">讲的不明所以</span><br></pre></td></tr></table></figure>
<p>2.3）表达式<br>字符串表达式<br>数值表达式<br>逻辑表达式<br>函数式表达式<br>eval()和repr()</p>
<p>2.4）repr()</p>
<p>3）逻辑控制结构</p>
<p>4）函数<br>4.1）简单函数<br>4.2）带形参函数<br>4.3）变量作用域<br>4.4）默认参数值<br>4.5）关键参数<br>4.6）文档字符串<br>4.7）lambda<br>4.8）闭包</p>
<p>5）面向对象编程<br>5.1）面向对象编程<br>5.2）类的定义<br>5.3）类的实例化<br>5.4）类的封装<br>5.5）专用类方法<br>5.6）类属性介绍<br>5.7）私有函数</p>
<p>5.1）面向对象编程<br>封装（Encapsulation）<br>继承（Inheritance）<br>多态（polymorphism）</p>
<p>5.2）类的定义<br>5.3）类的实例化<br>5.4）类的封装<br>5.5）专用类方法<br>5.6）类属性介绍<br>5.7）私有函数</p>
<p>6）异常处理<br>什么叫防御式编程<br>try<br>except<br>finally</p>
<p>7）模块与包</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">__init__.py</span><br><span class="line">文件、模块与包</span><br><span class="line">编码问题</span><br><span class="line">#!</span><br><span class="line">导入</span><br><span class="line">import</span><br><span class="line">from import</span><br></pre></td></tr></table></figure>
<p>8）输入、输出、文件和目录操作</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">open</span><br><span class="line">write</span><br><span class="line">read</span><br><span class="line">readlines</span><br><span class="line">seek</span><br><span class="line">os.listdir</span><br><span class="line">os.walk</span><br></pre></td></tr></table></figure>
<p>尝试一下。</p>
<p>尝试着做一下。</p>
<p>挑战下自己。做一下。</p>
<h1 id="04-Python内置容器"><a href="#04-Python内置容器" class="headerlink" title="04 Python内置容器"></a>04 Python内置容器</h1><p>1）列表-list<br>定义 []<br>访问<br>切片操作<br>嵌套<br>内置函数</p>
<p>2）元组-tuple<br>定义 （）<br>类似list的访问方式<br>不可变对象<br>类型转换<br>隐式tuple调用<br>数据交换<br>拆封与解封</p>
<p>3）字典-dict<br>定义{}<br>字典的声明<br>简单使用<br>keys()和values()<br>排序问题及解决<br>e = sorted(a,key=lambda t:t[0])</p>
<p>4)集合-set<br>定义方式set()<br>set–唯一集合<br>演示合并功能<br>类型转换</p>
<p>5）map，reduce，filter<br>map</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">a=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>]</span><br><span class="line">map(<span class="keyword">lambda</span> x:x*<span class="number">2</span>,a)</span><br><span class="line">map(<span class="keyword">lambda</span> x:x^<span class="number">2</span>,a)</span><br></pre></td></tr></table></figure>
<p>reduce</p>
<p>归并，收敛操作</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">a=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>]</span><br><span class="line">reduce(<span class="keyword">lambda</span> x,y:x+y,a)</span><br></pre></td></tr></table></figure>
<p>filter</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">a=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>]</span><br><span class="line">filter(<span class="keyword">lambda</span> x:x%<span class="number">2</span> + <span class="number">1</span>,a)</span><br><span class="line">filter(<span class="keyword">lambda</span> x:<span class="keyword">not</span> x%<span class="number">2</span> + <span class="number">1</span>,a)</span><br></pre></td></tr></table></figure>
<p>笛卡尔方法论<br>拆分<br>排序<br>分别处理每一个问题<br>归并</p>
<p>6)生成器与迭代器<br>yield</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fab</span><span class="params">(m)</span>:</span></span><br><span class="line">	a,b=<span class="number">1</span>,<span class="number">1</span></span><br><span class="line">	<span class="keyword">while</span> a&lt;m:</span><br><span class="line">		<span class="keyword">yield</span> a</span><br><span class="line">		a,b=b,a+b</span><br><span class="line">		</span><br><span class="line">b=fab(<span class="number">6</span>)</span><br><span class="line">b.next()</span><br></pre></td></tr></table></figure>
<h1 id="05-并行开发"><a href="#05-并行开发" class="headerlink" title="05 并行开发"></a>05 并行开发</h1><p>1）并行的世界<br>2）多进程开发<br>3）多线程开发</p>
<p>1）并行的世界<br>串行与并行<br>阻塞与非阻塞任务<br>共享与冲突<br>多线程与多进程的区别和特点</p>
<p>2）多进程开发<br>Linux、unix平台专属<br>fork<br>wait<br>waitpid<br>pipe和singal<br>守护进程</p>
<p>fork </p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">myfork</span><span class="params">()</span>:</span></span><br><span class="line">	pid = os.fork()</span><br><span class="line">	<span class="keyword">if</span> pid==<span class="number">0</span>:</span><br><span class="line">		print(<span class="string">"this is child %d %d"</span> %(pid,os.getpid()))</span><br><span class="line">	<span class="keyword">else</span>:</span><br><span class="line">		print(<span class="string">"this is parent %d"</span> %pid)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">"__main__"</span></span><br><span class="line">	myfork()</span><br></pre></td></tr></table></figure>
<p>3）多线程开发<br>Thread<br>Threading<br>共享变量与临界资源<br>锁机制</p>
<h1 id="07-socket编程基础"><a href="#07-socket编程基础" class="headerlink" title="07 socket编程基础"></a>07 socket编程基础</h1><p>tcpdump<br>netstat</p>
<blockquote>
<p>TCP/IP协议卷一</p>
</blockquote>
<p>select<br>poll<br>同select类似，没有文件描述符的限制<br>epoll<br>内核直接支持，基于事件就绪，注册和callback</p>
<h1 id="09-django初探"><a href="#09-django初探" class="headerlink" title="09 django初探"></a>09 django初探</h1><p>1:05:38 电商网站需求分析</p>

      
      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-炼数成金-目录" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/07/20/炼数成金-目录/" class="article-date">
      <time datetime="2015-07-20T18:14:22.000Z" itemprop="datePublished">2015-07-20</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/07/20/炼数成金-目录/">炼数成金-爬虫-目录</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p>炼数成金-目录</p>
<p>01.解释性脚本语言初探.avi 46:42<br>02.1.Python开发环境windows.avi 21:30<br>02.2.Python开发环境linux.avi 21:40<br>02.3.Python开发环境wingide.avi 25:30<br>03.python使用基础.avi 1:53:25<br>04.python内置容器_.avi 47:02<br>05.并行开发.mp4 1:08:22<br>06.python正则表达式.avi 1:03:49<br>07.socket编程基础.avi 1:18:04<br>08.爬虫.mp4 59:18<br>09.django初探.wmv 1:11:22<br>10.django.avi 1:34:59<br>11.twisted.avi 43:30<br>12.Twisted综合应用.avi 50:09</p>

      
      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-去北京" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/06/15/去北京/" class="article-date">
      <time datetime="2015-06-15T10:13:00.000Z" itemprop="datePublished">2015-06-15</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/06/15/去北京/">去北京</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <pre><code>坐上广州开往北京的列车。
</code></pre>
      
      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/生活/">生活</a><a class="article-category-link" href="/categories/生活/感想/">感想</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/历史/">历史</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-LNAMP配置WordPress" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/05/17/LNAMP配置WordPress/" class="article-date">
      <time datetime="2015-05-17T15:21:20.000Z" itemprop="datePublished">2015-05-17</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/05/17/LNAMP配置WordPress/">LNAMP配置运行WordPress</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p>LNAMP配置运行WordPress</p>
<h2 id="nginx-301重定向配置"><a href="#nginx-301重定向配置" class="headerlink" title="nginx 301重定向配置"></a><a href="http://www.ttlsa.com/nginx/nginx-301-redirect/" target="_blank" rel="noopener">nginx 301重定向配置</a></h2><p>301重定向不陌生, 有时候有需求把某目录整个重定向到一个二级域名,或者不带www的顶级域名请求全部重定向到带www的二级域名.如果是Apache，需要配置.htaccess，nginx不支持，需要在配置文件里面使用rewrite指令来实现。</p>
<p>顶级域名重定向到www</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">server &#123;</span><br><span class="line"> server_name ttlsa.com;</span><br><span class="line"> rewrite ^/(.*)$ http://www.ttlsa.com/$1 permanent;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>
<p>如上配置，所有ttlsa.com的请求都会重定向到<a href="http://www.ttlsa.com,301重定向对SEO很有帮助.这个配置大家用的最多。" target="_blank" rel="noopener">www.ttlsa.com,301重定向对SEO很有帮助.这个配置大家用的最多。</a></p>
<p>www二级域名重定向到顶级域名</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">server &#123;</span><br><span class="line"> server_name www.ttlsa.com;</span><br><span class="line"> rewrite ^/(.*)$ http://domain.com/$1 permanent;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>
<p>江湖盛传顶级域名的权重会比www二级域名的权重高，有些seoer会要求运维一定要把www的请求转到顶级域名，和上面的做法相反。</p>
<p>目录重定向</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">if ( $request_filename ~ nginxjiaocheng/ ) &#123;</span><br><span class="line"> rewrite ^ http://www.ttlsa.com/nginx/? permanent;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>
<p>目录跳转新域名</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">if ( $request_filename ~ nginx/ ) &#123;</span><br><span class="line"> rewrite ^ http://nginx.ttlsa.com/? permanent;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>

      
      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/技术/">技术</a><a class="article-category-link" href="/categories/技术/Linux/">Linux</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/CentOS/">CentOS</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/MySQL/">MySQL</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Nginx/">Nginx</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/PHP/">PHP</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/httpd/">httpd</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-去广州" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/04/14/去广州/" class="article-date">
      <time datetime="2015-04-14T09:17:00.000Z" itemprop="datePublished">2015-04-14</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/04/14/去广州/">去广州</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <pre><code>上海发向广州的火车。没有买到有座位的票，一路站到广州。
</code></pre>
      
      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/生活/">生活</a><a class="article-category-link" href="/categories/生活/感想/">感想</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/历史/">历史</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-2014年终总结之败家" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2014/12/31/2014年终总结之败家/" class="article-date">
      <time datetime="2014-12-31T08:01:09.000Z" itemprop="datePublished">2014-12-31</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/12/31/2014年终总结之败家/">2014年终总结之败家</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        
      
      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/生活/">生活</a><a class="article-category-link" href="/categories/生活/感想/">感想</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/历史/">历史</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
  
    <nav id="page-nav">
      <a class="extend prev" rel="prev" href="/page/40/">&laquo; Prev</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/39/">39</a><a class="page-number" href="/page/40/">40</a><span class="page-number current">41</span><a class="page-number" href="/page/42/">42</a><a class="page-number" href="/page/43/">43</a><a class="extend next" rel="next" href="/page/42/">Next &raquo;</a>
    </nav>
  
</div>
      <footer id="footer">
    <div class="outer">
        <div id="footer-info">
            <div class="footer-left">
                &copy; 2018 幻舞梦境
            </div>
            <div class="footer-right">
                <a href="http://hexo.io/" target="_blank">Hexo</a>  Theme <a href="https://github.com/luuman/hexo-theme-spfk" target="_blank">spfk</a> by luuman
            </div>
        </div>
        
            <div class="visit">
                
                    <span id="busuanzi_container_site_pv" style='display:none'>
                        <span id="site-visit" >海贼到访数: 
                            <span id="busuanzi_value_site_uv"></span>
                        </span>
                    </span>
                
                
                    <span>, </span>
                
                
                    <span id="busuanzi_container_page_pv" style='display:none'>
                        <span id="page-visit">本页阅读量: 
                            <span id="busuanzi_value_page_pv"></span>
                        </span>
                    </span>
                
            </div>
        
    </div>
</footer>

    </div>
    <script src="https://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js"></script>
<script src="/js/main.js"></script>

    <script>
        $(document).ready(function() {
            var backgroundnum = 24;
            var backgroundimg = "url(/background/bg-x.jpg)".replace(/x/gi, Math.ceil(Math.random() * backgroundnum));
            $("#mobile-nav").css({"background-image": backgroundimg,"background-size": "cover","background-position": "center"});
            $(".left-col").css({"background-image": backgroundimg,"background-size": "cover","background-position": "center"});
        })
    </script>


<!-- Google Analytics -->
<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-39498261-3', 'auto');
ga('send', 'pageview');

</script>
<!-- End Google Analytics -->



	<script>
	var _hmt = _hmt || [];
	(function() {
	  var hm = document.createElement("script");
	  hm.src = "//hm.baidu.com/hm.js?1bb44bf25fea8f000a1397f9b5438de7";
	  var s = document.getElementsByTagName("script")[0]; 
	  s.parentNode.insertBefore(hm, s);
	})();
	</script>


<div class="scroll" id="scroll">
    <a href="#"><i class="fa fa-arrow-up"></i></a>
    <a href="#comments"><i class="fa fa-comments-o"></i></a>
    <a href="#footer"><i class="fa fa-arrow-down"></i></a>
</div>
<script>
    $(document).ready(function() {
        if ($("#comments").length < 1) {
            $("#scroll > a:nth-child(2)").hide();
        };
    })
</script>

<script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
</script>

  <script language="javascript">
    $(function() {
        $("a[title]").each(function() {
            var a = $(this);
            var title = a.attr('title');
            if (title == undefined || title == "") return;
            a.data('title', title).removeAttr('title').hover(

            function() {
                var offset = a.offset();
                $("<div id=\"anchortitlecontainer\"></div>").appendTo($("body")).html(title).css({
                    top: offset.top - a.outerHeight() - 15,
                    left: offset.left + a.outerWidth()/2 + 1
                }).fadeIn(function() {
                    var pop = $(this);
                    setTimeout(function() {
                        pop.remove();
                    }, pop.text().length * 800);
                });
            }, function() {
                $("#anchortitlecontainer").remove();
            });
        });
    });
</script>


  </div>
</body>
</html>