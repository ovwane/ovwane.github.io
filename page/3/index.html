<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="utf-8">
  
  <title>幻舞梦境</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="幻舞梦境">
<meta property="og:url" content="https://ovwane.icu/page/3/index.html">
<meta property="og:site_name" content="幻舞梦境">
<meta property="og:locale" content="default">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="幻舞梦境">
  
    <link rel="alternative" href="/atom.xml" title="幻舞梦境" type="application/atom+xml">
  
  
    <link rel="icon" href="/img/favicon.png">
  
  
      <link rel="stylesheet" href="//cdn.bootcss.com/animate.css/3.5.0/animate.min.css">
  
  <link rel="stylesheet" href="/css/style.css">
  <link rel="stylesheet" href="/font-awesome/css/font-awesome.min.css">
  <link rel="apple-touch-icon" href="/apple-touch-icon.png">
  
     
      <meta name="baidu-site-verification" content="3rC08I0Cp6">
    
     
      <meta name="google-site-verification" content="rn8f25RzFQoiByt8ezg9E17KZIElbIlwJ4y-EKSlWbA">
    
  
  
      <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  
  <!-- 加载特效 -->
    <script src="/js/pace.js"></script>
    <link href="/css/pace/pace-theme-flash.css" rel="stylesheet">
  <script>
      var yiliaConfig = {
          rootUrl: '/',
          fancybox: true,
          animate: true,
          isHome: true,
          isPost: false,
          isArchive: false,
          isTag: false,
          isCategory: false,
          open_in_new: false
      }
  </script>
</head></html>
<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
    <header id="header" class="inner">
        <a href="/" class="profilepic">
            
            <img lazy-src="/img/head.jpg" class="js-avatar">
            
        </a>

        <hgroup>
          <h1 class="header-author"><a href="/" title="Hi Mate">幻舞梦境</a></h1>
        </hgroup>

        
        
        
            <div id="switch-btn" class="switch-btn">
                <div class="icon">
                    <div class="icon-ctn">
                        <div class="icon-wrap icon-house" data-idx="0">
                            <div class="birdhouse"></div>
                            <div class="birdhouse_holes"></div>
                        </div>
                        <div class="icon-wrap icon-ribbon hide" data-idx="1">
                            <div class="ribbon"></div>
                        </div>
                        
                        <div class="icon-wrap icon-link hide" data-idx="2">
                            <div class="loopback_l"></div>
                            <div class="loopback_r"></div>
                        </div>
                        
                        
                        <div class="icon-wrap icon-me hide" data-idx="3">
                            <div class="user"></div>
                            <div class="shoulder"></div>
                        </div>
                        
                    </div>
                    
                </div>
                <div class="tips-box hide">
                    <div class="tips-arrow"></div>
                    <ul class="tips-inner">
                        <li>菜单</li>
                        <li>标签</li>
                        
                        <li>友情链接</li>
                        
                        
                        <li>关于我</li>
                        
                    </ul>
                </div>
            </div>
        

        <div id="switch-area" class="switch-area">
            <div class="switch-wrap">
                <section class="switch-part switch-part1">
                    <nav class="header-menu">
                        <ul>
                        
                            <li><a href="/">博客首页</a></li>
                        
                            <li><a href="/archives">博客归档</a></li>
                        
                        </ul>
                    </nav>
                    <nav class="header-nav">
                        <ul class="social">
                            
                                <a class="fl github" target="_blank" href="https://github.com/ovwane" title="github">github</a>
                            
                        </ul>
                    </nav>
                </section>
                
                
                <section class="switch-part switch-part2">
                    <div class="widget tagcloud" id="js-tagcloud">
                        <a href="/tags/Ansible/" style="font-size: 11.67px;">Ansible</a> <a href="/tags/Bind/" style="font-size: 10px;">Bind</a> <a href="/tags/Cacti/" style="font-size: 10px;">Cacti</a> <a href="/tags/CentOS/" style="font-size: 20px;">CentOS</a> <a href="/tags/Cobbler/" style="font-size: 10px;">Cobbler</a> <a href="/tags/DHCP/" style="font-size: 10px;">DHCP</a> <a href="/tags/Django/" style="font-size: 10px;">Django</a> <a href="/tags/Docker/" style="font-size: 10px;">Docker</a> <a href="/tags/Git/" style="font-size: 10px;">Git</a> <a href="/tags/Gitlab/" style="font-size: 11.67px;">Gitlab</a> <a href="/tags/HAProxy/" style="font-size: 10px;">HAProxy</a> <a href="/tags/Hexo/" style="font-size: 11.67px;">Hexo</a> <a href="/tags/Java/" style="font-size: 10px;">Java</a> <a href="/tags/Jenkins/" style="font-size: 11.67px;">Jenkins</a> <a href="/tags/KVM/" style="font-size: 10px;">KVM</a> <a href="/tags/Kubernetes/" style="font-size: 10px;">Kubernetes</a> <a href="/tags/Linux/" style="font-size: 15px;">Linux</a> <a href="/tags/MariaDB/" style="font-size: 10px;">MariaDB</a> <a href="/tags/MySQL/" style="font-size: 10px;">MySQL</a> <a href="/tags/NFS/" style="font-size: 10px;">NFS</a> <a href="/tags/Nagios/" style="font-size: 10px;">Nagios</a> <a href="/tags/Nginx/" style="font-size: 16.67px;">Nginx</a> <a href="/tags/Oh-My-Zsh/" style="font-size: 10px;">Oh My Zsh</a> <a href="/tags/OpenLDAP/" style="font-size: 10px;">OpenLDAP</a> <a href="/tags/OpenStack/" style="font-size: 10px;">OpenStack</a> <a href="/tags/PHP/" style="font-size: 11.67px;">PHP</a> <a href="/tags/PXE/" style="font-size: 10px;">PXE</a> <a href="/tags/Python/" style="font-size: 13.33px;">Python</a> <a href="/tags/RHEL7/" style="font-size: 10px;">RHEL7</a> <a href="/tags/Resin/" style="font-size: 10px;">Resin</a> <a href="/tags/Samba/" style="font-size: 10px;">Samba</a> <a href="/tags/Scrapy/" style="font-size: 10px;">Scrapy</a> <a href="/tags/Scrapyd/" style="font-size: 10px;">Scrapyd</a> <a href="/tags/SpiderKeeper/" style="font-size: 10px;">SpiderKeeper</a> <a href="/tags/Squid/" style="font-size: 10px;">Squid</a> <a href="/tags/Subversion/" style="font-size: 10px;">Subversion</a> <a href="/tags/Supervisor/" style="font-size: 10px;">Supervisor</a> <a href="/tags/Tomcat/" style="font-size: 13.33px;">Tomcat</a> <a href="/tags/Ubuntu/" style="font-size: 10px;">Ubuntu</a> <a href="/tags/Web/" style="font-size: 10px;">Web</a> <a href="/tags/Zabbix/" style="font-size: 10px;">Zabbix</a> <a href="/tags/Zsh/" style="font-size: 10px;">Zsh</a> <a href="/tags/cacti/" style="font-size: 10px;">cacti</a> <a href="/tags/dovecot/" style="font-size: 10px;">dovecot</a> <a href="/tags/httpd/" style="font-size: 11.67px;">httpd</a> <a href="/tags/iSCSI/" style="font-size: 10px;">iSCSI</a> <a href="/tags/k8s/" style="font-size: 10px;">k8s</a> <a href="/tags/kickstart/" style="font-size: 10px;">kickstart</a> <a href="/tags/macOS/" style="font-size: 16.67px;">macOS</a> <a href="/tags/nagios/" style="font-size: 10px;">nagios</a> <a href="/tags/postfix/" style="font-size: 10px;">postfix</a> <a href="/tags/rsync/" style="font-size: 10px;">rsync</a> <a href="/tags/sshd/" style="font-size: 10px;">sshd</a> <a href="/tags/uWSGI/" style="font-size: 10px;">uWSGI</a> <a href="/tags/vsftpd/" style="font-size: 10px;">vsftpd</a> <a href="/tags/zabbix/" style="font-size: 10px;">zabbix</a> <a href="/tags/历史/" style="font-size: 18.33px;">历史</a> <a href="/tags/学习笔记/" style="font-size: 10px;">学习笔记</a> <a href="/tags/情感/" style="font-size: 10px;">情感</a> <a href="/tags/生活/" style="font-size: 10px;">生活</a> <a href="/tags/监控/" style="font-size: 13.33px;">监控</a> <a href="/tags/网络/" style="font-size: 10px;">网络</a> <a href="/tags/自己/" style="font-size: 10px;">自己</a> <a href="/tags/运维/" style="font-size: 10px;">运维</a>
                    </div>
                </section>
                
                
                
                <section class="switch-part switch-part3">
                    <div id="js-friends">
                    
                      <a target="_blank" class="main-nav-link switch-friends-link" href="http://luuman.github.io/">name</a>
                    
                    </div>
                </section>
                

                
                
                <section class="switch-part switch-part4">
                
                    <div id="js-aboutme">纯海迷、爱运动、爱交友、爱旅行、喜欢接触新鲜事物、迎接新的挑战，更爱游离于错综复杂的编码与逻辑中</div>
                </section>
                
            </div>
        </div>
    </header>                
</div>
    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
      <div class="overlay">
          <div class="slider-trigger"></div>
          <h1 class="header-author js-mobile-header hide"><a href="/" title="Me">幻舞梦境</a></h1>
      </div>
    <div class="intrude-less">
        <header id="header" class="inner">
            <a href="/" class="profilepic">
                
                    <img lazy-src="/img/head.jpg" class="js-avatar">
                
            </a>
            <hgroup>
              <h1 class="header-author"><a href="/" title="Me">幻舞梦境</a></h1>
            </hgroup>
            
            <nav class="header-menu">
                <ul>
                
                    <li><a href="/">博客首页</a></li>
                
                    <li><a href="/archives">博客归档</a></li>
                
                <div class="clearfix"></div>
                </ul>
            </nav>
            <nav class="header-nav">
                <div class="social">
                    
                        <a class="github" target="_blank" href="https://github.com/ovwane" title="github">github</a>
                    
                </div>
            </nav>
        </header>                
    </div>
</nav>
      <div class="body-wrap">
  
    <article id="post-OpenSTF-iOS-部署" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2019/07/01/OpenSTF-iOS-部署/" class="article-date">
      <time datetime="2019-07-01T00:06:34.000Z" itemprop="datePublished">2019-07-01</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/07/01/OpenSTF-iOS-部署/">OpenStf iOS 部署</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h2 id="OpenStf-iOS-适配"><a href="#OpenStf-iOS-适配" class="headerlink" title="OpenStf iOS 适配"></a>OpenStf iOS 适配</h2><ul>
<li>macOS 10.14.4</li>
<li><p>node 8.15.0</p>
</li>
<li><p>python 2.7.15</p>
</li>
<li>Xcode 10.0</li>
</ul>
<blockquote>
<p>nvm，pyenv，xcversion</p>
</blockquote>
<h3 id="1-环境准备"><a href="#1-环境准备" class="headerlink" title="1. 环境准备"></a>1. 环境准备</h3><p>  安装libimobiledevice等依赖工具，如果已经安装过，可能需要升级，先卸载，再安装最新版本</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">brew uninstall --ignore-dependencies usbmuxd</span><br><span class="line">brew uninstall --ignore-dependencies libimobiledevice</span><br><span class="line">brew uninstall --ignore-dependencies ideviceinstaller</span><br><span class="line"></span><br><span class="line">brew install --HEAD usbmuxd</span><br><span class="line"><span class="meta">#</span><span class="bash">brew unlink usbmuxd</span></span><br><span class="line"><span class="meta">#</span><span class="bash">brew link usbmuxd</span></span><br><span class="line"></span><br><span class="line">brew install --HEAD libimobiledevice</span><br><span class="line">brew install --HEAD ideviceinstaller</span><br><span class="line">brew install carthage</span><br><span class="line">brew install socat</span><br></pre></td></tr></table></figure>
<h3 id="2-安装-stf-依赖："><a href="#2-安装-stf-依赖：" class="headerlink" title="2. 安装 stf 依赖："></a>2. 安装 stf 依赖：</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew install graphicsmagick libsodium zeromq protobuf yasm pkg-config</span><br></pre></td></tr></table></figure>
<h3 id="3-配置-WebDriverAgent"><a href="#3-配置-WebDriverAgent" class="headerlink" title="3. 配置 WebDriverAgent"></a>3. 配置 WebDriverAgent</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> git <span class="built_in">clone</span> -b v0.1.1 https://github.com/mrx1203/WebDriverAgent.git</span></span><br><span class="line">git clone https://github.com/mrx1203/WebDriverAgent.git</span><br><span class="line"></span><br><span class="line">cd WebDriverAgent</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 修改 bundleID，修改证书，修改Schema</span></span><br><span class="line">open WebDriverAgent.xcodeproj</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> Validating Inspector 有问题，注释了。</span></span><br><span class="line">./Scripts/bootstrap.sh</span><br></pre></td></tr></table></figure>
<blockquote>
<p>使用的 Xcode 10.0，Xcode 10.2.1 版本 linker 有问题，提示找不到 XCEventGenerator。</p>
</blockquote>
<h3 id="4-启动-ios-provider"><a href="#4-启动-ios-provider" class="headerlink" title="4. 启动 ios-provider"></a>4. 启动 ios-provider</h3><ul>
<li>拉取源代码</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone https://github.com/mrx1203/stf.git</span><br></pre></td></tr></table></figure>
<ul>
<li>安装依赖库</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd stf</span><br></pre></td></tr></table></figure>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">CXXFLAGS="-mmacosx-version-min=10.9" LDFLAGS="-mmacosx-version-min=10.9" npm install; npm install --save request; npm install --save request-promise</span><br></pre></td></tr></table></figure>
<p>检查组件是否都正常</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bin/stf doctor</span><br></pre></td></tr></table></figure>
<ul>
<li>启动ios-provider，假设主服务器的ip地址为10.8.8.128，该节点的ip地址为192.168.1.24。</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bin/stf ios-provider --name "mac001" --connect-sub tcp://10.8.8.128:7250 --connect-push tcp://10.8.8.128:7270 --storage-url http://10.8.8.128 --public-ip 192.168.1.24 --heartbeat-interval 20000 --wda-path /Users/jinlong/projects/mrx1203/WebDriverAgent --wda-port 8100</span><br></pre></td></tr></table></figure>
<p>挂载</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ideviceimagemounter /Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/DeviceSupport/12.0/DeveloperDiskImage.dmg  /Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/DeviceSupport/12.0/DeveloperDiskImage.dmg.signature</span><br></pre></td></tr></table></figure>
<p>截图</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">idevicescreenshot -u 81940f3e74cd76f934c7a6ebec5ea038eb3f7e1d 81940f3e74cd76f934c7a6ebec5ea038eb3f7e1d.png</span><br></pre></td></tr></table></figure>
<h2 id="改造官方-stf"><a href="#改造官方-stf" class="headerlink" title="改造官方 stf"></a>改造官方 stf</h2><h3 id="拉取官方代码"><a href="#拉取官方代码" class="headerlink" title="拉取官方代码"></a>拉取官方代码</h3><blockquote>
<p>OpenStf 3.4.1</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone -b v3.4.1 https://github.com/openstf/stf.git</span><br></pre></td></tr></table></figure>
<h3 id="复制代码到官方代码目录下"><a href="#复制代码到官方代码目录下" class="headerlink" title="复制代码到官方代码目录下"></a>复制代码到官方代码目录下</h3><ol>
<li>拷贝<code>lib/cli</code>下的<code>ios-device,ios-provider,local</code>三个文件夹，local文件夹可以直接覆盖。</li>
<li>覆盖<code>lib/cli</code>下的<code>index.js</code>。</li>
<li>拷贝<code>lib/units</code>下的<code>ios-device,ios-provider</code>。</li>
<li>覆盖<code>lib/units/storage/plugins/apk/task/manifest.js</code>文件。</li>
<li>拷贝<code>lib/util</code>下的<code>ipareader.js,download.js</code>文件；ipa文件解析和下载。</li>
<li>覆盖<code>lib/wire/wire.proto</code>文件。</li>
<li>覆盖<code>res/app/components/stf/install/install-service.js</code>文件；ipa文件的安装。</li>
<li>覆盖<code>res/app/components/stf/storage/storage-service.js</code>文件；上传ipa文件。</li>
<li>覆盖<code>package.json</code>添加了依赖模块。</li>
</ol>
<p>安装依赖库</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">CXXFLAGS="-mmacosx-version-min=10.9" LDFLAGS="-mmacosx-version-min=10.9" npm install; npm install --save request; npm install --save request-promise</span><br></pre></td></tr></table></figure>
<p>检查组件是否都正常</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bin/stf doctor</span><br></pre></td></tr></table></figure>
<p>复制 WebDriverAgent 到 stf 目录</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd stf</span><br><span class="line">cp WebDriverAgent .</span><br></pre></td></tr></table></figure>
<p>启动</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bin/stf local</span><br></pre></td></tr></table></figure>
<h2 id="错误"><a href="#错误" class="headerlink" title="错误"></a>错误</h2><p><a href="https://reviewdb.io/questions/1522739809390/idevicescreenshot-not-working" target="_blank" rel="noopener">idevicescreenshot not working</a></p>
<p><a href="https://github.com/macacajs/XCTestWD/issues/141" target="_blank" rel="noopener">xcode10版本的问题， 找不到XCElementSnapshot头文件</a></p>
<p><a href="https://github.com/nodejs/node-gyp/issues/1564" target="_blank" rel="noopener">node-gyp ‘utility’ file not found </a> <code>CXXFLAGS=&quot;-mmacosx-version-min=10.9&quot; LDFLAGS=&quot;-mmacosx-version-min=10.9&quot; npm i</code></p>
<p><a href="https://github.com/appium/appium/issues/6996" target="_blank" rel="noopener">iproxy 208 错误</a> <code>ps -ax|grep -i &quot;iproxy&quot;|grep -v grep|awk &#39;{print &quot;kill -9 &quot; $1}&#39;|sh</code></p>
<h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><p><a href="https://testerhome.com/topics/19548" target="_blank" rel="noopener">STF 集成 iOS 之 开源了</a></p>

      
      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-Neo4j-配置" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2019/06/13/Neo4j-配置/" class="article-date">
      <time datetime="2019-06-12T23:56:27.000Z" itemprop="datePublished">2019-06-13</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/06/13/Neo4j-配置/">Neo4j 配置</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h2 id="使用-Docker-运行-Neo4j"><a href="#使用-Docker-运行-Neo4j" class="headerlink" title="使用 Docker 运行 Neo4j"></a>使用 Docker 运行 Neo4j</h2><p><a href="https://github.com/neo4j/docker-neo4j" target="_blank" rel="noopener">docker-neo4j</a></p>
<p><a href="https://hub.docker.com/_/neo4j" target="_blank" rel="noopener">Neo4j Docker</a></p>
<p>运行</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -d --name=neo4j-3.5.6 --publish=7474:7474 --publish=7687:7687 --volume=$HOME/docker/neo4j/data:/data --env=NEO4J_AUTH=none neo4j:3.5.6</span><br></pre></td></tr></table></figure>
<blockquote>
<p>–env=NEO4J_AUTH=none 关闭密码认证</p>
</blockquote>
<p>访问</p>
<p><a href="http://127.0.0.1:7474/browser/" target="_blank" rel="noopener">http://127.0.0.1:7474/browser/</a></p>
<p>用户名：<code>neo4j</code>，密码：<code>neo4j</code></p>
<h2 id="Neo4j-Browser"><a href="#Neo4j-Browser" class="headerlink" title="Neo4j Browser"></a><a href="https://github.com/neo4j/neo4j-browser" target="_blank" rel="noopener">Neo4j Browser</a></h2><p>新建图</p>
<blockquote>
<p><a href="https://blog.csdn.net/u010086122/article/details/82390945" target="_blank" rel="noopener">neo4j的搭建和实例使用</a></p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">create(suxun:Person_&#123;name:&quot;苏洵&quot;,age:80,sex:&quot;男&quot;&#125;)</span><br><span class="line">create(sushi:Person_&#123;name:&quot;苏轼&quot;,age:53,sex:&quot;男&quot;&#125;)</span><br><span class="line">create(suzhe:Person_&#123;name:&quot;苏辙&quot;,age:51,sex:&quot;男&quot;&#125;)</span><br><span class="line">create(suxiaomei:Person_&#123;name:&quot;苏小妹&quot;,age:45,sex:&quot;女&quot;&#125;)</span><br><span class="line">create(susun:Person_&#123;name:&quot;苏孙&quot;,age:29,sex:&quot;男&quot;&#125;)</span><br><span class="line">create(suxiaosun:Person_&#123;name:&quot;苏重孙&quot;,age:6,sex:&quot;女&quot;&#125;)</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">match(p1:Person_),(p2:Person_)</span><br><span class="line">where p1.name=&quot;苏洵&quot; and p2.name = &quot;苏轼&quot;</span><br><span class="line">create (p1) -[parent:Parent&#123;relation:&quot;父亲&quot;&#125;]-&gt; (p2);</span><br><span class="line"></span><br><span class="line">match(p1:Person_),(p2:Person_)</span><br><span class="line">where p1.name=&quot;苏洵&quot; and p2.name = &quot;苏辙&quot;</span><br><span class="line">create (p1) -[parent:Parent&#123;relation:&quot;父亲&quot;&#125;] -&gt; (p2);</span><br><span class="line"> </span><br><span class="line">match(p1:Person_),(p2:Person_)</span><br><span class="line">where p1.name=&quot;苏洵&quot; and p2.name = &quot;苏小妹&quot;</span><br><span class="line">create (p1) -[parent:Parent&#123;relation:&quot;父亲&quot;&#125;] -&gt; (p2);</span><br><span class="line"> </span><br><span class="line">match(p1:Person_),(p2:Person_)</span><br><span class="line">where p1.name=&quot;苏轼&quot; and p2.name = &quot;苏孙&quot;</span><br><span class="line">create (p1) -[parent:Parent&#123;relation:&quot;父亲&quot;&#125;] -&gt; (p2);</span><br><span class="line"> </span><br><span class="line">match(p1:Person_&#123;name:&quot;苏孙&quot;&#125;),(p2:Person_&#123;name:&quot;苏重孙&quot;&#125;)</span><br><span class="line">create (p1) -[parent:Parent&#123;relation:&quot;父亲&quot;&#125;] -&gt; (p2);</span><br></pre></td></tr></table></figure>
<p>查询渲染图</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">match(a)-[r:Parent]-&gt;(b) return a, r, b</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">:play https://guides.neo4j.com/sandbox/twitter-trolls/index.html</span><br></pre></td></tr></table></figure>
<h2 id="Graph-Visualization-Tools"><a href="#Graph-Visualization-Tools" class="headerlink" title="Graph Visualization Tools"></a>Graph Visualization Tools</h2><p><a href="https://neo4j.com/developer/tools-graph-visualization/#_howto_graph_visualization_step_by_step" target="_blank" rel="noopener">Graph Visualization Tools</a></p>
<p><a href="https://medium.com/neo4j/graph-visualization-with-neo4j-using-neovis-js-a2ecaaa7c379" target="_blank" rel="noopener">Graph Visualization With Neo4j Using Neovis.js</a></p>
<p><a href="https://github.com/neo4j-contrib/neovis.js" target="_blank" rel="noopener">Neovis</a></p>
<p><a href="https://neo4j.com/sandbox-v2/" target="_blank" rel="noopener">Neo4j Sandbox</a></p>
<p><a href="https://guides.neo4j.com/sandbox/twitter-trolls/index.html" target="_blank" rel="noopener">Russian Twitter Trolls</a></p>
<p><a href="https://blog.csdn.net/qq_34414916/article/details/81168275" target="_blank" rel="noopener">d3.js可视化neo4j图数据库项目</a></p>
<p><a href="https://github.com/Nhogs/popoto" target="_blank" rel="noopener">Popoto.js</a></p>
<p><a href="https://medium.com/neo4j/tagged/data-visualization" target="_blank" rel="noopener">Data Visualization</a></p>

      
      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-RVM-配置" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2019/06/11/RVM-配置/" class="article-date">
      <time datetime="2019-06-11T03:52:36.000Z" itemprop="datePublished">2019-06-11</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/06/11/RVM-配置/">RVM 配置</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h1 id="RVM"><a href="#RVM" class="headerlink" title="RVM"></a><a href="https://github.com/rvm/rvm" target="_blank" rel="noopener">RVM</a></h1><p>安装</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -sSL https://get.rvm.io | bash -s stable</span><br></pre></td></tr></table></figure>
<p>查看版本</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rvm list known</span><br></pre></td></tr></table></figure>
<p>安装 ruby</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rvm install 2.6.3</span><br></pre></td></tr></table></figure>
<p>设置默认 ruby</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rvm alias create default 2.6.3</span><br></pre></td></tr></table></figure>
      
      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-VS-Code-配置" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2019/05/10/VS-Code-配置/" class="article-date">
      <time datetime="2019-05-10T03:03:14.000Z" itemprop="datePublished">2019-05-10</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/05/10/VS-Code-配置/">VS Code 配置</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h4 id="Text-Editor"><a href="#Text-Editor" class="headerlink" title="Text Editor"></a>Text Editor</h4><p>Font Size: <code>20</code></p>
<ul>
<li>editor cursor， 是跟光标渲染和多光标相关的设置；</li>
<li>editor find， 是与编辑器内搜索相关的设置；</li>
<li>editor font， 是与字体有关的设置；</li>
<li>editor format， 是代码格式化；</li>
<li>editor suggest， 是和自动补全、建议窗口等相关的配置。</li>
</ul>
<h4 id="行长度尺子"><a href="#行长度尺子" class="headerlink" title="行长度尺子"></a>行长度尺子</h4><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">"editor.rulers": [70],</span><br></pre></td></tr></table></figure>
<h3 id="File"><a href="#File" class="headerlink" title="File"></a>File</h3><p>Auto Save: onFocusChange</p>
<h4 id="Breadcrumbs"><a href="#Breadcrumbs" class="headerlink" title="Breadcrumbs"></a>Breadcrumbs</h4><blockquote>
<p>面包屑导航(Breadcrumbs)</p>
</blockquote>
<p>Enable</p>
<h4 id="多文件搜索视图的位置"><a href="#多文件搜索视图的位置" class="headerlink" title="多文件搜索视图的位置"></a>多文件搜索视图的位置</h4><p>search.location: <code>panel</code></p>
<h4 id="空格符"><a href="#空格符" class="headerlink" title="空格符"></a>空格符</h4><p>editor.renderWhitespace: <code>all</code></p>
<h4 id="缩进参考线"><a href="#缩进参考线" class="headerlink" title="缩进参考线"></a>缩进参考线</h4><p><code>editor.renderIndentGuides</code></p>
<h4 id="垂直标尺"><a href="#垂直标尺" class="headerlink" title="垂直标尺"></a>垂直标尺</h4><p><code>&quot;editor.rulers&quot;: [120]</code></p>
<h4 id="光标的样式"><a href="#光标的样式" class="headerlink" title="光标的样式"></a>光标的样式</h4><p>editor.cursorBlinking</p>
<p>editor.cursorStyle:<code>block</code></p>
<p>editor.cursorWidth:<code>0</code></p>
<p>editor.renderLineHighlight: “all”</p>
<h4 id="空格"><a href="#空格" class="headerlink" title="空格"></a>空格</h4><p>editor.detectIndentation</p>
<p>editor.insertSpaces</p>
<p>editor.tabSize</p>
<h4 id="代码风格"><a href="#代码风格" class="headerlink" title="代码风格"></a>代码风格</h4><p>editor.formatOnSave: true</p>
<p>editor.formatOnType: true</p>
<h4 id="小地图-Minimap"><a href="#小地图-Minimap" class="headerlink" title="小地图 Minimap"></a>小地图 Minimap</h4><p><code>editor.minimap.enabled</code>：取消</p>
<h4 id="新的空文件默认语言类型"><a href="#新的空文件默认语言类型" class="headerlink" title="新的空文件默认语言类型"></a>新的空文件默认语言类型</h4><p>files.defaultLanguage：<code>markdown</code></p>
<blockquote>
<p><code>javascript</code></p>
</blockquote>
<h2 id="快捷键"><a href="#快捷键" class="headerlink" title="快捷键"></a>快捷键</h2><p>自定义快捷键：<code>先按 cmd+k 然后再按 cmd+s</code></p>
<p>命令面板： <code>cmd+shift+p</code></p>
<p>文件资源管理器：<code>cmd+shift+e</code></p>
<p>跨文件搜索：<code>cmd+shift+f</code></p>
<p>源代码管理：<code>cmd+shift+g</code></p>
<p>启动和调试：<code>cmd+shift+d</code></p>
<p>管理扩展：<code>cmd+shift+x</code></p>
<p>光标移动：<code>cmd</code> 行跳转，<code>option</code> 单词间跳转，<code>cmd+shfit+\</code>代码块间跳转。</p>
<p>合并代码行：<code>ctrl+j</code></p>
<p>多光标操作：<code>shift+方向键</code></p>
<p>复制一行：<code>option+shift+上下键</code></p>
<p>多行操作<code>cmd+option+上下键</code></p>
<p>打开文件之间跳转：<code>ctrl+tab</code></p>
<p>最近打开文件列表：<code>cmd+p</code></p>
<p>符号（Symbols）跳转：<code>cmd+shift+o</code></p>
<p>多个文件内符号跳转：<code>cmd+t</code></p>
<p>定义实现查看：<code>cmd+f12</code></p>
<p>引用 (Reference) 跳转：<code>shift+f12</code></p>
<p>代码折叠：<code>cmd+option+[</code></p>
<p>代码展开：<code>cmd+option+]</code></p>
<p>递归折叠：<code>cmd+k cmd+[</code></p>
<p>递归展开：<code>cmd+k cmd+]</code></p>
<p>所有可折叠的都折叠：<code>cmd+k cmd+0</code></p>
<p>所有课展开的都展开：<code>cmd+k cmd+j</code></p>
<p>面板：<code>cmd+j</code></p>
<p>打开终端：ctrl+`</p>
<p>新建终端：ctrl+shitf+`</p>
<p>多窗口：<code>cmd+\</code></p>
<p>窗口间切换：<code>cmd+1</code>，<code>cmd+2</code>，<code>cmd+3</code></p>
<p>窗口纵向切换：<code>cmd+option+0</code></p>
<p>grid 2 x 2 窗口布局</p>
<p>专注模式：<code>cmd+b</code></p>
<p>窗口缩放：<code>cmd + +</code>，<code>cmd + -</code></p>
<h2 id="代码片段（code-snippet）"><a href="#代码片段（code-snippet）" class="headerlink" title="代码片段（code snippet）"></a>代码片段（code snippet）</h2><h2 id="文件搜索"><a href="#文件搜索" class="headerlink" title="文件搜索"></a>文件搜索</h2><p>单文件搜索：<code>cmd+f</code></p>
<p>搜索结果向下跳转：<code>cmd+g</code></p>
<p>搜索结果向上跳转：<code>cmd+shift+g</code></p>
<p>全单词匹配：<code>cmd+option+w</code></p>
<p>正则表达式：<code>cmd+option+r</code></p>
<p>单文件替换：<code>cmd+option+f</code></p>
<p>多文件搜索：<code>cmd+shift+f</code></p>
<p>多文件替换：<code>cmd+shift+h</code></p>
<h2 id="任务系统"><a href="#任务系统" class="headerlink" title="任务系统"></a>任务系统</h2><p>单任务</p>
<p>多任务</p>
<h2 id="debugger"><a href="#debugger" class="headerlink" title="debugger"></a>debugger</h2><p>快捷键：<code>cmd+shif+d</code></p>
<p>运行：<code>f5</code></p>
<h2 id="插件"><a href="#插件" class="headerlink" title="插件"></a>插件</h2><h3 id="Rainbow-Brackets"><a href="#Rainbow-Brackets" class="headerlink" title="Rainbow Brackets"></a>Rainbow Brackets</h3><p>括号颜色</p>
<h3 id="Indent-Rainbow"><a href="#Indent-Rainbow" class="headerlink" title="Indent Rainbow"></a>Indent Rainbow</h3><p>indent-rainbow：缩进颜色</p>
<h3 id="Import-Cost"><a href="#Import-Cost" class="headerlink" title="Import Cost"></a>Import Cost</h3><p>JavaScript 经常被吐槽的一个地方，就是大家对 npm 库的使用程度非常高，经常为了一个简单的功能，引入了几兆甚至十几兆的 npm 包。<a href="https://marketplace.visualstudio.com/items?itemName=wix.vscode-import-cost" target="_blank" rel="noopener">Import Cost</a>这个插件，很好地在代码中给我们以提示，告诉我们引入的某个包，它最终会导致整个项目的大小增加多少。</p>
<h3 id="Markdown"><a href="#Markdown" class="headerlink" title="Markdown"></a>Markdown</h3><p>Markdown 预览：Markdown Preview Enhanced</p>
<p>粘贴板图片保存：Paste Image</p>
<ul>
<li>修改 Base Path：<code>${currentFileDir}/assets</code>。</li>
<li>修改 Default Name：<code>YMMDD-HH-mm-ss</code>。</li>
<li>修改 Path：<code>${currentFileDir}/assets</code></li>
<li>修改 Prefix：<code>assets/</code>。</li>
</ul>
<h3 id="Git"><a href="#Git" class="headerlink" title="Git"></a>Git</h3><p>Ignore files：忽略文件</p>
<h3 id="Debugger-for-Chrome"><a href="#Debugger-for-Chrome" class="headerlink" title="Debugger for Chrome"></a>Debugger for Chrome</h3><h3 id="Docker"><a href="#Docker" class="headerlink" title="Docker"></a>Docker</h3><h3 id="BASH-相关"><a href="#BASH-相关" class="headerlink" title="BASH 相关"></a>BASH 相关</h3><ul>
<li>shell-format：代码格式化。<a href="https://github.com/mvdan/sh/releases" target="_blank" rel="noopener">https://github.com/mvdan/sh/releases</a></li>
<li>shellman：bash 语法提示。</li>
</ul>
<h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><p> <a href="https://juejin.im/post/5cd8fcedf265da03761eaa45" target="_blank" rel="noopener">[译] 帮你高效使用 VS Code 的秘诀 - 掘金</a> </p>

      
      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-appium-源码分析" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2019/05/07/appium-源码分析/" class="article-date">
      <time datetime="2019-05-07T04:12:19.000Z" itemprop="datePublished">2019-05-07</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/05/07/appium-源码分析/">Appium 源码分析</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <blockquote>
<p>环境参考 appium 的 <a href="https://github.com/appium/appium/blob/master/.travis.yml" target="_blank" rel="noopener">travis.yml</a></p>
<p>使用网络代理</p>
</blockquote>
<h3 id="Node"><a href="#Node" class="headerlink" title="Node"></a>Node</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nvm use v10.20.0</span><br></pre></td></tr></table></figure>
<h3 id="Python"><a href="#Python" class="headerlink" title="Python"></a>Python</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pyenv shell 2.7.16</span><br></pre></td></tr></table></figure>
<h3 id="运行-Appium"><a href="#运行-Appium" class="headerlink" title="运行 Appium"></a>运行 Appium</h3><p>拉取代码</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mkdir appium &amp;&amp; cd appium</span><br><span class="line">git clone -b v1.17.0 https://github.com/appium/appium.git v1.17.0 &amp;&amp; cd v1.17.0</span><br></pre></td></tr></table></figure>
<p>环境</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm install</span><br><span class="line">npm run build</span><br></pre></td></tr></table></figure>
<p>运行 Appium</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">node .</span><br></pre></td></tr></table></figure>
<h3 id="Hacking-on-Appium"><a href="#Hacking-on-Appium" class="headerlink" title="Hacking on Appium"></a>Hacking on Appium</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm install -g appium-doctor</span><br><span class="line">appium-doctor --dev</span><br></pre></td></tr></table></figure>
<h3 id="安装依赖"><a href="#安装依赖" class="headerlink" title="安装依赖"></a>安装依赖</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">idevicelocation</span><br></pre></td></tr></table></figure>
<h4 id="opencv4nodejs"><a href="#opencv4nodejs" class="headerlink" title="opencv4nodejs"></a>opencv4nodejs</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pyenv shell 3.6.1</span><br><span class="line">npm install -g opencv4nodejs</span><br></pre></td></tr></table></figure>
<h2 id="appium-packages"><a href="#appium-packages" class="headerlink" title="appium-packages"></a><a href="http://appium.io/docs/en/contributing-to-appium/appium-packages/" target="_blank" rel="noopener">appium-packages</a></h2><p><a href="https://github.com/appium/appium/blob/master/docs/cn/contributing-to-appium/appium-packages.md" target="_blank" rel="noopener">appium-packages 简述</a></p>
<p>Selenium Packages</p>
<p>Core Packages</p>
<p>Utility Packages</p>
<p>Android Packages</p>
<p>iOS Packages</p>
<blockquote>
<p>packages 都在 node_modules 目录下。</p>
</blockquote>
<h4 id="使用-IDE"><a href="#使用-IDE" class="headerlink" title="使用 IDE"></a>使用 IDE</h4><p>Appium 使用 Visual Studio Code 开发的，依据是 <code>.vscode</code> 目录。</p>
<h4 id="调试的配置文件"><a href="#调试的配置文件" class="headerlink" title="调试的配置文件"></a>调试的配置文件</h4><p>launch.json</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    // 使用 IntelliSense 了解相关属性。 </span><br><span class="line">    // 悬停以查看现有属性的描述。</span><br><span class="line">    // 欲了解更多信息，请访问: https://go.microsoft.com/fwlink/?linkid=830387</span><br><span class="line">    "version": "0.2.0",</span><br><span class="line">    "configurations": [</span><br><span class="line"></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">"type"</span>: <span class="string">"node"</span>,</span><br><span class="line">            <span class="attr">"request"</span>: <span class="string">"launch"</span>,</span><br><span class="line">            <span class="attr">"name"</span>: <span class="string">"Launch Program"</span>,</span><br><span class="line">            "program": "$&#123;workspaceFolder&#125;/build/lib/main.js",//package.json中的默认入口</span><br><span class="line">            "console" : "integratedTerminal"  //控制台信息的显示</span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="源码"><a href="#源码" class="headerlink" title="源码"></a>源码</h4><p><code>lib</code> 子目录是 Appium 的源码目录。而里面的 <code>main.js</code> 是 Appium 的程序入口。</p>
<p><code>lib/main.js</code>： 程序入口 <code>async function main</code></p>
<p><code>lib/appium.js</code>：方法 <code>createSession</code>,<code>executeCommand</code></p>
<p><code>node_modules/appium-base-driver/lib/protocol/route.js</code>： 方法<code>METHOD_MAP</code></p>
<p><code>node_modules/appium-base-driver/lib/protocol/protocol.js</code>：方法<code>routeConfiguringFunction</code></p>
<p><code>node_modules/appium-base-driver/lib/express/server.js</code>：方法 <code>routeConfiguringFunction</code></p>
<p><code>node_modules/appium-support/lib/logging.js</code>：方法<code>getLogger</code></p>
<p><code>lib/logger.js</code>：给Appium打印的每行日志加上<code>[Appium]</code>的前缀</p>
<p><code>node_modules/appium-base-driver/lib/basedriver/commands</code>：打印出当前sessionId创建成功</p>
<h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><p><a href="https://github.com/appium/appium/tree/master/docs/cn/contributing-to-appium" target="_blank" rel="noopener">contributing-to-appium</a></p>
<p> <a href="https://github.com/appium/appium/blob/master/docs/en/contributing-to-appium/appium-packages.md" target="_blank" rel="noopener">appium/appium-packages.md</a> </p>
<p><a href="https://testerhome.com/topics/2463" target="_blank" rel="noopener">appium 源码分析合集 (一)</a></p>
<p><a href="https://testerhome.com/wiki/developingappium" target="_blank" rel="noopener">Appium 开发环境搭建合集</a></p>
<p><a href="https://bestswifter.com/appium/" target="_blank" rel="noopener">Appium 从入门到原理</a></p>
<p><a href="https://www.cnblogs.com/wangcp-2014/p/6060019.html" target="_blank" rel="noopener">appium架构分析</a></p>
<p><a href="https://www.jianshu.com/p/5d11299f674b?utm_campaign=maleskine&amp;utm_content=note&amp;utm_medium=seo_notes&amp;utm_source=recommendation" target="_blank" rel="noopener">Appium精要之Appium的背景知识</a></p>
<p><a href="http://cming.site/2018/02/22/201802221759/" target="_blank" rel="noopener">Appium在vscode中调试说明</a></p>
<p><a href="https://blog.csdn.net/jiuzuidongpo/article/details/51790455" target="_blank" rel="noopener">appium通信分析一（appium的初始化准备工作）</a><br><a href="https://blog.csdn.net/ouyanggengcheng/article/details/85210829" target="_blank" rel="noopener">Appium基础学习之 | Bootstrap源码分析</a></p>
<p><a href="https://testerhome.com/topics/1980" target="_blank" rel="noopener">Appium 入门到原理合集</a></p>
<h3 id="Android-Bootstrap"><a href="#Android-Bootstrap" class="headerlink" title="Android Bootstrap"></a>Android Bootstrap</h3><p><a href="http://www.cnblogs.com/laoli0201/articles/4881492.html" target="_blank" rel="noopener">手机自动化测试：appium源码分析之bootstrap一</a></p>
<p><a href="https://blog.csdn.net/zhubaitian/article/details/40619777" target="_blank" rel="noopener">Appium Android Bootstrap源码分析之简介</a></p>
<p><a href="https://blog.csdn.net/qq744746842/article/details/50461988" target="_blank" rel="noopener">Appium-bootstrap远程的调试方法</a></p>
<p><a href="https://blog.csdn.net/jiuzuidongpo/article/details/51790702" target="_blank" rel="noopener">appium和boostrap通信过程数据分析</a></p>
<p><a href="https://blog.51cto.com/10988776/1726073" target="_blank" rel="noopener">手机自动化测试：appium源码分析之bootstrap 1</a></p>
<p><a href="http://skyseraph.com/2017/01/26/Android/Appuim源码剖析(Boottrap" target="_blank" rel="noopener">Appuim源码剖析(Bootstrap)</a>/)</p>
<p><a href="https://cstsinghua.github.io/2018/07/19/Appium启动和日志分析/" target="_blank" rel="noopener">启动和日志分析</a></p>
<p><a href="https://blog.csdn.net/zhubaitian/article/details/40710049" target="_blank" rel="noopener">Appium Server 源码分析之启动运行Express http服务器</a></p>
<p><a href="https://blog.csdn.net/zhubaitian/article/details/40783625" target="_blank" rel="noopener">Appium Server源码分析之作为Bootstrap客户端</a></p>
<p><a href="http://cming.site/2018/01/18/201801182037/" target="_blank" rel="noopener">基于源码分析Appium服务端启动过程</a></p>
<p><a href="https://blog.csdn.net/itfootball/article/details/44707431" target="_blank" rel="noopener">Appium源码分析(3)-路由器模块</a></p>
<p><a href="http://cming.site/2018/02/22/201802221449/" target="_blank" rel="noopener">Appium通过日志分析服务端执行过程-IOS端</a></p>

      
      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-利用-Python-的-CGIHTTPServer-测试-CGI-脚本程序" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2019/04/04/利用-Python-的-CGIHTTPServer-测试-CGI-脚本程序/" class="article-date">
      <time datetime="2019-04-04T08:54:38.000Z" itemprop="datePublished">2019-04-04</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/04/04/利用-Python-的-CGIHTTPServer-测试-CGI-脚本程序/">利用 Python 的 CGIHTTPServer 测试 CGI 脚本程序</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h2 id="Python-3"><a href="#Python-3" class="headerlink" title="Python 3"></a>Python 3</h2><p>步骤： </p>
<ol>
<li><p>新建HttpServer目录 </p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mkdir HttpServer</span><br><span class="line">cd HttpServer</span><br></pre></td></tr></table></figure>
</li>
<li><p>在HttpServer目录下新建cgi-bin目录 </p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mkdir cgi-bin</span><br><span class="line">cd cgi-bin</span><br></pre></td></tr></table></figure>
</li>
<li><p>在cgi-bin目录下新建helloworld.sh文件，内容如下：</p>
</li>
</ol>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim helloworld.sh</span><br></pre></td></tr></table></figure>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line">echo "Content-Type:text/html"</span><br><span class="line">echo ""</span><br><span class="line"></span><br><span class="line">echo "hello world!"</span><br></pre></td></tr></table></figure>
<ol start="4">
<li>在cgi-bin目录下打开命令行，执行</li>
</ol>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chmod +x helloworld.sh</span><br></pre></td></tr></table></figure>
<p>赋予helloworld.sh可执行的权限</p>
<ol start="5">
<li>在HttpServer目录下打开命令行，执行命令</li>
</ol>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python -m http.server --cgi --bind 0.0.0.0 8088</span><br></pre></td></tr></table></figure>
<blockquote>
<p>就会把HttpServer目录以后台服务的方式作为CGIHTTPServer启动，运行log可在当前目录的nohup.out文件中查看。</p>
</blockquote>
<ol start="6">
<li>打开浏览器，地址栏出入：</li>
</ol>
<p><a href="http://localhost:8088/cgi-bin/helloworld.sh" target="_blank" rel="noopener">http://localhost:8088/cgi-bin/helloworld.sh</a></p>
<p>即可看到输出的Hello World! </p>
<h2 id="Python-2"><a href="#Python-2" class="headerlink" title="Python 2"></a>Python 2</h2><p>步骤： </p>
<ol>
<li><p>新建HttpServer目录 </p>
</li>
<li><p>在HttpServer目录下新建cgi-bin目录 </p>
</li>
<li><p>在cgi-bin目录下新建helloworld.sh文件，内容如下：</p>
</li>
</ol>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line">echo "Content-Type:text/html"</span><br><span class="line">echo ""</span><br><span class="line"></span><br><span class="line">echo "hello world!"</span><br></pre></td></tr></table></figure>
<ol start="4">
<li>在cgi-bin目录下打开命令行，执行</li>
</ol>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chmod +x helloworld.sh</span><br></pre></td></tr></table></figure>
<p>赋予helloworld.sh可执行的权限</p>
<ol start="5">
<li>在HttpServer目录下打开命令行，执行命令</li>
</ol>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nohup python -m CGIHTTPServer 8088 &amp;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>就会把HttpServer目录以后台服务的方式作为CGIHTTPServer启动，运行log可在当前目录的nohup.out文件中查看。</p>
</blockquote>
<ol start="6">
<li>打开浏览器，地址栏出入：</li>
</ol>
<p><a href="http://localhost:8088/cgi-bin/helloworld.sh" target="_blank" rel="noopener">http://localhost:8088/cgi-bin/helloworld.sh</a></p>
<p>即可看到输出的Hello World! </p>
<h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><p><a href="https://blog.csdn.net/yzpbright/article/details/82626451" target="_blank" rel="noopener">利用Python的CGIHTTPServer测试CGI脚本程序</a></p>

      
      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-JForum-配置" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2019/04/01/JForum-配置/" class="article-date">
      <time datetime="2019-04-01T14:26:57.000Z" itemprop="datePublished">2019-04-01</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/04/01/JForum-配置/">JForum 配置</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h2 id="启动-MySQL"><a href="#启动-MySQL" class="headerlink" title="启动 MySQL"></a>启动 MySQL</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker pull mariadb:10.3.9</span><br></pre></td></tr></table></figure>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -p 3306:3306 -v ~/docker/mariadb:/var/lib/mysql -e TIMEZONE=Asis/Shanghai -e MYSQL_ROOT_PASSWORD=root -e SERVER_ID=1 --name mariadb-10.3.9 -d mariadb:10.3.9</span><br></pre></td></tr></table></figure>
<p>连接数据库</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql -h 127.0.0.1 -P 3306 -uroot -p</span><br></pre></td></tr></table></figure>
<p>新建 jforum 数据库</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">CREATE DATABASE jforum DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci;</span><br></pre></td></tr></table></figure>
<h2 id="启动-Tomcat"><a href="#启动-Tomcat" class="headerlink" title="启动 Tomcat"></a>启动 Tomcat</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker pull tomcat:8.5.39-alpine</span><br></pre></td></tr></table></figure>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -d --name jforum_tomcat -p 8080:8080  -v ~/docker/tomcat/webapps:/usr/local/tomcat/webapps tomcat:8.5.39-alpine</span><br></pre></td></tr></table></figure>
<p>下载 JForum 并复制 JForum 文件到 ~/docker/tomcat/webapps 目录下</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cp -r jforum ~/docker/tomcat/webapps</span><br></pre></td></tr></table></figure>
<p>修改 jforum 连接 mysql 的用户名和密码</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">jforum/WEB-INF/config/database/mysql/mysql.properties</span><br></pre></td></tr></table></figure>
<p>修改数据库引擎，查找所有的 “TYPE=InnoDB” 修改为 “ENGINE=InnoDB”。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">jforum\WEB-INF\config\database\mysql\mysql_db_struct.sql</span><br></pre></td></tr></table></figure>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker build -t jforum:2.1.9 .</span><br></pre></td></tr></table></figure>
<p>保存镜像</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker save jforum:2.1.9 -o jforum:2.1.9.tar</span><br></pre></td></tr></table></figure>
<p>加载镜像</p>
<blockquote>
<p>可以在任何装 docker 的地方加载 刚保存的镜像了。</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker load -i jforum:2.1.9.tar</span><br></pre></td></tr></table></figure>
<p>启动 jforum</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -d --name jforum-2.1.9 -p 8080:8080 --link mariadb-10.3.9:mysql jforum:2.1.9</span><br></pre></td></tr></table></figure>
<p>配置 jforum ，浏览器访问</p>
<p><a href="http://localhost:8080/jforum/install.jsp" target="_blank" rel="noopener">http://localhost:8080/jforum/install.jsp</a></p>
<h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><p><a href="https://blog.csdn.net/jhyfugug/article/details/79467369" target="_blank" rel="noopener">JForum论坛安装以及部署</a></p>

      
      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-Confluence-配置" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2019/04/01/Confluence-配置/" class="article-date">
      <time datetime="2019-04-01T09:47:51.000Z" itemprop="datePublished">2019-04-01</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/04/01/Confluence-配置/">Confluence 配置</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h3 id="MySQL-数据库默认排序"><a href="#MySQL-数据库默认排序" class="headerlink" title="MySQL 数据库默认排序"></a>MySQL 数据库默认排序</h3><blockquote>
<p><a href="https://confluence.atlassian.com/kb/how-to-fix-the-collation-and-character-set-of-a-mysql-database-744326173.html" target="_blank" rel="noopener">How to Fix the Collation and Character Set of a MySQL Database</a></p>
</blockquote>
<h3 id="Confluence-中文乱码"><a href="#Confluence-中文乱码" class="headerlink" title="Confluence 中文乱码"></a>Confluence 中文乱码</h3><blockquote>
<p><a href="https://blog.csdn.net/lovely_xinyi/article/details/45581883" target="_blank" rel="noopener">解决confluence的乱码问题</a></p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">show variables like &apos;char%&apos;;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>修改mysql安装文件夹下的my.ini文件可以解决该问题</p>
<p>[mysqld]</p>
<p>collation_server=utf8_unicode_ci</p>
<p>character_set_server=utf8</p>
</blockquote>

      
      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-群晖-NAS-使用" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2019/03/26/群晖-NAS-使用/" class="article-date">
      <time datetime="2019-03-25T23:33:25.000Z" itemprop="datePublished">2019-03-26</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/03/26/群晖-NAS-使用/">群晖 NAS 使用</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h2 id="群晖-synology-NAS-忘记-google-authenticator-二次验证密码"><a href="#群晖-synology-NAS-忘记-google-authenticator-二次验证密码" class="headerlink" title="群晖 synology NAS 忘记 google authenticator 二次验证密码"></a>群晖 synology NAS 忘记 google authenticator 二次验证密码</h2><p>登录22端口， 删除google_authenticator文件</p>
<blockquote>
<p>开启了SSH，则登录22端口， 删除google_authenticator文件</p>
</blockquote>
<p>首先通过SSH登录NAS</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh user@ip</span><br></pre></td></tr></table></figure>
<p>查找google Authenticator 参数文件。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo find /usr -name google_authenticator</span><br></pre></td></tr></table></figure>
<p>将会搜索到以下路径的google_authenticator文件。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/usr/syno/etc/preference/用户名/google_authenticator</span><br></pre></td></tr></table></figure>
<p>删除这个文件</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rm /usr/syno/etc/preference/用户名/google_authenticator</span><br></pre></td></tr></table></figure>
<p><a href="http://blog.newxd.com/7494.html" target="_blank" rel="noopener">群晖synology NAS ds 1815+忘记google authenticator二次验证密码</a></p>

      
      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-Wireshark-学习笔记" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2019/03/03/Wireshark-学习笔记/" class="article-date">
      <time datetime="2019-03-03T00:36:03.000Z" itemprop="datePublished">2019-03-03</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/03/03/Wireshark-学习笔记/">Wireshark 学习笔记</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p># </p>
<blockquote>
<p>Wireshark网络分析就这么简单-书籍</p>
</blockquote>
<h2 id="抓包"><a href="#抓包" class="headerlink" title="抓包"></a>抓包</h2><h3 id="只抓必要的包："><a href="#只抓必要的包：" class="headerlink" title="只抓必要的包："></a>只抓必要的包：</h3><p><strong>第一种</strong>：打开 Wireshark，在主界面上-&gt;Capture-&gt;using this filter（输入 <code>host www.baidu.com</code>）</p>
<p><strong>第二种</strong>：</p>
<p>Capture-&gt;Options, Capture Filter（新建 Filter，使用IP 或者域名）</p>
<p><a href="https://wiki.wireshark.org/CaptureFilters" target="_blank" rel="noopener">CaptureFilters - The Wireshark Wiki</a></p>
<p>tcpdump</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tcpdump -i eth0 host www.baidu.com -w ~/tmp/tcpdump.cap</span><br></pre></td></tr></table></figure>
<h3 id="每步操作打上标记："><a href="#每步操作打上标记：" class="headerlink" title="每步操作打上标记："></a>每步操作打上标记：</h3><p>macOS</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> -c 次数，-s 包大小</span></span><br><span class="line">ping www.baidu.com -c 1 -s 1</span><br><span class="line">ping www.baidu.com -c 1 -s 2</span><br><span class="line">ping www.baidu.com -c 1 -s 3</span><br></pre></td></tr></table></figure>
<p>Windows</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> -n 次数，-l 包大小</span></span><br><span class="line">ping www.baidu.com -n 1 -l 1</span><br><span class="line">ping www.baidu.com -n 1 -l 2</span><br><span class="line">ping www.baidu.com -n 1 -l 3</span><br></pre></td></tr></table></figure>
<h2 id="个性化设置"><a href="#个性化设置" class="headerlink" title="个性化设置"></a>个性化设置</h2><h3 id="日志时间格式"><a href="#日志时间格式" class="headerlink" title="日志时间格式"></a>日志时间格式</h3><p>View-&gt;Time Display Format-&gt;Date and Time of Day（快捷键：command+option+1）</p>
<h3 id="不同类型的网络包可以自定义颜色"><a href="#不同类型的网络包可以自定义颜色" class="headerlink" title="不同类型的网络包可以自定义颜色"></a>不同类型的网络包可以自定义颜色</h3><p>View-&gt;Coloring Rules</p>
<blockquote>
<p><strong>颜色配置</strong>可以导入/导出方便其他主机上的 Wireshark 使用。</p>
</blockquote>
<h3 id="更多的设置细节"><a href="#更多的设置细节" class="headerlink" title="更多的设置细节"></a>更多的设置细节</h3><blockquote>
<p>例如：配置 TCP 协议相关的细节。</p>
</blockquote>
<p>Preferences（快捷键：command+,）-&gt;Protocols-&gt;TCP</p>
<h3 id="抓包服务器时区不同"><a href="#抓包服务器时区不同" class="headerlink" title="抓包服务器时区不同"></a>抓包服务器时区不同</h3><p>如果你在其他时区的服务器上抓包，然后下载到自己的电脑上分析，最好把自己电脑的时区设成跟抓包的服务器一样。这样，Wireshark显示的时间才能匹配服务器上日志的时间。否则就得先换算时间。</p>
<h2 id="过滤"><a href="#过滤" class="headerlink" title="过滤"></a>过滤</h2><blockquote>
<p>很多时候，解决问题的过程就是层层过滤，直至找到关键包。前面已经介绍过抓包时的Capture Filter功能了。其实在包抓下来之后，还可以进一步过滤，而且这一层的过滤功能更加强大。</p>
</blockquote>
<p><a href="https://www.wireshark.org/docs/dfref/" target="_blank" rel="noopener">Wireshark · Display Filter Reference: Index</a></p>
<h3 id="已知协议"><a href="#已知协议" class="headerlink" title="已知协议"></a>已知协议</h3><p>如果已知某个协议发生问题，可以用协议名称过滤一下，那么就在 Filter 框输入 <code>http</code> 为关键字过滤。</p>
<h4 id="协议之间依赖关系"><a href="#协议之间依赖关系" class="headerlink" title="协议之间依赖关系"></a>协议之间依赖关系</h4><p>用协议过滤时务必考虑到协议间的依赖性。比如NFS共享挂载失败，问题可能发生在挂载时所用的mount协议，也可能发生在mount之前的portmap协议。这种情况下就需要用 <code>portmap || mount</code>来过滤了。</p>
<h3 id="IP-地址加-port-号"><a href="#IP-地址加-port-号" class="headerlink" title="IP 地址加 port 号"></a>IP 地址加 port 号</h3><blockquote>
<p>Wireshark是按照什么过滤出一个TCP/UDP Stream的？答案就是：两端的IP加port。单击Wireshark的Statistics–&gt;Conversations，再单击TCP或者UDP标签就可以看到所有的Stream</p>
</blockquote>
<h4 id="手工输入"><a href="#手工输入" class="headerlink" title="手工输入"></a><strong>手工输入</strong></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">ip.addr==10.8.7.214</span><br><span class="line">ip.addr eq 10.8.7.214</span><br><span class="line"></span><br><span class="line">tcp.port==443</span><br><span class="line">tcp.port eq 443</span><br></pre></td></tr></table></figure>
<h4 id="自动追踪-（Follow-TCP-UDP-Stream）"><a href="#自动追踪-（Follow-TCP-UDP-Stream）" class="headerlink" title="自动追踪 （Follow TCP/UDP Stream）"></a><strong>自动追踪</strong> （Follow TCP/UDP Stream）</h4><p>鼠标右键要追踪的包-&gt;Follow-&gt;TCP Stream（快捷键：option+shift+command+T ）</p>
<h3 id="用鼠标帮助过滤"><a href="#用鼠标帮助过滤" class="headerlink" title="用鼠标帮助过滤"></a>用鼠标帮助过滤</h3><blockquote>
<p>我们有时因为Wireshark而苦恼，并不是因为它功能不够，而是强大到难以驾驭。比如在过滤时，有成千上万的条件可供选择，但怎么写才是合乎语法的？</p>
</blockquote>
<ul>
<li><p>右键单击Wireshark上感兴趣的内容，然后选择Prepare a Filter–&gt;Selected，就会在Filter框中自动生成过滤表达式。在有复杂需求的时候，还可以选择And、Or等选项来生成一个组合的过滤表达式。</p>
</li>
<li><p>假如右键单击之后选择的不是Prepare a Filter，而是Apply as Filter–&gt;Selected，则该过滤表达式生成之后还会自动执行。图12显示了在一个SMB包的SMB Command: Read AndX上右键单击，并选择Selected之后，所有的Read包都会被过滤出来。</p>
</li>
</ul>
<h3 id="过滤后得到的网络包存到一个新的文件"><a href="#过滤后得到的网络包存到一个新的文件" class="headerlink" title="过滤后得到的网络包存到一个新的文件"></a>过滤后得到的网络包存到一个新的文件</h3><p>我们可以把过滤后得到的网络包存在一个新的文件里，因为小文件更方便操作。单击Wireshark的 File–&gt;Export Specified Packets，得到的新文件就是过滤后的部分。</p>
<h2 id="让Wireshark自动分析"><a href="#让Wireshark自动分析" class="headerlink" title="让Wireshark自动分析"></a>让Wireshark自动分析</h2><h3 id="Export-Information"><a href="#Export-Information" class="headerlink" title="Export Information"></a>Export Information</h3><p>单击Wireshark的Analyze–&gt;Expert Infomation，就可以在不同标签下看到不同级别的提示信息。比如重传的统计、连接的建立和重置统计，等等。在分析网络性能和连接问题时，我们经常需要借助这个功能。</p>
<h3 id="Service-Response-Time"><a href="#Service-Response-Time" class="headerlink" title="Service Response Time"></a>Service Response Time</h3><p>单击Statistics–&gt;Service Response Time-&gt;再选定协议名称，可以得到响应时间的统计表。我们在衡量服务器性能时经常需要此统计结果。</p>
<blockquote>
<p>支持 AFP，LDAP，SCSI，SMB，SMB 协议。其他的协议没有见过。</p>
</blockquote>
<h3 id="TCP-Stream-Graph"><a href="#TCP-Stream-Graph" class="headerlink" title="TCP Stream Graph"></a>TCP Stream Graph</h3><p>单击Statistics–&gt;TCP Stream Graph，可以生成几类统计图。</p>
<blockquote>
<p>为什么Wireshark要把这个图称为“Stevens”呢？我猜是为了向《TCP/IP Illustrated》的作者Richard Stevens致敬。这也是我非常喜欢的一套书，在此推荐给所有读者。</p>
</blockquote>
<h3 id="I-O-Graph"><a href="#I-O-Graph" class="headerlink" title="I/O Graph"></a>I/O Graph</h3><p>单击Statistics-&gt;I/O Graph，可以看到一些统计信息，比如平均流量等，这有助于我们推测负载状况。</p>
<h2 id="搜索功能"><a href="#搜索功能" class="headerlink" title="搜索功能"></a>搜索功能</h2><p>与很多软件一样，Wireshark也可以通过 “Ctrl+F”（command+F）搜索关键字。假如我们怀疑包里含有“error”一词，就可以按下 “Ctrl+F” 之后选中 <code>String</code> 单选按钮，然后在 Filter 中输入 <code>error</code> 进行搜索很多应用层的错误都可以靠这个方法锁定问题包。</p>
<blockquote>
<p>一篇文章不可能涵盖所有技巧，本文就到此为止。最后要分享的，是我认为最“笨”但也是最重要的一个技巧——勤加练习。只要练到这些技巧都变成习惯，就可以算登堂入室了。</p>
</blockquote>
<blockquote>
<p>2011年Wireshark在SecTools排行第一，2012年被Insecure.org评为“No. 1 Packet Sniffers”。美国的技术作家们开始为它著书立说，中国的出版社也在引进（比如人民邮电出版社引进出版的《Wireshark数据包分析实战（第2版）》）。值得一提的是，CACE后来被Riverbed收购了，Riverbed成了Wireshark项目的赞助商。很多中国工程师可能觉得Riverbed名不见经传，但说到Linux里常用的tcpdump命令就不会陌生。tcpdump的开发者之一Steve McCanne就是Riverbed的CTO。而WinPcap的开发者Loris Degioanni也在Riverbed工作。似乎冥冥之中自有天意，Riverbed把网络探测界的先锋们聚到了一起。我们要向Riverbed致敬，多亏了这些伟大的工具，我们才得以窥探网络的秘密。</p>
</blockquote>
<h2 id="庖丁解牛"><a href="#庖丁解牛" class="headerlink" title="庖丁解牛"></a>庖丁解牛</h2><h3 id="NFS-协议的解析"><a href="#NFS-协议的解析" class="headerlink" title="NFS 协议的解析"></a>NFS 协议的解析</h3><p>Filter：<code>portmap || mount || nfs</code></p>
<blockquote>
<p>NFS对客户端的访问控制是通过IP地址实现的。创建共享目录时可以指定哪些IP允许读写，哪些IP只允许读，还有哪些IP连挂载都不允许。虽然配置不难，但这方面出的问题往往很“诡异”，没有Wireshark是几乎无法排查的。比如，我碰到过一台客户端的IP明明已经加到允许读写的列表里，结果却只能读。这个问题难住了很多工程师，因为在客户端和服务器上都找不到原因。后来我们在服务器上抓了个包，才知道在收到的包里，客户端的IP已经被NAT设备转换成别的了。 </p>
</blockquote>
<h3 id="HTTP-协议"><a href="#HTTP-协议" class="headerlink" title="HTTP 协议"></a>HTTP 协议</h3><h3 id="HTTPS-协议解密"><a href="#HTTPS-协议解密" class="headerlink" title="HTTPS 协议解密"></a>HTTPS 协议解密</h3><blockquote>
<p>通过浏览器保存的TLS 会话中使用的对称密钥来进行数据解密。</p>
</blockquote>
<p><strong>Wireshark 的抓包原理是直接读取并分析网卡数据，要想让它解密 HTTPS 流量，有两个办法：</strong></p>
<p>1）如果拥有 HTTPS 网站的加密私钥，可以用来解密这个网站的加密流量；</p>
<p>2）某些浏览器支持将 TLS 会话中使用的对称加密密钥保存在外部文件中，可供 Wireshark 解密之用。</p>
<p><a href="http://www.rfc-editor.org/info/rfc2616" target="_blank" rel="noopener">TLS/SSL抓包常见方法(一)</a></p>
<p><a href="https://www.jianshu.com/p/83551b91e9a2" target="_blank" rel="noopener">HTTP/2 流量调试</a></p>
<p><a href="https://www.cnblogs.com/aucy/p/9082429.html" target="_blank" rel="noopener">Wireshark解密HTTPS数据流</a></p>
<p>macOS</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">touch ~/tmp/sslkeylog.log</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 设置环境变量</span></span><br><span class="line">export SSLKEYLOGFILE=~/tmp/sslkeylog.log</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 查看变量是否生效</span></span><br><span class="line">echo $SSLKEYLOGFILE</span><br></pre></td></tr></table></figure>
<p>Preferences-&gt;Protocols-&gt;SSL</p>
<p>SSL debug file: <code>cat ~/tmp/ssl.log</code></p>
<p>(Pre)-Master-Secret log filename: <code>~/tmp/sslkeylog.log</code></p>
<p><strong>启动 Wireshark</strong>: filter<code>host pan.baidu.com and tcp port 443</code></p>
<p><strong>启动 Chrome</strong>：<code>open /Applications/Google\ Chrome.app</code></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cat ~/tmp/sslkeylog.log</span><br><span class="line">cat ~/tmp/ssl.log</span><br></pre></td></tr></table></figure>
<blockquote>
<p>Life is tough, but Wireshark makes it easy.</p>
</blockquote>
<p>SACK</p>
<h2 id="tshark"><a href="#tshark" class="headerlink" title="tshark"></a>tshark</h2><blockquote>
<p>macOS 下安装 Wireshark的时候,默认会附带 tshark、capinfos 和 editcap 等工具。</p>
</blockquote>
<p><a href="https://www.wireshark.org/docs/man-pages/tshark.html" target="_blank" rel="noopener">tshark - The Wireshark Network Analyzer 3.0.0</a> </p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tshark -n -r &lt;tcpdump name&gt; -z 'proto, colinfo, frame.time_relative, frame.time_relative' -z 'proto, colinfo, tcp.ack &amp;&amp; (tcp.srcport == &lt;source port&gt; &amp;&amp; tcp.dstport == &lt;destination _port&gt;),tcp.ack' -z 'proto, colinfo, tcp.window_size &amp;&amp; (tcp.srcport == &lt;source_ port&gt; &amp;&amp; tcp.dstport == &lt;destination port&gt;), tcp.window_size'|awk -f &lt;script&gt;</span><br></pre></td></tr></table></figure>
<p>tshark输出的分析文本大多可以直接写入分析报告中,而 Wireshark生成不了这样的报告。比如说,我想统计每一秒钟里CIFS操作的 Service Response Time,那只要执行以下命令就可以了。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tshark -n -q -r tcpdump.cap -z "io, stat, 1.00, AVG(smb.time)smb.time"</span><br></pre></td></tr></table></figure>
<p>和其他软件一样,命令行往往比图形界面快得多。比如现在有一个很大的包需要用IP192.168.1.134过滤,用 Wireshark操作的话先得打开包,再用ip.adr=192.168.1.134过滤,最后保存结果。这三个步骤都很费时,但是tshark用下面一条命令就可以完成了。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tshark -r tcpdump log -R "ip.addr==192.168.1.134 -w tcpdump.log.filtered</span><br></pre></td></tr></table></figure>
<p>重传状况要用到 <code>tcp.analysis.retransmission</code> 命令,包括了超时重传和快速重传两种情况。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tshark -n -a -r retran.cap -z "io, stat, 0, tcp.analysis.retransmission"</span><br></pre></td></tr></table></figure>
<blockquote>
<p>乱序状况则只要把“ retransmission”改成” out_of_order”</p>
</blockquote>
<p>如何统计一个包里的所有对话? <code>conv,xxx</code> 就可以做到,其中xxx可以是tcp、udp、eth或者ip。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tshark -n -q -r retran.cap -z "conv, tcp"</span><br></pre></td></tr></table></figure>
<p>如果一个包大得连 tshark都无法打开,有没有办法切分成多个? 有办法,可以使用 editar命令来做到。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 每8秒为间隔切分了这个包</span></span><br><span class="line">editcap &lt;input file&gt; &lt;output file&gt; -i &lt;seconds per file&gt;</span><br><span class="line">editcap retran.cap output.cap -i 8</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> </span></span><br><span class="line">editcap &lt; input file&gt; &lt;output file&gt; -c &lt;packets per file&gt;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>除了这里介绍的这些, tshark下的网络分析技巧还有很多。利用管道( Pipeline) 还可以结合awk、sed等命令实现更为强大的功能,值得每位工程师长期学习。如果学习过程中遇到任何问题,建议查询 Wireshark的官方说明,地址为 <a href="https://www.wireshark.org/docs/man-pages/tshark.html" target="_blank" rel="noopener">tshark - The Wireshark Network Analyzer 3.0.0</a> 。就算我这样的老用户还经常能从中学到新知识呢。</p>
</blockquote>
<h2 id="一个技术男的自白"><a href="#一个技术男的自白" class="headerlink" title="一个技术男的自白"></a>一个技术男的自白</h2><p>​    当我在台灯下写到这一篇时,不由得想到几个月后,另一束灯光下的读者正翻到这一页,跨越时空的交流真是奇妙。我要感谢你购买本书并坚持读到这里。作为小众图书的作者,我最珍视的是读者对本书内容的喜爱,也希望你在阅读中有所收获。最后一篇,就让我们忘记那些乏味的术语,谈些有趣一点的话题吧。</p>
<p>​    关于技术,当下的热点是 Full Stack Engineer,翻译过来就是全栈工程师。我的理解就是从前端到后端,从软件到硬件都懂的通才。其实在全栈的概念出现之前,关于技术广度和深度的讨论就从来没有停止过。在时间有限的情况下,究竟是应该扩展广度,各种技术都去涉猎,还是把所有精力都投入在一门技术上呢? 我个人更倾向于后者,因为当某项技术学到了较深的程度后,眼界就不一样了, 再学其他的技术也容易达到类似境界。以本书提到的协议为例,如果你已经精通CIFS,那很可能稍加点拨就能完全理解NFS；同样如果你理解了网络的分层和流控,再学习存储的层次和缓存也比较容易。但假如一个人连最擅长的技术都浅尝辄止,那学习其他技术也会停留在表面上。我有位技术出色的朋友用过一个生动的比喻来说明这个问题；技术深度和广度的关系,就像登山时的高度和视野。假如你爬到半山腰就停下来眺望,就只能看到一半的视野;但如果埋头爬到山顶, 抬头便是无边的风景。</p>
<p>​    关于薪水,是很多工程师自怨自艾的口水话题。不知道从何时开始,大家似平都觉得自己被亏待了。微博上流传各种自嘲的段子,比如“今天你编程时流的汗,就是当初填志愿时脑子进的水”;我也曾经开玩笑说自己的英文名是“Low Payman”;我有位年薪40多万的同事,MSN签名是“少壮不努力,老大干I”还有一种流行的说法,认为在中国不适合走技术路线,否则为什么在国外才有白发苍苍的老工程师?看过太多类似段子之后,我觉得这种群体心态已经有点矫情了。无论在什么国家,工程师都排不上收入最高的群体。相比国外,中国工程地位已经算高了,比如美国工程师的收入就完全比不上律师和医生等职业,但在中国就未必是这样。中国也不是没有老工程师的发展空间,而是因为第一批工程师还没有变老。热爱自嘲的人其实也心知肚明一一他们的薪水完全足以维持体面的生活,比如那位“少壮不努力”的同学,一直在上海这个大染缸过着纸醉金迷的日子。而真正徒伤悲的职业,恐怕根本没有心情自我编排……我认为自明是种难得的幽默,但是当一个群体的自嘲都专注在薪水上,听上去就有点无聊。</p>
<p>​    关于办公室政治,那真不是属于我们的战场。孟子的“劳心者治人,劳力者治于人”对中国影响太过深远,我不止一位朋友从技术路线改走管理路线的时候, 以这句话作为座右铭。而在我看来,自从人类进化到可以坐在办公室里“劳力”之后,“劳心”就缺乏吸引力了。人类比电脑狡诈太多,还是管电脑省心。我们就把办公室政治这样劳心的活儿留给走管理路线的同事吧,只要不站队不说是非, 用技术帮助所有人,自然会成为单位里最受尊敬的人。</p>
<p>​    关于创业,我想没有哪个行业比IT界更热衷于此了。或许是因为这一行有过太多轻易成功的故事,所以工程师们蠢蠢欲动,仿佛每个人都在想,连一个毫无技术含量的导航网站都能被高价收购,满腹才华的我能干出怎样惊天动地的事业?于是有志者开始对职业不满,觉得无论如何应该出去闯闯,寻找自己被封印的灵魂,他们振臂一挥,豪气万丈地说“走,创业去!”其实我个人是非常羡慕这样充满激情的人生的,无奈看过太多失败的例子,总觉得创业的成功率被高估。有位朋友到福建承包一片山林之后,很快发现这东西并没有想象中那么赚钱。终于在花光所有积蓄之后,萌发了“不如归去”的念头。虽然听上去颇有禅意,其实心里还是很懊悔的,最后不仅回到原来公司,还坐到原来的位子上。当然成功者也是有的,不要妒嫉他们,因为这是冒着风险得到的。<br>​    关于跳槽,除了印度之外,我还没有见过比中国工程师更爱跳槽的群体。由于每跳槽一次基本能加薪30%,的确让人难以淡定地呆在一个岗位上。不过在我看来,频繁跳槽所付出的代价恐怕高于这点收益,因为很快就会发现无处可跳了。而且更大的副作用是,多次换工作导致了各种技术都只学到皮毛,等醒悟过来已经晚了。如果某个新职位吸引你的亮点只是加薪,我建议三思而行。</p>
<p>​    关于理科生的骄做,在工程师群体中,有小部分年轻人至今还保持着源自高中理科班的自豪感。比如看到一本精彩的科幻小说,便觉得文科生不可能懂:如果新来的领导不是理工科出身,就感叹所处的并非技术驱动型公司:最让我吃惊的一次,是一位DBA质疑不懂技术的销售人员为什么地位那么高。这种错误的认知显然源于交际圈子的狭隘,对非技术人员的能力缺乏了解。其实你在调试代码时,他们同样在推敲文案;你在餐桌上只管品菜海侃,他们却要左右逢源,让所有宾客感到满意；你结交朋友只看心情喜好,他们在朋友圈里只说“正确”的话,永水远如沐春风地倾听;你在内部会议上发言都显拘谨,他们面对突如其来的话筒也能侃侃而谈……毫无疑问,非技术工作的“技术含量”一点都不低。幸好随着阅历的增长,大多数理科生都能改掉这个毛病。</p>
<p>​    关于生活,IT男们已经被打上了太多标签:宅、木讷、生活简单。这当然是种偏见,至少我身边的朋友就不是这样。不过比起国外的工程师群体,我们的业余生活似乎是单调了些。比如与我合作多年的国外同事中,有组乐队的、当冰球教练的、玩帆船的、DIY花园的……有些朋友对此羡慕不已,以为发达国家才玩得起多样化的娱乐,对此我不敢苟同。比如中国学习乐器的人数早就全球第一，在我屈指可数的女同事中,至少有三位在小时候考过钢琴十级。我所住的小区楼都配有朝南的大院子,园艺条件极佳,只是户户都铺砖硬化了…所以细想起来,经济上并不是主因,只是不够热情罢了。工程师本来就是最擅长DIY的群体, 只要行动起来,完全可以让业余生活更加丰富,成为一个更加有趣的人。</p>

      
      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/网络/">网络</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
  
    <nav id="page-nav">
      <a class="extend prev" rel="prev" href="/page/2/">&laquo; Prev</a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><span class="page-number current">3</span><a class="page-number" href="/page/4/">4</a><a class="page-number" href="/page/5/">5</a><span class="space">&hellip;</span><a class="page-number" href="/page/45/">45</a><a class="extend next" rel="next" href="/page/4/">Next &raquo;</a>
    </nav>
  
</div>
      <footer id="footer">
    <div class="outer">
        <div id="footer-info">
            <div class="footer-left">
                &copy; 2020 幻舞梦境
            </div>
            <div class="footer-right">
                <a href="http://hexo.io/" target="_blank">Hexo</a>  Theme <a href="https://github.com/luuman/hexo-theme-spfk" target="_blank">spfk</a> by luuman
            </div>
        </div>
        
            <div class="visit">
                
                    <span id="busuanzi_container_site_pv" style='display:none'>
                        <span id="site-visit" >海贼到访数: 
                            <span id="busuanzi_value_site_uv"></span>
                        </span>
                    </span>
                
                
                    <span>, </span>
                
                
                    <span id="busuanzi_container_page_pv" style='display:none'>
                        <span id="page-visit">本页阅读量: 
                            <span id="busuanzi_value_page_pv"></span>
                        </span>
                    </span>
                
            </div>
        
    </div>
</footer>

    </div>
    <script src="https://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js"></script>
<script src="/js/main.js"></script>

    <script>
        $(document).ready(function() {
            var backgroundnum = 24;
            var backgroundimg = "url(/background/bg-x.jpg)".replace(/x/gi, Math.ceil(Math.random() * backgroundnum));
            $("#mobile-nav").css({"background-image": backgroundimg,"background-size": "cover","background-position": "center"});
            $(".left-col").css({"background-image": backgroundimg,"background-size": "cover","background-position": "center"});
        })
    </script>


<!-- Google Analytics -->
<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-39498261-3', 'auto');
ga('send', 'pageview');

</script>
<!-- End Google Analytics -->



	<script>
	var _hmt = _hmt || [];
	(function() {
	  var hm = document.createElement("script");
	  hm.src = "//hm.baidu.com/hm.js?1bb44bf25fea8f000a1397f9b5438de7";
	  var s = document.getElementsByTagName("script")[0]; 
	  s.parentNode.insertBefore(hm, s);
	})();
	</script>


<div class="scroll" id="scroll">
    <a href="#"><i class="fa fa-arrow-up"></i></a>
    <a href="#comments"><i class="fa fa-comments-o"></i></a>
    <a href="#footer"><i class="fa fa-arrow-down"></i></a>
</div>
<script>
    $(document).ready(function() {
        if ($("#comments").length < 1) {
            $("#scroll > a:nth-child(2)").hide();
        };
    })
</script>

<script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
</script>

  <script language="javascript">
    $(function() {
        $("a[title]").each(function() {
            var a = $(this);
            var title = a.attr('title');
            if (title == undefined || title == "") return;
            a.data('title', title).removeAttr('title').hover(

            function() {
                var offset = a.offset();
                $("<div id=\"anchortitlecontainer\"></div>").appendTo($("body")).html(title).css({
                    top: offset.top - a.outerHeight() - 15,
                    left: offset.left + a.outerWidth()/2 + 1
                }).fadeIn(function() {
                    var pop = $(this);
                    setTimeout(function() {
                        pop.remove();
                    }, pop.text().length * 800);
                });
            }, function() {
                $("#anchortitlecontainer").remove();
            });
        });
    });
</script>


  </div>
</body>
</html>